System.register("chunks:///_virtual/AdManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLSDK.ts","./LoadingMask.ts","./Tips.ts"],(function(e){var n,t,o,i,a;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){o=e.TLSdk},function(e){i=e.default},function(e){a=e.Tips}],execute:function(){var s;t._RF.push({},"f99bbb8yLFEu6DPCeLP5ueU","AdManager",void 0);var l=e("AdManager",function(){function e(){this.ventors=void 0,this.adinfo=void 0,this.maxCountPerDay=void 0,this.adSetTimeId=null,this.onCompleteCb=void 0}var t=e.prototype;return t.Init=function(){},t.ShowBannerAD=function(){console.log("TLSdk Show Banner ad with  "),o.ShowBanner()},t.HideBannerAD=function(){console.log("TLSdk Hide Banner ad with  "),o.HideBanner()},t.ShowInterstitialAD=function(){console.log("TLSdk Hide Banner ad with  "),o.ShowInterstitial()},t.PlayAD=function(e){var n=this;void 0===e&&(e=null),!0===o.PlayAD()?(this.onCompleteCb=e,i.Show(),this.adSetTimeId=setTimeout((function(){n.onCompleteCb=null,i.Hide()}),15e3)):null!=e&&a.instance.ShowTips(10148)},t.AdCallback=function(e){console.log("ad callback msg: ",e.msg);var n=e.errcode;if(console.log(n,typeof n),null!=this.adSetTimeId&&(clearTimeout(this.adSetTimeId),this.adSetTimeId=null),"1"==e.errcode){var t,o=!1;console.log("ad closed rewardadsucess = 2 "+e.rewardadsucess),"true"==e.rewardadsucess&&(o=!0),null==(t=this.onCompleteCb)||t.call(this,o),this.onCompleteCb=null}else"2"==e.errcode?a.instance.ShowTips(10148):e.errcode;i.Hide()},n(e,null,[{key:"instance",get:function(){return this._instance}}]),e}());s=l,l._instance=new s,l.ADKEY="ad_infos",l.AD_PLAY_TIME_KEY="ad_play_start_time",l.AD_PLAY_TIME_OUT=3600,t._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(r){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"ee06eNMNPhE+q0m3yr8zSZC","ArrayUtil",void 0);r("ArrayUtil",function(){function r(){}return r.noRepeated=function(r){for(var n=[r[0]],t=1;t<r.length;t++){for(var e=!1,o=0;o<n.length;o++)if(r[t]==n[o]){e=!0;break}e||n.push(r[t])}return n},r.copy2DArray=function(r){for(var n=[],t=0;t<r.length;t++)n.push(r[t].concat());return n},r.fisherYatesShuffle=function(r){for(var n=r.length;n;){var t=Math.floor(Math.random()*n--),e=r[n];r[n]=r[t],r[t]=e}return r},r.confound=function(r){return r.slice().sort((function(){return Math.random()-.5}))},r.flattening=function(r){for(;r.some((function(r){return Array.isArray(r)}));)r=[].concat.apply([],r);return r},r.removeItem=function(r,n){for(var t=r.concat(),e=0;e<t.length;e++){if(n==t[e]){r.splice(e,1);break}}},r.combineArrays=function(r,n){return[].concat(r,n)},r.getRandomValueInArray=function(r){return r[Math.floor(Math.random()*r.length)]},r.removeRepeatItemFromArr=function(r,n){var t=new Set(n);return Array.from(new Set(r.filter((function(r){return!t.has(r)}))))},r}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts"],(function(i){var o,e,t,n,u,r,s,l,c,a;return{setters:[function(i){o=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){u=i.cclegacy,r=i._decorator,s=i.AudioClip,l=i.AudioSource,c=i.Component},function(i){a=i.default}],execute:function(){var p,h,d,f,y,S,v,g,m,b,A;u._RF.push({},"edc9e0qQ9lHRomNUUUii8cb","AudioController",void 0);var E=r.ccclass,D=r.property;i("AudioController",(p=E("AudioController"),h=D({type:[s]}),d=D({type:[s]}),f=D({type:[s],group:{name:"streak",id:"2",displayOrder:1}}),y=D(l),p((g=o((v=function(i){function o(){for(var o,e=arguments.length,u=new Array(e),r=0;r<e;r++)u[r]=arguments[r];return o=i.call.apply(i,[this].concat(u))||this,t(o,"clips",g,n(o)),t(o,"clips2",m,n(o)),t(o,"clips3",b,n(o)),t(o,"audioSource",A,n(o)),o}e(o,i);var u=o.prototype;return u.play=function(i,o){if(i>=0){var e=i%this.clips.length;this.audioSource.clip=this.clips[e],this.audioSource.loop=o,this.audioSource.volume=a.audioMgr.musicVolume,this.audioSource.play()}},u.stop=function(i){if(i||i>=0){var o=i%this.clips.length;this.audioSource.clip==this.clips[o]&&this.audioSource.stop()}else this.audioSource.stop()},u.playOneShot=function(i){if(i>=0){var o=i%this.clips.length;this.audioSource.volume=a.audioMgr.soundVolume,this.audioSource.playOneShot(this.clips[o])}},u.playClipsAux=function(i){if(i>=0){var o=i%this.clips2.length;this.audioSource.volume=a.audioMgr.soundVolume,this.audioSource.playOneShot(this.clips2[o])}},u.playClipsStreak=function(i){if(i>=0){var o=i%this.clips3.length;this.audioSource.volume=a.audioMgr.soundVolume,this.audioSource.playOneShot(this.clips3[o])}},u.onPlay=function(){console.log("Music started playing")},u.onFinish=function(){var i=this;console.log("Music finished playing");var o=this.clips.indexOf(this.audioSource.clip);2==o&&(o=-1),o++,this.scheduleOnce((function(){i.play(o,!1)}),10)},u.setupListeners=function(){this.audioSource&&(this.audioSource.node.on(l.EventType.STARTED,this.onPlay,this),this.audioSource.node.on(l.EventType.ENDED,this.onFinish,this))},u.removeListeners=function(){this.audioSource&&(this.node.off(l.EventType.STARTED,this.onPlay,this),this.node.off(l.EventType.ENDED,this.onFinish,this))},o}(c)).prototype,"clips",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=o(v.prototype,"clips2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=o(v.prototype,"clips3",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=o(v.prototype,"audioSource",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v))||S));u._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts","./Facade.ts","./FrameDefine.ts","./ResManager.ts"],(function(o){var u,e,t,i,n,s,a,l,d,c,r;return{setters:[function(o){u=o.createForOfIteratorHelperLoose,e=o.createClass},function(o){t=o.cclegacy,i=o.Node,n=o.director,s=o.AudioSource,a=o.AudioClip},function(o){l=o.default},function(o){d=o.default},function(o){c=o.GameEvent},function(o){r=o.ResManager}],execute:function(){t._RF.push({},"3877bo406BJ5pUN30V5/ZHD","AudioManager",void 0);var h=o("AudioManager",function(){function o(){this._soundAudioSource=void 0,this._musicAudioSource=void 0,this._soundBattleMap=void 0,this._soundVolume=void 0,this._musicVolume=void 0,this._tagToAudioName=void 0,this._nameToClips=void 0,this._tagToRndGroup=new Map,this._tagToAudioName=new Map,this._nameToClips=new Map,this._soundBattleMap=new Map}var t=o.prototype;return t.Init=function(){var u=new i;u.name="__AudioManager__",n.getScene().addChild(u),n.addPersistRootNode(u),this._soundAudioSource=u.addComponent(s),this._musicAudioSource=u.addComponent(s);var e=l.localStorage.Get(o.SOUND_VOLUME_KEY);this._soundVolume=null==e?o._defaultSoundVolume:parseFloat(e),this._soundAudioSource.volume=this._soundVolume;var t=l.localStorage.Get(o.MUSIC_VOLUME_KEY);this._musicVolume=null==t?o._defaultMusicVolume:parseFloat(t),this._musicAudioSource.volume=this._musicVolume,this._soundBattleMap&&this._soundBattleMap.size>0&&this.DeleteAllSoundByLoop(),this._soundBattleMap=new Map},t.Add=function(o,u){this._nameToClips.set(o,u)},t.AddToRandGroup=function(o,u,e){null!=u&&this._nameToClips.set(o,u);var t=this._tagToRndGroup.get(e);if(null==t)t=[],this._tagToRndGroup.set(e,t),t.push(o);else{for(var i=0;i<t.length;i++)if(t[i]===o)return;t.push(o)}},t.RemoveFromRandGroup=function(o,u){this._nameToClips.delete(o);var e=this._tagToRndGroup.get(u);if(!(null==e||e.length<=0))for(var t=e.length-1;t>=0;t--)if(e[t]==o){e.splice(t,1);break}},t.RemoveRandGroup=function(o){var u=this._tagToRndGroup.get(o);if(!(null==u||u.length<=0)){for(var e=u.length-1;e>=0;e--)this._nameToClips.delete(u[e]);this._tagToRndGroup.delete(o)}},t.PlayRandomGroup=function(o,u){if(void 0===u&&(u=""),""==u){var e=this._tagToRndGroup.get(o);if(null==e||e.length<=0)return;var t=e[Math.floor(Math.random()*e.length)],i=this._nameToClips.get(t);i?this.playSound(i,this.soundVolume):this.playSound(t,this.soundVolume)}else{this.AddToRandGroup(u,null,o);var n=this._nameToClips.get(u);n?this.playSound(n,this.soundVolume):this.playSound(u,this.soundVolume)}},t.GetRandomSoundByGroup=function(o){var u=this._tagToRndGroup.get(o);if(!(null==u||u.length<=0))return u[Math.floor(Math.random()*u.length)]},t.playSoundByTag=function(o,u){void 0===u&&(u="resources");var e=this._tagToAudioName.get(o);e&&e.length>=0?this.playSoundByName(e,u):this.playSoundByName("click_common",u)},t.playMusicByTag=function(o,u,e){void 0===u&&(u=!0),void 0===e&&(e="resources");var t=this._tagToAudioName.get(o);t&&t.length>=0&&this.playMusicByName(t,u,e)},t.playSoundByName=function(o,u){if(void 0===u&&(u="sound"),o&&o.length>=0){var e=this._nameToClips.get(o);e?this.playSound(e,this._soundVolume,u):this.playSound(o,this._soundVolume,u)}},t.playMusicByName=function(o,u,e){if(void 0===u&&(u=!0),void 0===e&&(e="sound"),o&&o.length>=0){var t=this._nameToClips.get(o);t?(this.setLoop(u),this.playMusic(t,this._musicVolume,e)):(this.setLoop(u),this.playMusic(o,this._musicVolume,e))}},t.PlaySoundByKeyLoop=function(o,u,e,t){var i=this;if(void 0===e&&(e=0),void 0===t&&(t="sound"),!(o.length<=0||u.length<=0)){var n="";if(0==e?n="sound/"+u:1==e&&(n=this.GetRandomSoundByGroup(u)),""!=n){var a=this._soundBattleMap.get(o);null==a&&(a=new s,this._soundBattleMap.set(o,a)),a.loop=!0;var l=this._nameToClips.get(n);l?(a.stop(),a.clip=l,a.volume=this._soundVolume,a.play()):r.loadBundle(t,(function(o,u){u&&u.load(n,(function(o,u){o?console.log(o):u&&(i._nameToClips.set(n,u),a&&(a.stop(),a.clip=u,a.volume=i._soundVolume,a.play()))}))}))}}},t.StopSoundByKeyLoop=function(o){if(!(o.length<=0)){var u=this._soundBattleMap.get(o);u&&u.stop()}},t.DeleteSoundByKeyLoop=function(o){if(!(o.length<=0)){var u=this._soundBattleMap.get(o);u&&(u.stop(),this._soundBattleMap.delete(o))}},t.DeleteAllSoundByLoop=function(){if(!(this._soundBattleMap.size<=0)){for(var o,e=u(this._soundBattleMap);!(o=e()).done;){var t=o.value;t[0];t[1].stop()}this._soundBattleMap.clear()}},t.playSound=function(o,u,e){var t=this;if(void 0===u&&(u=1),void 0===e&&(e="sound"),o instanceof a)this._soundAudioSource.playOneShot(o,u);else{var i=this._nameToClips.get(o);i?this._soundAudioSource.playOneShot(i,u):r.loadBundle(e,(function(e,i){i&&i.load(o,(function(e,i){e?console.log(e):(t._nameToClips.set(o,i),t._soundAudioSource.playOneShot(i,u))}))}))}},t.playMusic=function(o,u,e){var t=this;void 0===u&&(u=1),void 0===e&&(e="sound"),o instanceof a?(this._musicAudioSource.stop(),this._musicAudioSource.clip=o,this._musicAudioSource.loop=!0,this._musicAudioSource.play(),this._musicAudioSource.volume=u/2):r.loadBundle(e,(function(e,i){i&&i.load(o,(function(o,e){o?console.log(o):(t._musicAudioSource.stop(),t._musicAudioSource.clip=e,t._musicAudioSource.loop=!0,t._musicAudioSource.play(),t._musicAudioSource.volume=u/2)}))}))},t.stop=function(){this._musicAudioSource.stop()},t.pause=function(){this._musicAudioSource.pause()},t.resume=function(){this._musicAudioSource.play()},t.setLoop=function(o){this._musicAudioSource.loop=o},e(o,[{key:"soundAudioSource",get:function(){return this._soundAudioSource}},{key:"musicAudioSource",get:function(){return this._musicAudioSource}},{key:"soundVolume",get:function(){return this._soundVolume},set:function(u){this._soundVolume=u,this._soundAudioSource.volume=this._soundVolume,l.localStorage.Set(o.SOUND_VOLUME_KEY,""+this._soundVolume);var e=new c("Evt_Sound_Volume_Change");e.volume=this._soundVolume,d.SendGameEvent(e)}},{key:"musicVolume",get:function(){return this._musicVolume},set:function(u){this._musicVolume=u,this._musicAudioSource.volume=this._musicVolume/2,l.localStorage.Set(o.MUSIC_VOLUME_KEY,""+this._musicVolume);var e=new c("Evt_Music_Volume_Change");e.volume=this._musicVolume,d.SendGameEvent(e)}}],[{key:"instance",get:function(){return null==o._instance&&(o._instance=new o),o._instance}}]),o}());h._instance=void 0,h._defaultSoundVolume=.5,h._defaultMusicVolume=.5,h.SOUND_VOLUME_KEY="sound_volume",h.MUSIC_VOLUME_KEY="music_volume";o("default",h.instance);t._RF.pop()}}}));

System.register("chunks:///_virtual/Base64.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"b8738oSIDVG4b34/Y7d+imB","Base64",void 0);var n,e,o=t("version","3.7.7"),u=t("VERSION",o),i="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,a=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),f=(n={},a.forEach((function(t,r){return n[t]=r})),n),d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,s=String.fromCharCode.bind(String),l="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){return new Uint8Array(Array.prototype.slice.call(t,0))},h=function(t){return t.replace(/=/g,"").replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"}))},A=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},y=t("btoaPolyfill",(function(t){for(var r,n,e,o,u="",i=t.length%3,c=0;c<t.length;){if((n=t.charCodeAt(c++))>255||(e=t.charCodeAt(c++))>255||(o=t.charCodeAt(c++))>255)throw new TypeError("invalid character found");u+=a[(r=n<<16|e<<8|o)>>18&63]+a[r>>12&63]+a[r>>6&63]+a[63&r]}return i?u.slice(0,i-3)+"===".substring(i):u})),p=t("btoa","function"==typeof btoa?function(t){return btoa(t)}:y),b=function(t){for(var r=[],n=0,e=t.length;n<e;n+=4096)r.push(s.apply(null,t.subarray(n,n+4096)));return p(r.join(""))},g=t("fromUint8Array",(function(t,r){return void 0===r&&(r=!1),r?h(b(t)):b(t)})),x=function(t){if(t.length<2)return(r=t.charCodeAt(0))<128?t:r<2048?s(192|r>>>6)+s(128|63&r):s(224|r>>>12&15)+s(128|r>>>6&63)+s(128|63&r);var r=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return s(240|r>>>18&7)+s(128|r>>>12&63)+s(128|r>>>6&63)+s(128|63&r)},B=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,v=t("utob",(function(t){return t.replace(B,x)})),C=c?function(t){return b(c.encode(t))}:function(t){return p(v(t))},U=(t({toBase64:e=function(t,r){return void 0===r&&(r=!1),r?h(C(t)):C(t)},encode:e}),e),F=function(r){return t({encodeURI:r,encodeURL:r}),r}((function(t){return U(t,!0)})),m=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,R=function(t){switch(t.length){case 4:var r=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return s(55296+(r>>>10))+s(56320+(1023&r));case 3:return s((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return s((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},w=t("btou",(function(t){return t.replace(m,R)})),E=t("atobPolyfill",(function(t){if(t=t.replace(/\s+/g,""),!d.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var r,n,e,o="",u=0;u<t.length;)r=f[t.charAt(u++)]<<18|f[t.charAt(u++)]<<12|(n=f[t.charAt(u++)])<<6|(e=f[t.charAt(u++)]),o+=64===n?s(r>>16&255):64===e?s(r>>16&255,r>>8&255):s(r>>16&255,r>>8&255,255&r);return o})),S=t("atob","function"==typeof atob?function(t){return atob(A(t))}:E),D=function(t){return l(S(t).split("").map((function(t){return t.charCodeAt(0)})))},I=t("toUint8Array",(function(t){return D(P(t))})),z=i?function(t){return i.decode(D(t))}:function(t){return w(S(t))},P=function(t){return A(t.replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})))},T=function(r){return t({fromBase64:r,decode:r}),r}((function(t){return z(P(t))})),Z=t("isValid",(function(t){if("string"!=typeof t)return!1;var r=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(r)||!/[^\s0-9a-zA-Z\-_]/.test(r)})),V=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},_=t("extendString",(function(){var t=function(t,r){return Object.defineProperty(String.prototype,t,V(r))};t("fromBase64",(function(){return T(this)})),t("toBase64",(function(t){return U(this,t)})),t("toBase64URI",(function(){return U(this,!0)})),t("toBase64URL",(function(){return U(this,!0)})),t("toUint8Array",(function(){return I(this)}))})),L=t("extendUint8Array",(function(){var t=function(t,r){return Object.defineProperty(Uint8Array.prototype,t,V(r))};t("toBase64",(function(t){return g(this,t)})),t("toBase64URI",(function(){return g(this,!0)})),t("toBase64URL",(function(){return g(this,!0)}))})),O=t("extendBuiltins",(function(){_(),L()}));t("Base64",{version:o,VERSION:u,atob:S,atobPolyfill:E,btoa:p,btoaPolyfill:y,fromBase64:T,toBase64:U,encode:U,encodeURI:F,encodeURL:F,utob:v,btou:w,decode:T,isValid:Z,fromUint8Array:g,toUint8Array:I,extendString:_,extendUint8Array:L,extendBuiltins:O});r._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConstantDef.ts","./MainDef.ts","./ClassConfig.ts","./Facade.ts","./UIControler.ts","./UIPrefabSlots.ts","./G.ts","./Tool.ts","./Tips.ts","./UITools.ts","./CommandManager.ts","./EarseCommand.ts","./FillCommand.ts","./NotesCommand.ts","./EventEmitter.ts","./BattleUIModule.ts","./CameraImageCapturer.ts","./CardBoard.ts","./Cell.ts","./GridBoard.ts","./selectCenter.ts","./TLSDK.ts","./LanLabel.ts","./QuickDifficultyUIModule.ts"],(function(t){var e,i,n,a,l,o,s,r,u,d,h,c,C,m,g,f,p,v,N,k,S,A,B,D,I,y,b,w,L,P,T,H,E,G,M,F;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){a=t.cclegacy,l=t.Sprite,o=t.find,s=t.Label,r=t.Toggle,u=t.Node,d=t.Camera,h=t.Widget},function(t){c=t.ColorSelectMap},function(t){C=t.ESudokuType},function(t){m=t.ClassConfig},function(t){g=t.default},function(t){f=t.UIControler},function(t){p=t.UIPrefabSlots},function(t){v=t.default},function(t){N=t.default},function(t){k=t.Tips},function(t){S=t.UITools},function(t){A=t.commandManager},function(t){B=t.EarseCommend},function(t){D=t.FillCommend,I=t.FillCommendData},function(t){y=t.NotesCommend},function(t){b=t.EventEmitter},function(t){w=t.BattleModule},function(t){L=t.CameraImageCapturer},function(t){P=t.CardBoard},function(t){T=t.ECellFill},function(t){H=t.GridBoard},function(t){E=t.SelectCenter},function(t){G=t.TLSdk},function(t){M=t.LanLabel},function(t){F=t.EDifficulty}],execute:function(){a._RF.push({},"b3229uZOX1KnJMMWOBOBzuo","BattleUICtrl",void 0);var W=t("BattleViewCtrl",function(t){function a(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).labelTime=void 0,e.timeCount=void 0,e.timer=void 0,e.labelMistake=void 0,e.mistakeCount=void 0,e.maxMistake=void 0,e.labelDifficulty=void 0,e.labelTitle=void 0,e.labelAllNotes=void 0,e.uiAllNotesIcon=void 0,e.uiAllNotesAdIcon=void 0,e.allNotesCount=void 0,e.allNotesUsed=!1,e.labelHint=void 0,e.uiHintIcon=void 0,e.uiHintAdIcon=void 0,e.hintCount=void 0,e.uiGridContainer=void 0,e.prefabCell=void 0,e.uiCardContainer=void 0,e.prefabCard=void 0,e.gridBoard=void 0,e.cardBoard=void 0,e.selectCenter=void 0,e.isWorking=!1,e.isNoting=!1,e.toggleNote=void 0,e.captureCamera=null,e.emitter=void 0,e.uiGameEndAniClick=void 0,e.jiLiAdShow=!1,e.autoCompleteWorking=!1,e}e(a,t);var m=a.prototype;return m._onLoad=function(){this.initUI(),this.regClickHandlers()},m._onEnable=function(){this.setupGame(),this.updateLanShow()},m._onDisable=function(){this.timer&&(this.unschedule(this.timer),this.timer=null),this.emitter.clear()},m._onStart=function(){},m._onUpdate=function(){},m.updateLanShow=function(){for(var t=this.node.getComponentsInChildren(M),e=0;e<t.length;e++)t[e].language()},m.refreshUI=function(){this.labelTime.node.active=this.IsShowTime;var t=c[v.leader.setInfo.colorType];if(t){var e=this.node.getChildByName("bg").getComponent(l);e&&(e.color=t.bgColor),e=this.uiGridContainer.parent.getChildByName("icon").getComponent(l)}this.gridBoard.refresh(),this.selectCenter.lightCell(this.LastCell),0===v.leader.setInfo.prioritySelect&&this.IsPrioritySelectMod&&(this.cardBoard.IsPriority=!1),this.cardBoard.refresh()},m.initUI=function(){this.labelTime=o("tip/time",this.node).getComponent(s),this.labelMistake=o("tip/mistake/text",this.node).getComponent(s),this.labelDifficulty=o("tip/difficulty",this.node).getComponent(s),this.labelTitle=o("top/title",this.node).getComponent(s),this.labelAllNotes=o("panel/itemList0/btn_allNotes/icon/text",this.node).getComponent(s),this.uiAllNotesIcon=o("panel/itemList0/btn_allNotes/icon",this.node),this.uiAllNotesAdIcon=o("panel/itemList0/btn_allNotes/icon-ad",this.node),this.labelHint=o("panel/itemList0/btn_hint/icon/text",this.node).getComponent(s),this.uiHintIcon=o("panel/itemList0/btn_hint/icon",this.node),this.uiHintAdIcon=o("panel/itemList0/btn_hint/icon-ad",this.node),this.uiGridContainer=o("panel/grid/gridContainer",this.node),this.uiCardContainer=o("panel/cardList",this.node),this.toggleNote=o("panel/itemList1/tog_notes",this.node).getComponent(r),this.uiGameEndAniClick=o("gameEndAniClick",this.node);var t=this.getComponent(p);if(t){var e=t.Get("cell");e&&(this.prefabCell=e);var i=t.Get("card");i&&(this.prefabCard=i)}var n="CaptureCameraNode",a=o(n,this.node);a||(a=new u(n),this.node.addChild(a)),this.captureCamera=a.getComponent(d)||a.addComponent(d),this.captureCamera.enabled=!1,this.emitter=new b},m.regClickHandlers=function(){var t=this;this.RegClickHanlder("*",(function(t,e,i,n){v.navigator.Go(t)})),this.RegClickHanlder("close",(function(e,i,n,a){var l=t.gridBoard.data.slice(0);w.challengeData.sudokuState.currentState=l;var o=t.gridBoard.getNotesRecord();w.saveChallengeData(o),g.CloseUI(t.uiName),G.HideBanner()})),this.RegClickHanlder("pause",(function(e,i,n,a){t.openPause()})),this.RegClickHanlder("color-palette",(function(e,i,n,a){var l=n.target;t.openColorPelette(l.worldPosition)})),this.RegClickHanlder("setting",(function(e,i,n,a){t.openSetting()})),this.RegClickHanlder("all-notes",(function(e,i,n,a){t.allNotesUsed?k.instance.ShowTips(10277):t.AllNotesCount>0?(t.AllNotesCount--,v.leader.savePropData(),t.allNotesUsed=!0,w.challengeData.sudokuState.usedAllNotes=!0,t.setAllNotes()):t.lookAllNotesRewardAd(!0)})),this.RegClickHanlder("hint",(function(e,i,n,a){t.HintCount>0?t.hint()&&(t.HintCount--,v.leader.savePropData()):t.lookHintRewardAd(!0)})),this.RegClickHanlder("undo",(function(e,i,n,a){t.undo()})),this.RegClickHanlder("earse",(function(e,i,n,a){t.earse()})),this.RegClickHanlder("notes",(function(e,i,n,a){t.switchNoteMod()})),this.RegClickHanlder("cancel-autocomplete",(function(e,i,n,a){t.showAutoCompletePanel(!1)})),this.RegClickHanlder("start-autocomplete",(function(e,i,n,a){t.startAutoComplete(),t.showAutoCompletePanel(!1)}))},m.setupGame=function(){var t,e,i=this;this.isWorking=!0,this.isNoting=!1,this.toggleNote.isChecked=!1,this.autoCompleteWorking=!1,this.allNotesUsed=w.challengeData.sudokuState.usedAllNotes,this.showAutoCompletePanel(!1),this.uiGameEndAniClick.active=!1,this.jiLiAdShow=!1,this.timeCount=w.challengeData.sudokuState.timeSpent,this.timeCount>=3600?this.labelTime.string=N.formatTimeString(this.timeCount,"%{hh}:%{mm}:%{ss}"):this.labelTime.string=N.formatTimeString(this.timeCount,"%{mm}:%{ss}"),this.timer&&(this.unschedule(this.timer),this.timer=null),this.timer=function(){if(i.isWorking){i.timeCount++;var t=i.timeCount;w.challengeData.sudokuState.timeSpent=i.timeCount,i.labelTime.string=t>=3600?N.formatTimeString(t,"%{hh}:%{mm}:%{ss}"):N.formatTimeString(t,"%{mm}:%{ss}")}},this.schedule(this.timer,1),this.mistakeCount=w.challengeData.sudokuState.mistake,this.maxMistake=3,this.labelMistake.string=this.mistakeCount+" / "+this.maxMistake,this.setBattleMsgShow(),this.AllNotesCount=v.leader.roleData.propData.allNotesCount,this.HintCount=v.leader.roleData.propData.hintCount,null==(t=this.cardBoard)||t.clearNodeEvent(),null==(e=this.selectCenter)||e.clearNodeEvent(),this.gridBoard=new H,this.cardBoard=new P,this.selectCenter=new E,this.emitter.clear(),this.setupCardBoard(),this.setupGridBoard(),this.setupSelectCenter(),this.setBattleAdShow()},m.setBattleMsgShow=function(){this.labelDifficulty.string=v.GetLanStr(w.challengeData.name),this.labelTitle.string="",w.challengeData.type===C.LevelChallenge&&(this.labelTitle.string=v.GetLanStr(10065)+" "+w.challengeData.level),w.challengeData.type===C.DailyChallenge&&(this.labelTitle.string=w.challengeData.day)},m.setupGridBoard=function(){if(this.gridBoard){this.gridBoard.setContainerAndPrefab(this.uiGridContainer,this.prefabCell);var t=w.challengeData.sudokuState.currentState;w.challengeData.sudokuState.solved&&(t=[]);var e=w.challengeData.sudokuState.notes,i=w.challengeData;this.gridBoard.init({puzzleBoard:i.sudokuState.initialState,completeBoard:i.sudokuState.finalState},t,e),this.gridBoard.refresh()}},m.setupCardBoard=function(){var t=this;if(this.cardBoard){this.cardBoard.init(this.uiCardContainer,this.emitter),this.cardBoard.getNumCount=function(e){return t.gridBoard.getSomeCellIds(e).length},this.cardBoard.getExcludableNumList=function(){var e,i=null==(e=t.LastCell)?void 0:e.CellFillState;if(t.LastCell&&(i===T.Empty||i===T.Invalid)){var n=t.LastCell.RowCol,a=n[0],l=n[1];return t.gridBoard.getRelativeIds(a,l).map((function(e){return t.gridBoard.getCellById(e)})).filter((function(t){return t.CellFillState!==T.Empty&&t.CellFillState!==T.Invalid})).map((function(t){return t.Num}))||[]}return[]},this.cardBoard.isWorking=function(){return t.isWorking};var e=this;this.emitter.on("select-card",(function(t){var i=t.num;e.onSelectNum(i)})),this.emitter.on("focus-card",(function(t){var i=t.focusNum;e.onFocusNum(i)}))}},m.setupSelectCenter=function(){var t=this;if(this.selectCenter){this.selectCenter.init(this.uiGridContainer,this.gridBoard,this.emitter),this.selectCenter.isWorking=function(){return t.isWorking};var e=this;this.emitter.on("select-cell",(function(i){i.cell;e.onSelectCell(t.LastCell)}))}},m.reset=function(){var t=this;this.isWorking=!0,this.isNoting=!1,this.toggleNote.isChecked=!1,this.autoCompleteWorking=!1,this.allNotesUsed=w.challengeData.sudokuState.usedAllNotes,this.uiGameEndAniClick.active=!1,this.showAutoCompletePanel(!1),this.timeCount=0,this.labelTime.string="00:00",this.timer&&(this.unschedule(this.timer),this.timer=null),this.timer=function(){if(t.isWorking){t.timeCount++;var e=t.timeCount;w.challengeData.sudokuState.timeSpent=t.timeCount,t.labelTime.string=e>=3600?N.formatTimeString(e,"%{hh}:%{mm}:%{ss}"):N.formatTimeString(e,"%{mm}:%{ss}")}},this.schedule(this.timer,1),w.challengeData.sudokuState.timeSpent=0,w.challengeData.sudokuState.mistake=0,w.challengeData.sudokuState.currentState=[],this.mistakeCount=0,this.maxMistake=3,this.labelMistake.string=this.mistakeCount+" / "+this.maxMistake,this.AllNotesCount=v.leader.roleData.propData.allNotesCount,this.HintCount=v.leader.roleData.propData.hintCount,this.allNotesUsed=!1,w.challengeData.sudokuState.usedAllNotes=!1,this.selectCenter.lastCell=null,this.selectCenter.clearAllCell(),this.gridBoard.reset(),this.cardBoard.reset(),this.cardBoard.updateAllCardState(),this.setBannerShow()},m.onFocusNum=function(t){var e=this.gridBoard.getSomeCellIds(t)[0],i=this.gridBoard.getCellById(e);i&&(this.selectCenter.lastCell=i,this.selectCenter.clearAllCell(),this.selectCenter.lightSomeNum(t))},m.onSelectCell=function(t){if(null!=t)if(t.CellFillState==T.Preset||t.CellFillState==T.Valid)this.selectCenter.lightCell(t),this.IsPrioritySelectMod?this.cardBoard.setFouceNum(t.Num):this.cardBoard.updateAllCardState();else if(this.IsPrioritySelectMod){if(this.isNoting?this.notesNum(t,[this.LastNum]):this.fillNum(t,this.LastNum),this.isNoting)this.selectCenter.lightCell(t);else if(9===this.gridBoard.getSomeCellIds(this.LastNum).length){var e=this.findNextFocesNum(this.LastNum);if(e>0){this.cardBoard.setFouceNum(e);var i=this.gridBoard.getSomeCellIds(e)[0],n=this.gridBoard.getCellById(i);n&&(this.selectCenter.lastCell=n,this.selectCenter.clearAllCell(),this.selectCenter.lightSomeNum(e))}}else this.selectCenter.lightCell(t);this.cardBoard.updateAllCardState()}else this.CanAutoFill&&this.gridBoard.checkUnique(t)&&(this.isNoting?this.notesNum(t,[t.TargetNum]):this.fillNum(t,t.TargetNum)),this.selectCenter.lightCell(t),this.cardBoard.updateAllCardState()},m.onSelectNum=function(t){null!=this.LastCell&&(this.isNoting?this.notesNum(this.LastCell,[t]):(this.fillNum(this.LastCell,t),this.selectCenter.lightCell(this.LastCell),this.cardBoard.updateAllCardState()))},m.findNextFocesNum=function(t){if(Number.isInteger(t)&&t>0&&t<=9){(t+=1)>9&&(t=1);for(var e=0;9===this.gridBoard.getSomeCellIds(t).length;)if((t+=1)>9&&(t=1),(e+=1)>=9)return 0;return t}return 0},m.findNextEmptyOrErrorCell=function(){var t=this.gridBoard.cellList;if(!t||t.length<=0)return null;for(var e,n=null,a=null,l=i(t);!(e=l()).done;){var o=e.value;if(0===o.Num){n=o;break}!a&&o.isTargetNum(o.Num)&&(a=o)}return n||a},m.updateRelativeCellNotes=function(t,e,i){var n=this.gridBoard.getRelativeIds(t,e);this.gridBoard.updateCellNotes(n,i)},m.fillNum=function(t,e){var i=this;if(t&&e){var n=new I;n.cell=t,n.num=e,n.onFillError=function(t){i.mistakeCount++,i.labelMistake.string=i.mistakeCount+" / "+i.maxMistake,w.challengeData.sudokuState.mistake=i.mistakeCount,i.mistakeCount>=i.maxMistake&&i.openGameEnd()},n.onFillSuccess=function(t){var e,n=t.RowCol,a=n[0],l=n[1];i.updateRelativeCellNotes(a,l,[t.Num]),5===(null==(e=i.gridBoard.getEmptyCellIds())?void 0:e.length)&&i.CanAutoComplete&&i.showAutoCompletePanel(!0),i.gridBoard.checkGamePass()?(i.autoCompleteWorking=!1,i.isWorking=!1,i.goToPass(t)):i.gridBoard.playBoardFillAnim(t)};var a=new D(this.gridBoard,n);A.executeCommand(a)}},m.notesNum=function(t,e){if(t.CellFillState===T.Empty){var i=new y(this.gridBoard,t,e);A.executeCommand(i)}},m.goToPass=function(t){var e=this,i=w.challengeData,n=function(){e.scheduleOnce((function(){e.openPass()}),.2)};i.type===C.DailyChallenge?this.gridBoard.playBoardPassAnim1(t,n):i.type===C.LevelChallenge?this.gridBoard.playBoardPassAnim2(t,n):this.gridBoard.playBoardPassAnim4(t,n),this.showGameEndAniClick()},m.openPause=function(){this.isWorking=!1;var t=this;S.openGamePause((function(){return t.isWorking=!0}),(function(){return t.reset()}))},m.openPass=function(){this.selectCenter.clearAllCell();var t=this;L.inst.initCaptureCamera(this.captureCamera),L.inst.captureNode=this.uiGridContainer,L.inst.onAfterCapture=function(e){t.isWorking=!1,S.openGamePass((function(){return g.CloseUI(t.uiName)}),(function(){t.setupGame()})),t.uiGameEndAniClick.active=!1},L.inst.captureFrame()},m.openGameEnd=function(){this.isWorking=!1;var t=this;S.openGameEnd((function(){t.isWorking=!0,t.mistakeCount=0,t.labelMistake.string="0/3"}),(function(){return t.reset()}),(function(){return t.reset()}))},m.openColorPelette=function(t){S.openColorPelette(t)},m.openSetting=function(){this.isWorking=!1;var t=this;S.openSetting((function(){t.isWorking=!0,t.setBannerShow()}))},m.setAllNotes=function(){var t=this;this.gridBoard.getEmptyCellIds().map((function(e){return t.gridBoard.getCellById(e)})).forEach((function(e){var i=e.RowCol,n=i[0],a=i[1],l=t.gridBoard.getCanFillNotes(n,a);t.gridBoard.setNotes(n,a,l)}))},m.hint=function(){return this.LastCell?this.LastCell.isTargetNum(this.LastCell.Num)?(k.instance.ShowTips(10276),!1):(this.fillCellTargetNum(this.LastCell),!0):(k.instance.ShowTips(10275),!1)},m.fillCellTargetNum=function(t){null!=t&&(this.fillNum(t,t.TargetNum),this.selectCenter.lightCell(t),this.cardBoard.refresh())},m.undo=function(){A.undo()},m.earse=function(){if(this.LastCell){var t=new B(this.gridBoard,this.LastCell);A.executeCommand(t)}},m.switchNoteMod=function(){this.isNoting=!this.isNoting},m.startAutoComplete=function(){var t=this;this.isWorking&&(this.cardBoard.cancelFouce(),this.autoCompleteWorking=!0,this.scheduleOnce((function(){t.autoCompleteWorking&&t.runAutoComplete()}),.2),this.showGameEndAniClick())},m.runAutoComplete=function(){var t=this;if(this.isWorking){var e=this.findNextEmptyOrErrorCell();e&&(this.selectCenter.lastCell=e,this.emitter.emit("select-cell",{cell:e}),this.scheduleOnce((function(){t.fillCellTargetNum(e),t.autoCompleteWorking&&t.scheduleOnce((function(){t.runAutoComplete()}),.4)}),.4))}},m.stopAutoComplete=function(){this.autoCompleteWorking=!1},m.showAutoCompletePanel=function(t){var e=o("autoCompletePanel",this.node);e&&(e.active=!!t)},m.showGameEndAniClick=function(){this.uiGameEndAniClick.active=!0;var t=this.uiGameEndAniClick.getComponent(h);t&&t.updateAlignment()},m.setBattleAdShow=function(){var t=v.leader.getCreateDayNum();if(!(t<=1)){var e=!1,i=!1;if(w.challengeData.type==C.DailyChallenge){var n=w.challengeData.day.split("-"),a=parseInt(n[0]),l=parseInt(n[1]),o=parseInt(n[2]),s=new Date,r=s.getFullYear(),u=s.getMonth(),d=s.getDate();if(v.leader.dailyChallengeComplete(w.challengeData.day)||!(a==r&&l==u&&o==d))i=!0;else if(t>1){s.getDate()%2==0&&v.leader.roleData.showAdCount<10&&(i=!0)}e=!0}else if(w.challengeData.type==C.LevelChallenge){var h=w.challengeData.level;h>1&&h%2==1&&v.leader.roleData.showAdCount<10&&(i=!0),e=!0}else if(w.challengeData.type==C.QuickChallenge){var c=w.challengeData.difficulty,m=w.challengeData.level;if(null!=c&&c>=0&&c<F.MAX-1&&null!=m&&m>0){var g=v.leader.roleData.quickDiffAdIdList[c];null==g&&(g=0,v.leader.roleData.quickDiffAdIdList[c]=0),m>g&&v.leader.roleData.showAdCount<10&&(i=!0,v.leader.roleData.quickDiffAdIdList[c]=m,v.leader.SetRoleDataStorage())}e=!0}1==i?(v.leader.PlayAD((function(){}),105),this.jiLiAdShow=!0):1==e&&G.ShowBannerOffset(0,1,0,20)}},m.setBannerShow=function(){this.jiLiAdShow||G.ShowBannerOffset(0,1,0,20)},m.lookHintRewardAd=function(t){void 0===t&&(t=!1);var e=this;v.leader.PlayAD((function(){if(e.HintCount+=1,v.leader.savePropData(),e.isValid&&e.enabledInHierarchy){if(!t)return;e.hint()&&(e.HintCount-=1,v.leader.savePropData())}}),101)},m.lookAllNotesRewardAd=function(t){void 0===t&&(t=!1);var e=this;v.leader.PlayAD((function(){if(e.AllNotesCount+=1,v.leader.savePropData(),e.isValid&&e.enabledInHierarchy){if(!t)return;if(e.allNotesUsed)return void k.instance.ShowTips(10274);e.setAllNotes(),e.AllNotesCount-=1,e.allNotesUsed=!0,w.challengeData.sudokuState.usedAllNotes=!0,v.leader.savePropData()}}),102)},n(a,[{key:"AllNotesCount",get:function(){return this.allNotesCount},set:function(t){t<0&&(t=0),this.allNotesCount=t,this.labelAllNotes.string=null!==this.allNotesCount?""+this.allNotesCount:"",v.leader.roleData.propData.allNotesCount=t,v.leader.savePropData(),this.uiAllNotesIcon&&(this.uiAllNotesIcon.active=t>0),this.uiAllNotesAdIcon&&(this.uiAllNotesAdIcon.active=t<=0)}},{key:"HintCount",get:function(){return this.hintCount},set:function(t){t<0&&(t=0),this.hintCount=t,this.labelHint.string=null!==this.hintCount?""+this.hintCount:"",v.leader.roleData.propData.hintCount=t,v.leader.savePropData(),this.uiHintIcon&&(this.uiHintIcon.active=t>0),this.uiHintAdIcon&&(this.uiHintAdIcon.active=t<=0)}},{key:"IsShowTime",get:function(){return v.leader.setInfo.timer>0}},{key:"CanAutoFill",get:function(){return v.leader.setInfo.autoFill>0}},{key:"IsPrioritySelectMod",get:function(){return this.cardBoard.IsPriority}},{key:"CanAutoComplete",get:function(){return v.leader.setInfo.autocomplete>0}},{key:"LastCell",get:function(){return this.selectCenter.lastCell}},{key:"LastNum",get:function(){return this.cardBoard.lastNum}}]),a}(f));m.addClass("BattleViewCtrl",W),a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KeyManager.ts","./MainDef.ts","./Facade.ts","./ModuleBase.ts","./StringToModule.ts","./G.ts","./LanManager.ts","./QuickDifficultyUIModule.ts"],(function(e){var t,a,l,n,i,s,u,o,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy},function(e){l=e.Keys},function(e){n=e.ESudokuType},function(e){i=e.default},function(e){s=e.ModuleBase},function(e){u=e.default},function(e){o=e.default},function(e){r=e.LanEvent},function(e){c=e.EDifficulty}],execute:function(){a._RF.push({},"71928ml9D5J3okXGx87i8Z3","BattleUIModule",void 0);var g=e("BattleModule",function(e){function a(){return e.call(this,a.sTag)||this}t(a,e);var s=a.prototype;return s.regNetCmds=function(){},s.unRegNetCmds=function(){},s.regGameEvents=function(){var e=this;this.regGameEvent("Evt_setting_change",(function(t){var a=e.GetViewCtrl("Battle");null==a||a.MarkRefresh()})),this.regGameEvent("EVt_FontSize_Change",(function(t){var a=e.GetViewCtrl("Battle");null==a||a.MarkRefresh()})),this.regGameEvent("EVt_ColorType_Change",(function(t){var a=e.GetViewCtrl("Battle");null==a||a.MarkRefresh()})),this.regGameEvent(r.CHANGE_END,(function(t){var a=e.GetViewCtrl("Battle");null==a||a.setBattleMsgShow()}))},s.unRegGameEvents=function(){},s.DoWork=function(e){void 0===e&&(e=null),this.initChallengData(e),i.OpenUI("Battle")},s.initChallengData=function(e){if(e)switch(e.type){case n.DailyChallenge:this.setDailyChallengeData(e);break;case n.LevelChallenge:this.setLevelChallengeData(e);break;case n.QuickChallenge:this.setQuickChallengeData(e)}else a.challengeData=null},s.setDailyChallengeData=function(e){if(e.type===n.DailyChallenge){var t=a.challengeData={type:e.type,name:10016,day:e.day,sudokuState:{initialState:[],finalState:[],currentState:[],notes:{},usedAllNotes:!1,solved:!1,timeSpent:0,mistake:0,maxMistake:3}},i=o.gameCfg.getDailyGuanConfig(e.day);i?(t.sudokuState.initialState=i.puzzleBoard.slice(0),t.sudokuState.finalState=i.completeBoard.slice(0)):console.error("每日挑战: "+e.day+" 对应的配置未找到");var s=l.SUDOKU_DATA_Prefix+":daily_"+t.day,u=o.leader.dataStorageManager.get(s);if(u){var r=t.sudokuState;r.currentState=u.data,r.timeSpent=u.timeSpent,r.mistake=u.mistake,r.maxMistake=u.maxMistake,r.notes=u.notes,r.usedAllNotes=u.usedAllNotes}}},s.setLevelChallengeData=function(e){if(e.type===n.LevelChallenge){var t=a.challengeData={type:e.type,name:10224,level:e.level,sudokuState:{initialState:[],finalState:[],currentState:[],notes:{},usedAllNotes:!1,solved:!1,timeSpent:0,mistake:0,maxMistake:3}},i=o.gameCfg.guan_config_level[e.level-1];i&&(t.sudokuState.initialState=i.puzzleBoard.slice(0),t.sudokuState.finalState=i.completeBoard.slice(0));var s=l.SUDOKU_DATA_Prefix+":level_"+t.level,u=o.leader.dataStorageManager.get(s);if(u){var r=t.sudokuState;r.currentState=u.data,r.timeSpent=u.timeSpent,r.mistake=u.mistake,r.maxMistake=u.maxMistake,r.notes=u.notes,r.usedAllNotes=u.usedAllNotes}}},s.setQuickChallengeData=function(e){if(e.type===n.QuickChallenge){var t,i=a.challengeData={type:e.type,difficulty:e.difficulty,name:10232+e.difficulty,level:e.level,sudokuState:{initialState:[],finalState:[],currentState:[],notes:{},usedAllNotes:!1,solved:!1,timeSpent:0,mistake:0,maxMistake:3}};switch(o.difficulty){case c.EASY:t=o.gameCfg.guan_config_easy;break;case c.MEDIUM:t=o.gameCfg.guan_config_medium;break;case c.HARD:t=o.gameCfg.guan_config_hard;break;case c.EXTRA_HARD:t=o.gameCfg.guan_config_extra_hard;break;case c.Best_HARD:t=o.gameCfg.guan_config_best_hard}var s=t[(e.level||1)-1];s&&(i.sudokuState.initialState=s.puzzleBoard.slice(0),i.sudokuState.finalState=s.completeBoard.slice(0));var u=l.SUDOKU_DATA_Prefix+":quick_"+i.difficulty+"_"+i.level,r=o.leader.dataStorageManager.get(u);if(r){var g=i.sudokuState;g.currentState=r.data,g.timeSpent=r.timeSpent,g.mistake=r.mistake,g.maxMistake=r.maxMistake,g.notes=r.notes,g.usedAllNotes=r.usedAllNotes}}},a.saveChallengeData=function(e){if(a.challengeData){var t=a.challengeData,i="";if(t.type===n.DailyChallenge?i="daily_"+t.day:t.type===n.LevelChallenge?i="level_"+t.level:t.type===n.QuickChallenge&&(i="quick_"+t.difficulty+"_"+t.level),!(i.length<=0||t.sudokuState.currentState.length<=0)){var s=l.SUDOKU_DATA_Prefix+":"+i;if(t.sudokuState.solved)o.leader.dataStorageManager.remove(s);else{var u=t.sudokuState,r={data:u.currentState,timeSpent:u.timeSpent,mistake:u.mistake,maxMistake:u.maxMistake,notes:e,usedAllNotes:u.usedAllNotes};o.leader.dataStorageManager.save(s,r)}}}},a}(s));g.sTag="Battle",g.challengeData=void 0,u.Set("BattleModule",g),a._RF.pop()}}}));

System.register("chunks:///_virtual/BehaviorTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BTreeNode.ts"],(function(t){var e,r,s;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy},function(t){s=t.BTreeNode}],execute:function(){r._RF.push({},"b88ba8owf9CS699srlbge9H","BehaviorTree",void 0);var i=0;t("BehaviorTree",function(){function t(t,e){this.title=void 0,this._root=void 0,this._current=void 0,this._started=!1,this._blackboard=void 0,i+=1,this.title=t.constructor.name+"(btree_"+i+")",this._root=t,this._blackboard=e}var r=t.prototype;return r.setObject=function(t){this._blackboard=t},r.run=function(){this._started&&console.error("行为树【"+this.title+"】未调用步骤，在最后一次调用步骤时有一个任务未完成"),this._started=!0;var e=t.getNode(this._root);this._current=e,e.setControl(this),e.start(this._blackboard),e.run(this._blackboard)},r.running=function(t){this._started=!1},r.success=function(){this._current.end(this._blackboard),this._started=!1},r.fail=function(){this._current.end(this._blackboard),this._started=!1},t.register=function(t,e){this._registeredNodes.set(t,e)},t.getNode=function(t){var e=t instanceof s?t:this._registeredNodes.get(t);if(!e)throw new Error("无法找到节点【"+t+"】，可能它没有注册过");return e},e(t,[{key:"started",get:function(){return this._started}}]),t}())._registeredNodes=new Map,r._RF.pop()}}}));

System.register("chunks:///_virtual/BlockInput.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,n,i,e,s;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.Input,s=t.Component}],execute:function(){var c;n._RF.push({},"72c6dv2K2JGjpcdJwNtnEIs","BlockInput",void 0);var h=i.ccclass;t("BlockInput",h("BlockInput")(c=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var i=n.prototype;return i.onEnable=function(){this.node.on(e.EventType.TOUCH_START,this.forbidTouch,this),this.node.on(e.EventType.TOUCH_MOVE,this.forbidTouch,this),this.node.on(e.EventType.TOUCH_END,this.forbidTouch,this)},i.onDisable=function(){this.node.off(e.EventType.TOUCH_START,this.forbidTouch,this),this.node.off(e.EventType.TOUCH_MOVE,this.forbidTouch,this),this.node.off(e.EventType.TOUCH_END,this.forbidTouch,this)},i.forbidTouch=function(t){t.propagationStopped=!0},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/BranchNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BehaviorTree.ts","./BTreeNode.ts"],(function(n){var t,i,o,e;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy},function(n){o=n.BehaviorTree},function(n){e=n.BTreeNode}],execute:function(){i._RF.push({},"b627700G0pIn7hUtbZKzUWx","BranchNode",void 0);n("BranchNode",function(n){function i(t){var i;return(i=n.call(this)||this).children=void 0,i._actualTask=void 0,i._runningNode=void 0,i._nodeRunning=void 0,i._blackboard=void 0,i.children=t||[],i}t(i,n);var e=i.prototype;return e.start=function(){this._actualTask=0,n.prototype.start.call(this)},e.run=function(n){0==this.children.length?this._control.fail():(this._blackboard=n,this.start(),this._actualTask<this.children.length&&this._run()),this.end()},e._run=function(n){var t=o.getNode(this.children[this._actualTask]);this._runningNode=t,t.setControl(this),t.start(this._blackboard),t.run(this._blackboard)},e.running=function(n){this._nodeRunning=n,this._control.running(n)},e.success=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},e.fail=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},i}(e));i._RF.pop()}}}));

System.register("chunks:///_virtual/BTreeNode.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"2c1bfS1t7pFRaQKZ87LA/i/","BTreeNode",void 0);t("BTreeNode",function(){function t(){this._control=void 0,this.title=void 0,this.title=this.constructor.name}var n=t.prototype;return n.start=function(t){},n.end=function(t){},n.setControl=function(t){this._control=t},n.running=function(t){this._control.running(this)},n.success=function(){this._control.success()},n.fail=function(){this._control.fail()},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonHelper.ts",["cc","./ResManager.ts","./ModuleDef.ts"],(function(e){var n,t,o,a,r,i,c,s,l,u,d;return{setters:[function(e){n=e.cclegacy,t=e.Label,o=e.Node,a=e.UITransform,r=e.math,i=e.Button,c=e.Component,s=e.SpriteFrame,l=e.Texture2D},function(e){u=e.ResManager},function(e){d=e.AssetBundleDef}],execute:function(){n._RF.push({},"6ff48E5zcZKYpGQz7wBSHTo","ButtonHelper",void 0),e("ButtonHelper",function(){function e(){}return e.create=function(e,n,t){var c=new o(e),s=c.addComponent(a);s.setAnchorPoint(.5,.5),s.setContentSize(new r.Size(n,t));c.addComponent(i);return c},e.AddClickHandler=function(e,n,t,o,a){var r=e.getComponent(i);if(null!=r){null==r.clickEvents&&(r.clickEvents=[]);var s=null;0==r.clickEvents.length?(s=new c.EventHandler,r.clickEvents.push(s)):s=r.clickEvents[0],t&&(s.target=t),s.component=o||"UIOperator",s.handler=a||"onClickTag",s.customEventData=n}},e.setTouchEnabled=function(e,n){var t=e.getComponent(i);t&&(t.interactable=n)},e.setEnabled=function(e,n){var t=e.getComponent(i);t&&(t.interactable=n)},e.loadTextureNormal=function(e,n,t){var o=e.getComponent(i);o&&(1==(t=t||1)?u.loadResAsyn(d.GAMERES,n,s,(function(e,n){o.isValid&&(o.normalSprite=n)})):0==t&&u.loadResAsyn(d.GAMERES,n,l,(function(e,n){o.isValid&&(o.normalSprite=s.createWithImage(n))})))},e.loadTexturePressed=function(e,n,t){var o=e.getComponent(i);o&&(1==(t=t||1)?u.loadResAsyn(d.GAMERES,n,s,(function(e,n){o.isValid&&(o.pressedSprite=n)})):0==t&&u.loadResAsyn(d.GAMERES,n,l,(function(e,n){o.isValid&&(o.pressedSprite=s.createWithImage(n))})))},e}()).setTitleText=function(e,n,o){var a=this.getchi(o||"Label");if(a){var r=a.getComponent(t);r&&(r.string=n)}},n._RF.pop()}}}));

System.register("chunks:///_virtual/Calendar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UITools.ts","./G.ts"],(function(t){var e,n,i,a,r,s,o,h,l,d,u,c,D,g,m,p,y,f,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,o=t.Label,h=t.Node,l=t.Button,d=t.instantiate,u=t.UIOpacity,c=t.Layout,D=t.UITransform,g=t.v3,m=t.Vec3,p=t.tween,y=t.Component},function(t){f=t.UITools},function(t){v=t.default}],execute:function(){var C,M,b,G,I,w,S,B,F,R,N;r._RF.push({},"dc030qnpnhInbTRt8/kmACm","Calendar",void 0);var T=s.ccclass,Y=s.property;t("Calendar",(C=T("Calendar"),M=Y(o),b=Y(h),G=Y(l),I=Y(l),C((B=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"monthLabel",B,a(e)),i(e,"daysGrid",F,a(e)),e.dayItem=null,i(e,"prevMonthButton",R,a(e)),i(e,"nextMonthButton",N,a(e)),e.todayDate=new Date,e.currentDate=new Date,e.selectedDate=new Date,e.startDate=null,e.endDate=null,e.onDayItemRender=null,e.selectedNode=null,e.highlightDateCallback=null,e.isMoving=!1,e.tempDaysGrid=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.prevMonthButton.node.on(l.EventType.CLICK,this.onPrevMonth,this),this.nextMonthButton.node.on(l.EventType.CLICK,this.onNextMonth,this)},r.onEnable=function(){this.currentDate=new Date,this.selectedDate=new Date},r.setStartDate=function(t){this.startDate=t,this.updateButtonState()},r.setEndDate=function(t){this.endDate=t,this.updateButtonState()},r.setDayItemRenderCallback=function(t){this.onDayItemRender=t},r.setDayItemAndRenderCallback=function(t,e){this.dayItem=t,this.onDayItemRender=e},r.setHighlightDateCallback=function(t){this.highlightDateCallback=t},r.setCurrentDate=function(t){this.isMoving=!1,this.currentDate=t,this.selectedDate=t,this.daysGrid.removeAllChildren(),this.renderCalendar(this.daysGrid),this.initTempDaysGrid()},r.getCurrentDate=function(){return this.currentDate},r.updateButtonState=function(){if(this.startDate){var t=this.currentDate.getFullYear()===this.startDate.getFullYear()&&this.currentDate.getMonth()===this.startDate.getMonth();this.prevMonthButton.node.active=!t}if(this.endDate){var e=this.currentDate.getFullYear()===this.endDate.getFullYear()&&this.currentDate.getMonth()===this.endDate.getMonth();this.nextMonthButton.node.active=!e}},r.renderCalendar=function(t,e){var n;if(void 0===e&&(e=!0),t){var i=this.currentDate.getFullYear(),a=this.currentDate.getMonth();this.monthLabel.string=v.GetLanStr(10341+a)+"  "+i;for(var r=new Date(i,a,1).getDay(),s=new Date(i,a+1,0).getDate(),o=s+r,h=t.children;h.length>o;)h[h.length-1].removeFromParent();for(var D=1,g=0;g<o;g++){var m=h[g];m||((m=d(this.dayItem)).parent=t);var p=m.getComponent(u)||m.addComponent(u),y=m.getComponent(l)||m.addComponent(l);if(g<r)p.opacity=0,y.interactable=!1;else if(D<=s){var C=new Date(i,a,D);this.onDayItemRender&&this.onDayItemRender(m,C),C.getTime()<=this.todayDate.getTime()?(p.opacity=255,y.interactable=!0,f.setButtonClick(m,i+","+a+","+D,this.node,"Calendar","onSelectDay")):(p.opacity=128,y.interactable=!1),e&&C.toDateString()===this.selectedDate.toDateString()&&this.onSelectDate(C,m),D+=1}}null==(n=t.getComponent(c))||n.updateLayout(),this.updateButtonState(),this.node.emit("month-changed",this.currentDate)}},r.createDayNode=function(t,e){var n=d(this.dayItem);return n.parent=e||this.daysGrid,this.onDayItemRender&&this.onDayItemRender(n,t),n},r.highlightSelectedDate=function(t,e){this.highlightDateCallback&&this.highlightDateCallback(t,e)},r.onPrevMonth=function(){if(!this.isMoving){if(this.startDate){var t=new Date(this.currentDate);if(t.setMonth(t.getMonth()-1),t.getFullYear()<this.startDate.getFullYear()||t.getFullYear()===this.startDate.getFullYear()&&t.getMonth()<this.startDate.getMonth())return}var e=this.tempDaysGrid;e||(this.initTempDaysGrid(),e=this.tempDaysGrid),this.renderCalendar(e,!1),this.currentDate.setMonth(this.currentDate.getMonth()-1),this.highlightSelectedDate(this.selectedNode,!1),this.selectedDate=new Date(this.currentDate),this.selectedDate.setDate(1),this.renderCalendar(this.daysGrid),this.updateButtonState(),this.node.emit("month-changed",this.currentDate);var n=e.getComponent(D).width;this.moveAnim(this.daysGrid,.3,g(-n,0,0),m.ZERO),this.moveAnim(e,.3,m.ZERO,g(n,0,0),(function(){return e.active=!1}))}},r.onNextMonth=function(){if(!this.isMoving){if(this.endDate){var t=new Date(this.currentDate);if(t.setMonth(t.getMonth()+1),t.getFullYear()>this.endDate.getFullYear()||t.getFullYear()===this.endDate.getFullYear()&&t.getMonth()>this.endDate.getMonth())return}var e=this.tempDaysGrid;e||(this.initTempDaysGrid(),e=this.tempDaysGrid),this.renderCalendar(e,!1),this.currentDate.setMonth(this.currentDate.getMonth()+1),this.highlightSelectedDate(this.selectedNode,!1),this.selectedDate=new Date(this.currentDate),this.selectedDate.setDate(1),this.renderCalendar(this.daysGrid),this.updateButtonState(),this.node.emit("month-changed",this.currentDate);var n=e.getComponent(D).width;this.moveAnim(this.daysGrid,.3,g(n,0,0),m.ZERO),this.moveAnim(e,.3,m.ZERO,g(-n,0,0),(function(){return e.active=!1}))}},r.onSelectDate=function(t,e){this.selectedNode&&this.highlightSelectedDate(this.selectedNode,!1),this.selectedDate=t,this.highlightSelectedDate(e,!0),this.selectedNode=e,this.node.emit("date-selected",this.selectedDate)},r.onSelectDay=function(t,e){var n=t.target,i=e.split(",").map(Number),a=i[0],r=i[1],s=i[2];if(Number.isInteger(a)&&Number.isInteger(r)&&Number.isInteger(s)){var o=new Date(a,r,s);o&&n&&this.onSelectDate(o,n)}},r.moveAnim=function(t,e,n,i,a){if(t){t.position=n;var r=this;r.isMoving=!0,p(t).set({active:!0}).to(e,{position:i}).call((function(){r.isMoving=!1,null==a||a()})).start()}},r.initTempDaysGrid=function(){if(!this.tempDaysGrid){var t=d(this.daysGrid);this.daysGrid.parent.addChild(t),t.name="tempDaysGrid",t.active=!1,this.tempDaysGrid=t}},e}(y)).prototype,"monthLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(S.prototype,"daysGrid",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(S.prototype,"prevMonthButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(S.prototype,"nextMonthButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=S))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/Calendar%20copy.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"802efjk9y1IzKoW6cAPe7pX","Calendar%20copy",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Calendar%20copy%202.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"fd9c4g98aZF4aeNETcWT1Ry","Calendar%20copy%202",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Calendar%20copy%203.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts"],(function(t){var e,n,a,i,r,o,s,h,l,u,c,D,d,g,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Label,h=t.Node,l=t.Button,u=t.Layout,c=t.instantiate,D=t.tween,d=t.Component,g=t.UIOpacity},function(t){f=t.default}],execute:function(){var p,y,v,M,m,b,C,w,S,F,B;r._RF.push({},"7ace3WAJsJGW7VOqhblgUo8","Calendar%20copy%203",void 0);var I=o.ccclass,L=o.property;t("Calendar",(p=I("Calendar"),y=L(s),v=L(h),M=L(l),m=L(l),p((w=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"monthLabel",w,i(e)),a(e,"daysGrid",S,i(e)),e.dayItem=null,a(e,"prevMonthButton",F,i(e)),a(e,"nextMonthButton",B,i(e)),e.todayDate=new Date,e.currentDate=new Date,e.selectedDate=new Date,e.startDate=null,e.endDate=null,e.onDayItemRender=null,e.selectedNode=null,e.highlightDateCallback=null,e.isMoving=!1,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.prevMonthButton.node.on(l.EventType.CLICK,this.onPrevMonth,this),this.nextMonthButton.node.on(l.EventType.CLICK,this.onNextMonth,this)},r.onEnable=function(){this.currentDate=new Date,this.selectedDate=new Date},r.setStartDate=function(t){this.startDate=t,this.updateButtonState()},r.setEndDate=function(t){this.endDate=t,this.updateButtonState()},r.setDayItemRenderCallback=function(t){this.onDayItemRender=t},r.setDayItemAndRenderCallback=function(t,e){this.dayItem=t,this.onDayItemRender=e},r.setHighlightDateCallback=function(t){this.highlightDateCallback=t},r.setCurrentDate=function(t){this.isMoving=!1,this.currentDate=t,this.selectedDate=t,this.renderCalendar()},r.getCurrentDate=function(){return this.currentDate},r.updateButtonState=function(){if(this.startDate){var t=this.currentDate.getFullYear()===this.startDate.getFullYear()&&this.currentDate.getMonth()===this.startDate.getMonth();this.prevMonthButton.node.active=!t}if(this.endDate){var e=this.currentDate.getFullYear()===this.endDate.getFullYear()&&this.currentDate.getMonth()===this.endDate.getMonth();this.nextMonthButton.node.active=!e}},r.renderCalendar=function(){var t,e=this,n=this.currentDate.getFullYear(),a=this.currentDate.getMonth();this.monthLabel.string=f.GetLanStr(10341+a)+"  "+n,this.daysGrid.removeAllChildren();for(var i=new Date(n,a,1).getDay(),r=new Date(n,a+1,0).getDate(),o=1,s=0;s<6;s++)for(var l=function(){if(0===s&&c<i){var t=new Date(n,a-1,1),l=e.createDayNode(t).getComponent(g);l&&(l.opacity=0)}else if(o>r);else{var u=new Date(n,a,o),D=e.createDayNode(u);u.getDate()<=e.todayDate.getDate()&&D.on(h.EventType.TOUCH_END,(function(){return e.onSelectDate(u,D)}),e),u.toDateString()===e.selectedDate.toDateString()&&e.onSelectDate(u,D),o++}},c=0;c<7;c++)l();null==(t=this.daysGrid.getComponent(u))||t.updateLayout(),this.updateButtonState(),this.node.emit("month-changed",this.currentDate)},r.createDayNode=function(t){var e=c(this.dayItem);return e.parent=this.daysGrid,this.onDayItemRender&&this.onDayItemRender(e,t),e},r.highlightSelectedDate=function(t,e){this.highlightDateCallback&&this.highlightDateCallback(t,e)},r.onPrevMonth=function(){if(!this.isMoving){if(this.startDate){var t=new Date(this.currentDate);if(t.setMonth(t.getMonth()-1),t.getFullYear()<this.startDate.getFullYear()||t.getFullYear()===this.startDate.getFullYear()&&t.getMonth()<this.startDate.getMonth())return}this.currentDate.setMonth(this.currentDate.getMonth()-1),this.highlightSelectedDate(this.selectedNode,!1),this.selectedDate=new Date(this.currentDate),this.selectedDate.setDate(1),this.renderCalendar()}},r.onNextMonth=function(){if(!this.isMoving){if(this.endDate){var t=new Date(this.currentDate);if(t.setMonth(t.getMonth()+1),t.getFullYear()>this.endDate.getFullYear()||t.getFullYear()===this.endDate.getFullYear()&&t.getMonth()>this.endDate.getMonth())return}this.currentDate.setMonth(this.currentDate.getMonth()+1),this.highlightSelectedDate(this.selectedNode,!1),this.selectedDate=new Date(this.currentDate),this.selectedDate.setDate(1),this.renderCalendar()}},r.onSelectDate=function(t,e){this.selectedNode&&this.highlightSelectedDate(this.selectedNode,!1),this.selectedDate=t,console.log("Selected Date:",this.selectedDate.toLocaleDateString()),this.highlightSelectedDate(e,!0),this.selectedNode=e,this.node.emit("date-selected",this.selectedDate)},r.moveAnim=function(t,e,n,a,i){var r=this;void 0===i&&(i=!1),t&&(t.position=n,this.isMoving=!0,D(t).to(e,{position:a}).call((function(){r.isMoving=!1,i&&t.removeFromParent()})).start())},e}(d)).prototype,"monthLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(C.prototype,"daysGrid",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(C.prototype,"prevMonthButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(C.prototype,"nextMonthButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraImageCapturer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,i,n,o,u,c,p,s,h,l,d,m,C,g,f,x,w,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,u=e._decorator,c=e.Camera,p=e.Node,s=e.gfx,h=e.RenderTexture,l=e.screen,d=e.SpriteFrame,m=e.UITransform,C=e.Rect,g=e.Vec3,f=e.director,x=e.Vec2,w=e.Director,T=e.Component}],execute:function(){var y,R,_,S,v,F,A,O;o._RF.push({},"e99f77Gp8dG8o5OJaOcykvt","CameraImageCapturer",void 0);var E=u.property,b=u.ccclass;e("CameraImageCapturer",(y=b("CameraImageCapturer"),R=E(c),_=E(p),y(((O=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"targetCamera",F,i(t)),a(t,"captureNode",A,i(t)),t.captureCamera=null,t._originalRenderTexture=null,t._copyRenderTexture=null,t._captureSpriteFrame=null,t.onAfterCapture=void 0,t}r(t,e);var o=t.prototype;return o.onLoad=function(){t._inst==this||(t._inst=this),this.init()},o.init=function(){var e=new s.ColorAttachment;e.format=s.Format.RGBA8,e.loadOp=s.LoadOp.CLEAR,e.storeOp=s.StoreOp.STORE;var t=new s.DepthStencilAttachment;t.format=s.Format.DEPTH_STENCIL,t.depthLoadOp=s.LoadOp.CLEAR,t.depthStoreOp=s.StoreOp.STORE,t.stencilLoadOp=s.LoadOp.CLEAR,t.stencilStoreOp=s.StoreOp.DISCARD;var r=new s.RenderPassInfo([e],t);this._originalRenderTexture=new h,this._originalRenderTexture.reset({width:l.windowSize.width,height:l.windowSize.height,passInfo:r}),this._copyRenderTexture=new h,this._copyRenderTexture.reset({width:l.windowSize.width,height:l.windowSize.height,passInfo:r}),this._captureSpriteFrame=new d},o.getNodeScreenRect=function(e){if(!e.getComponent(m))return new C(0,0,l.windowSize.width,l.windowSize.height);var t=e.getComponent(m).getBoundingBoxToWorld(),r=new g(t.x,t.y,0),a=new g(t.x+t.width,t.y+t.height,0),i=this.captureCamera.worldToScreen(r),n=this.captureCamera.worldToScreen(a),o=n.x-i.x,u=n.y-i.y;return new C(i.x,i.y,o,u)},o.copyRenderTextureByRegion=function(e){var t=f.root.device.commandBuffer;this._copyRenderTexture.resize(e.width,e.height);var r=this._originalRenderTexture.getGFXTexture(),a=this._copyRenderTexture.getGFXTexture(),i=new s.TextureBlit(new s.TextureSubresLayers(0,0,1),new s.Offset(e.x,e.y,0),new s.Extent(e.width,e.height,1),new s.TextureSubresLayers(0,0,1),new s.Offset(0,0,0),new s.Extent(e.width,e.height,1));t.blitTexture(r,a,[i],s.Filter.LINEAR)},o.copyRenderTexture=function(){var e=f.root.device.commandBuffer,t=this._originalRenderTexture.getGFXTexture(),r=this._copyRenderTexture.getGFXTexture(),a=new s.TextureBlit(new s.TextureSubresLayers(0,0,1),new s.Offset(0,0,0),new s.Extent(this._originalRenderTexture.width,this._originalRenderTexture.height,1),new s.TextureSubresLayers(0,0,1),new s.Offset(0,0,0),new s.Extent(this._copyRenderTexture.width,this._copyRenderTexture.height,1));e.blitTexture(t,r,[a],s.Filter.LINEAR)},o.cropWithSpriteFrame=function(e){this._copyRenderTexture.getGFXTexture();return this._captureSpriteFrame.texture=this._copyRenderTexture,this._captureSpriteFrame.rect=new C(e.x,e.y,e.width,e.height),this._captureSpriteFrame.offset=new x(e.x/this._copyRenderTexture.width,e.y/this._copyRenderTexture.height),this._captureSpriteFrame},o.initCaptureCamera=function(e){null!=e&&(this.captureCamera=e,this.captureCamera.priority=this.targetCamera.priority-1,this.captureCamera.visibility=this.targetCamera.visibility,this.captureCamera.clearFlags=this.targetCamera.clearFlags,this.captureCamera.clearColor=this.targetCamera.clearColor,this.captureCamera.clearDepth=this.targetCamera.clearDepth,this.captureCamera.clearStencil=this.targetCamera.clearStencil,this.captureCamera.projection=this.targetCamera.projection,this.captureCamera.fovAxis=this.targetCamera.fovAxis,this.captureCamera.fov=this.targetCamera.fov,this.captureCamera.orthoHeight=this.targetCamera.orthoHeight,this.captureCamera.near=this.targetCamera.near,this.captureCamera.far=this.targetCamera.far,this.captureCamera.aperture=this.targetCamera.aperture,this.captureCamera.shutter=this.targetCamera.shutter,this.captureCamera.iso=this.targetCamera.iso,this.captureCamera.rect=this.targetCamera.rect,this.captureCamera.targetTexture=this._copyRenderTexture)},o.captureFrame=function(){var e,t=this,r=this;if(null==this.captureCamera)return null==(e=this.onAfterCapture)||e.call(this,null),void(this.onAfterCapture=null);r.captureCamera.enabled=!1,r.captureCamera.enabled=!0,f.once(w.EVENT_BEFORE_DRAW,(function(){r.captureCamera.targetTexture=r._originalRenderTexture})),f.once(w.EVENT_AFTER_DRAW,(function(){var e=r.captureNode?r.captureNode:r.targetCamera.node;if(!e)return null==t.onAfterCapture||t.onAfterCapture(null),void(t.onAfterCapture=null);var a=r.getNodeScreenRect(e);t.copyRenderTextureByRegion(a),t._captureSpriteFrame.texture=t._copyRenderTexture,t.captureCamera.enabled=!1,t.onAfterCapture&&(t.onAfterCapture(t._captureSpriteFrame),t.onAfterCapture=null)}))},n(t,[{key:"CaptureSpriteFrame",get:function(){return this._captureSpriteFrame}}],[{key:"inst",get:function(){return t._inst}}]),t}(T))._inst=void 0,F=t((v=O).prototype,"targetCamera",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(v.prototype,"captureNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/CameraUtil.ts",["cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.Vec3,r=e.view}],execute:function(){t._RF.push({},"2a69bqMjZxOlrvP3cYznYxF","CameraUtil",void 0);e("CameraUtil",function(){function e(){}return e.isInView=function(e,t){var i=e.node.getWorldPosition(),o=e.worldToScreen(t),c=n.normalize(new n,t.subtract(i)),a=e.node.forward,u=n.dot(a,c),s=r.getViewportRect();return u>0&&o.x<=s.width&&o.x>=0&&o.y<=s.height&&o.y>=0},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CaptureByBoundingBox.ts",["cc"],(function(){var u;return{setters:[function(t){u=t.cclegacy}],execute:function(){u._RF.push({},"712f3wFVWJK6quTAi4gzuv1","CaptureByBoundingBox",void 0),u._RF.pop()}}}));

System.register("chunks:///_virtual/CaptureByBoundingBox%20copy.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"0c1835NmtJC9qJmaah/l207","CaptureByBoundingBox%20copy",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts"],(function(t){var i,e,o,n,s,u,r,a,d,c,h,l,p,g;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,n=t._decorator,s=t.find,u=t.Label,r=t.ProgressBar,a=t.Layout,d=t.UIOpacity,c=t.Sprite,h=t.math,l=t.Vec3,p=t.Component},function(t){g=t.default}],execute:function(){var m;o._RF.push({},"bab835ZRsdMwpFgckZL2hwr","Card",void 0);var b=n.ccclass,f=(n.property,t("ECardViewType",function(t){return t[t.Normal=0]="Normal",t[t.Hide=1]="Hide",t[t.Focus=2]="Focus",t}({})));t("Card",b("Card")(m=function(t){function o(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).num=0,i.labelText=void 0,i.progress=void 0,i.layout=void 0,i.uiOpacity=void 0,i.paddingBottom=10,i.sprFocus=void 0,i.labelSignText=void 0,i.uiSign=void 0,i.uiSignFocus=void 0,i.uiFocusPoint=void 0,i.getNumUseCount=void 0,i.isExcludable=void 0,i.getFouceNum=void 0,i}i(o,t);var n=o.prototype;return n.onLoad=function(){this.initUI()},n.initUI=function(){this.labelText=s("board/text",this.node).getComponent(u),this.progress=s("board/progressCount",this.node).getComponent(r),this.layout=this.node.getComponent(a),this.uiOpacity=this.node.getComponent(d),this.sprFocus=s("board/text/focus",this.node).getComponent(c),this.uiSign=s("board/warp",this.node),this.labelSignText=s("board/warp/board/text",this.node).getComponent(u),this.uiFocusPoint=s("board/warp/board/point",this.node),this.uiSignFocus=s("board/warp/board/focus",this.node)},n.checkNumCompelete=function(){return 9===(null==this?void 0:this.getNumUseCount(this.num))},n.evaluate=function(){return this.IsFouce?(null==this?void 0:this.getFouceNum())===this.num?f.Focus:f.Hide:this.CanHideExcludable&&null!=this&&this.isExcludable(this.num)||this.CanHideFilled&&this.checkNumCompelete()?f.Hide:f.Normal},n.updateState=function(){switch(this.evaluate()){case f.Normal:this.showNormalMod();break;case f.Hide:this.showHideMod();break;case f.Focus:this.showFocusMod()}var t=(null==this?void 0:this.getNumUseCount(this.num))||0;this.progress.progress=h.clamp01(t/9),this.progress.node.active=this.CanShowNumCount,this.layout.updateLayout()},n.setCardVisibility=function(t,i){void 0===i&&(i=!1),this.sprFocus.node.active=i,this.uiOpacity.opacity=t,this.uiSignFocus.active=i},n.showFocusMod=function(){this.setCardVisibility(255,!0)},n.showNormalMod=function(){this.setCardVisibility(255)},n.showHideMod=function(){this.setCardVisibility(100)},n.setSignVisibility=function(t){this.uiSign&&(this.uiSign.active=!!t)},e(o,[{key:"CanShowNumCount",get:function(){return g.leader.setInfo.numberCount>0}},{key:"CanHideFilled",get:function(){return g.leader.setInfo.hideFilled>0}},{key:"CanHideExcludable",get:function(){return g.leader.setInfo.hideExcludable>0}},{key:"IsFouce",get:function(){return this.getFouceNum()>0}},{key:"Num",get:function(){return this.num},set:function(t){this.num=t,this.labelText.string=""+t,this.labelSignText.string=""+t}},{key:"SignFocusPoint",get:function(){var t;return(null==(t=this.uiFocusPoint)?void 0:t.worldPosition)||l.ZERO}}]),o}(p))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/CardBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts","./Card.ts"],(function(t){var i,e,s,o,r,n,a,h,u,l;return{setters:[function(t){i=t.createForOfIteratorHelperLoose,e=t.createClass},function(t){s=t.cclegacy,o=t.find,r=t.UITransform,n=t.Node,a=t.ProgressBar,h=t.tween},function(t){u=t.default},function(t){l=t.Card}],execute:function(){s._RF.push({},"86860iDGXFKDIzNnjVQov4i","CardBoard",void 0);t("CardBoard",function(){function t(){this.uiCardBoard=void 0,this.uiLongPress=void 0,this.cardNodeMap=void 0,this.cardMap=void 0,this.emitter=void 0,this.excludableNumSet=void 0,this.getNumCount=void 0,this.getExcludableNumList=void 0,this.isWorking=void 0,this.lastNum=0,this.longPressTween=void 0,this.isPriorityMod=!1,this.lastTarget=null,this.pressStartTime=0,this.pressThreshold=1e3,this.timer=0,this.cardNodeMap=new Map,this.cardMap=new Map,this.excludableNumSet=new Set}var s=t.prototype;return s.init=function(t,i){this.emitter=i,this.uiCardBoard=t,this.uiLongPress=o("longPress",this.uiCardBoard.parent.parent),this.uiLongPress.active=!1,this.initUICard(),this._registerTargetEvent(this.uiCardBoard)},s.initUICard=function(){if(this.uiCardBoard){for(var t=this,i=this.uiCardBoard.children,e=0;e<i.length;e++){var s=i[e];this.cardNodeMap.set(e+1,s);var o=s.getComponent(l);this.cardMap.set(e+1,o),o.Num=e+1,o.getNumUseCount=function(i){return(null==t.getNumCount?void 0:t.getNumCount(i))||0},o.isExcludable=function(i){return t.excludableNumSet.has(i)},o.getFouceNum=function(){return t.isPriorityMod?t.lastNum:0}}this.updateAllCardState(),this.hideAllCardSign()}},s.clearNodeEvent=function(){this._unregisterTargetEvent(this.uiCardBoard)},s.updateAllCardState=function(){this.getExcludableNumList&&(this.excludableNumSet=new Set(this.getExcludableNumList()));for(var t,e=i(this.cardMap.values());!(t=e()).done;){t.value.updateState()}},s.refresh=function(){this.updateAllCardState()},s.showAllNum=function(){for(var t,e=i(this.cardMap.values());!(t=e()).done;){t.value.showNormalMod()}},s.reset=function(){this.isPriorityMod=!1,this.lastNum=0,this.showAllNum()},s.setFouceNum=function(t){this.isPriorityMod&&t>0&&(this.lastNum=t,this.updateAllCardState())},s.cancelFouce=function(){this.isPriorityMod=!1,this.lastNum=0,this.showAllNum()},s.getNumByWorldPos=function(t){for(var e,s=0,o=i(this.cardNodeMap.values());!(e=o()).done;){s++;var n=e.value.getComponent(r);if(n&&n.getBoundingBoxToWorld().contains(t))return s}return 0},s.getCardNodeByWorldPos=function(t){for(var e,s=i(this.cardNodeMap.values());!(e=s()).done;){var o=e.value,n=o.getComponent(r);if(n&&n.getBoundingBoxToWorld().contains(t))return o}return null},s._registerTargetEvent=function(t){t.on(n.EventType.TOUCH_START,this._onTouchBegan,this),t.on(n.EventType.TOUCH_MOVE,this._onTouchMove,this),t.on(n.EventType.TOUCH_END,this._onTouchEnded,this),t.on(n.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},s._unregisterTargetEvent=function(t){t.off(n.EventType.TOUCH_START,this._onTouchBegan,this),t.off(n.EventType.TOUCH_MOVE,this._onTouchMove,this),t.off(n.EventType.TOUCH_END,this._onTouchEnded,this),t.off(n.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},s._onTouchBegan=function(t){var i=this;if(this.isPriorityMod=!1,this.hideAllCardSign(),t&&(!this.isWorking||this.isWorking())){this.refresh();var e=t.getUILocation(),s=this.getNumByWorldPos(e),o=this.cardMap.get(s);this.lastNum=s,s>0&&this.CanPrioritySelect&&(this.pressStartTime=Date.now(),this.timer=setTimeout((function(){Date.now()-i.pressStartTime>=i.pressThreshold&&i.onLongPress()}),this.pressThreshold,null),this.startLongPressAnim(s)),null==o||o.setSignVisibility(!0)}},s._onTouchMove=function(t){var i=this;if(t&&(!this.isWorking||this.isWorking())){this.refresh();var e=t.getUILocation(),s=this.getNumByWorldPos(e),o=this.cardMap.get(s);s!==this.lastNum&&(this.lastNum=s,this.hideAllCardSign(),null==o||o.setSignVisibility(!0),this.CanPrioritySelect&&(this.isPriorityMod=!1,clearTimeout(this.timer),this.timer=0,this.pressStartTime=Date.now(),this.timer=setTimeout((function(){Date.now()-i.pressStartTime>=i.pressThreshold&&i.onLongPress()}),this.pressThreshold,null),this.startLongPressAnim(s)))}},s._onTouchEnded=function(t){if(this.hideAllCardSign(),this.stopLongPressAnim(),t&&(!this.isWorking||this.isWorking())){clearTimeout(this.timer),this.timer=0;var i,e=t.getUILocation(),s=this.getNumByWorldPos(e);if(0!==s)if(this.lastNum=s,!this.isPriorityMod)console.log("select card num: "+s),null==(i=this.emitter)||i.emit("select-card",{num:s})}},s._onTouchCancel=function(t){this.hideAllCardSign(),this.stopLongPressAnim()},s.onLongPress=function(){console.log("长按事件触发！");var t,i=this.lastNum;i>0&&(this.isPriorityMod=!0,this.setFouceNum(i),null==(t=this.emitter)||t.emit("focus-card",{focusNum:i}))},s.startLongPressAnim=function(t){var i=this;this.stopLongPressAnim();var e=this.cardMap.get(t);if(e){var s=e.SignFocusPoint,o=this.uiLongPress.parent.getComponent(r);if(o){var n=o.convertToNodeSpaceAR(s);this.uiLongPress.active=!0,this.uiLongPress.position=n;var u=this.uiLongPress.getComponent(a);u.progress=0,this.longPressTween=h(this.uiLongPress).to(this.pressThreshold/1e3,{},{onUpdate:function(t,i){u.progress=i},onComplete:function(){i.uiLongPress.active=!1}}).start()}}},s.stopLongPressAnim=function(){this.longPressTween&&(this.longPressTween.stop(),this.longPressTween=null,this.uiLongPress.active=!1)},s.hideAllCardSign=function(){for(var t,e=i(this.cardMap.values());!(t=e()).done;){t.value.setSignVisibility(!1)}},e(t,[{key:"CanPrioritySelect",get:function(){return u.leader.setInfo.prioritySelect>0}},{key:"IsPriority",get:function(){return this.isPriorityMod},set:function(t){this.isPriorityMod=t,this.updateAllCardState()}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Cell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConstantDef.ts","./G.ts"],(function(t){var e,i,o,l,n,r,a,s,c,u,f,h,p,m,C,d,v,y,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,l=t.assertThisInitialized,n=t.createForOfIteratorHelperLoose,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,c=t.Color,u=t.Sprite,f=t.Label,h=t.find,p=t.UIOpacity,m=t.tween,C=t.Vec3,d=t.math,v=t.Component},function(t){y=t.ColorSelectMap,b=t.FontSizeMap},function(t){g=t.default}],execute:function(){var E,N,w,S,x,T,F,I,A,L,V,k,z,M,R,B,P,O;a._RF.push({},"41938hMa5RFVaKSgjDS0l7Q","Cell",void 0);var D=s.ccclass,H=s.property,K=t("ECellView",function(t){return t[t.Normal=0]="Normal",t[t.Focused=1]="Focused",t[t.Related=2]="Related",t}({})),U=t("ECellFill",function(t){return t[t.Preset=0]="Preset",t[t.Empty=1]="Empty",t[t.Valid=2]="Valid",t[t.Invalid=3]="Invalid",t}({}));t("Cell",(E=D("Cell"),N=H({type:c}),w=H({type:c}),S=H({type:c}),x=H({type:c}),T=H({type:c}),F=H(u),I=H(f),E(((O=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,o(e,"normalColor",V,l(e)),o(e,"selectColor",k,l(e)),o(e,"relationColor",z,l(e)),o(e,"fillSuccessColor",M,l(e)),o(e,"fillErrorColor",R,l(e)),o(e,"img",B,l(e)),o(e,"text",P,l(e)),e.uiEffect=void 0,e.effectTween=null,e.numberEffectTween=null,e.cellIndex=-1,e.targetNum=-1,e.curNum=-1,e.cellViewState=K.Normal,e.cellFillState=U.Empty,e.uiNotesContainer=void 0,e.uiNotesMap=new Map,e.uiNotesList=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.uiNotesContainer=h("notes",this.node);for(var t,e=n(this.uiNotesContainer.children);!(t=e()).done;){var i=t.value,o=i.name.slice(4,5);this.uiNotesMap.set(o,i)}this.uiNotesList=Array.from(this.uiNotesContainer.children),this.uiEffect=h("effect",this.node),this.uiEffect.active=!1},a.setTargetNum=function(t){this.targetNum=t},a.isTargetNum=function(t){return t===this.targetNum},a.setPresetNum=function(t,e){void 0===e&&(e=!1),this.curNum=t,this.cellFillState=U.Preset,this.updateCellFillState(),e&&this.numberEffectAnim()},a.setNum=function(t,e){void 0===e&&(e=!1),t>0?(this.curNum=t,this.cellFillState=this.isTargetNum(t)?U.Valid:U.Invalid):(this.curNum=0,this.cellFillState=U.Empty),this.updateCellFillState(),e&&this.numberEffectAnim()},a.updateCellViewState=function(){var t=y[g.leader.setInfo.colorType];switch(this.cellViewState){case K.Normal:this.setCellColor((null==t?void 0:t.cellColor.normal)||this.normalColor);break;case K.Focused:this.setCellColor((null==t?void 0:t.cellColor.focus)||this.selectColor);break;case K.Related:this.setCellColor((null==t?void 0:t.cellColor.relative)||this.relationColor)}},a.updateCellFillState=function(){var t=b[g.leader.setInfo.fontSizeType];t&&(this.text.fontSize=t,this.text.lineHeight=t);var e=y[g.leader.setInfo.colorType];switch(this.cellFillState){case U.Empty:this.setTextContent("",c.BLACK,!1);break;case U.Preset:this.setTextContent(""+this.curNum,(null==e?void 0:e.numberColor.normal)||c.BLACK);break;case U.Valid:this.setTextContent(""+this.curNum,(null==e?void 0:e.numberColor.valid)||this.fillSuccessColor);break;case U.Invalid:this.setTextContent(""+this.curNum,(null==e?void 0:e.numberColor.inValid)||this.fillErrorColor)}},a.setCellColor=function(t){this.img.color=t},a.setTextContent=function(t,e,i){void 0===i&&(i=!0),this.text.string=t,this.text.color=e,this.text.node.active=i},a.setNotes=function(t){var e=this,i="number"==typeof t?[t]:t;this.uiNotesList.forEach((function(t){t.active=!1;var e=t.getComponent(f);e.color=c.GRAY,e.isBold=!1})),i.forEach((function(t){var i=e.uiNotesList[t-1];i&&(i.active=!0)}))},a.lightNotes=function(t){if(Number.isInteger(t)){var e=this.uiNotesList[t-1];if(null!=e&&e.active){var i=e.getComponent(f);i.color=c.BLACK,i.isBold=!0}}},a.clearAllLightNotes=function(){this.uiNotesList.forEach((function(t){var e=t.getComponent(f);e.color=c.GRAY,e.isBold=!1}))},a.playEffectAnim=function(t){var e=this;if(this.uiEffect){this.clearEffectAnim();var i=this.uiEffect.getComponent(p)||this.uiEffect.addComponent(p);i.opacity=255,this.uiEffect.active=!0,this.effectTween=m(this.uiEffect).to(.2,{},{easing:"sineInOut",onUpdate:function(t,e){i.opacity=255*(1-e)},onComplete:function(){i.opacity=0,e.uiEffect.active=!1,null==t||t()}}).start()}else null==t||t()},a.clearEffectAnim=function(){this.uiEffect&&this.effectTween&&(this.effectTween.stop(),this.effectTween=null)},a.blink=function(t,e){var i=this.node.getComponent(p);i||(i=this.node.addComponent(p)),m(i).repeat(e,m().to(t/2,{opacity:0},{easing:"fade"}).to(t/2,{opacity:255},{easing:"fade"})).call((function(){})).start()},a.showUIEffect=function(t){this.uiEffect&&((this.uiEffect.getComponent(p)||this.uiEffect.addComponent(p)).opacity=t?255:0,this.uiEffect.active=t)},a.numberEffectAnim=function(t){if(this.text||this.text.enabledInHierarchy){this.clearNumberEffectAnim();var e=this.text.node,i=e.getComponent(p)||e.addComponent(p);i.opacity=255;var o=new C;e.translate(o.set(0,40,0)),this.numberEffectTween=m(this.text.node).parallel(m().to(.3,{},{easing:"linear",onStart:function(){i.opacity=100},onUpdate:function(t,e){i.opacity=d.lerp(100,255,e)},onComplete:function(){i.opacity=255}}),m().to(.7,{position:C.ZERO},{easing:"bounceOut"})).start()}else null==t||t()},a.clearNumberEffectAnim=function(){this.numberEffectTween&&(this.numberEffectTween.stop(),this.numberEffectTween=null);var t=this.text.node.getComponent(p);t&&(t.opacity=255),this.text.node.position=C.ZERO},r(e,[{key:"RowCol",get:function(){return[Math.floor(this.cellIndex/e.MaxCol),this.cellIndex%e.MaxCol]}},{key:"TargetNum",get:function(){return this.targetNum}},{key:"Num",get:function(){return this.curNum},set:function(t){this.setNum(t)}},{key:"CellViewState",get:function(){return this.cellViewState},set:function(t){this.cellViewState=t,this.updateCellViewState()}},{key:"CellFillState",get:function(){return this.cellFillState}}]),e}(v)).MaxRow=9,O.MaxCol=9,V=e((L=O).prototype,"normalColor",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(L.prototype,"selectColor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(L.prototype,"relationColor",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(L.prototype,"fillSuccessColor",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(L.prototype,"fillErrorColor",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(L.prototype,"img",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(L.prototype,"text",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=L))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClassConfig.ts",["cc"],(function(n){var c;return{setters:[function(n){c=n.cclegacy}],execute:function(){c._RF.push({},"58bccrvs6tGTqLTkj0qXe9c","ClassConfig",void 0),n("ClassConfig",function(){function n(){}return n.getClass=function(c){return n._confg[c]},n.addClass=function(c,t){n._confg[c]=t},n.haveClass=function(c){return null!=n._confg[c]},n}())._confg={},c._RF.pop()}}}));

System.register("chunks:///_virtual/ClickEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIPrefabSlots.ts"],(function(t){var i,n,e,o,f,c,s,a,l,r,u;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,o=t.Vec2,f=t.Vec3,c=t.Node,s=t.instantiate,a=t.Animation,l=t.v3,r=t.Component},function(t){u=t.UIPrefabSlots}],execute:function(){var h;n._RF.push({},"57445a1+yJNmJCjDy+jaB5a","ClickEffect",void 0);var p=e.ccclass,E=(e.property,new o);new f,new f,new f,t("ClickToPlayEffect",p("ClickToPlayEffect")(h=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).clickEffectPrefab=void 0,i.uiEffect=null,i.aniamtion=null,i}i(n,t);var e=n.prototype;return e.onLoad=function(){this.initUI()},e.onEnable=function(){this.node.on(c.EventType.TOUCH_START,this.onMouseDown,this)},e.onDisable=function(){this.node.off(c.EventType.TOUCH_START,this.onMouseDown,this)},e.initUI=function(){var t=this.node.getComponent(u);t&&(this.clickEffectPrefab=t.Get("effect_prefab"))},e.start=function(){this.clickEffectPrefab&&(this.uiEffect=s(this.clickEffectPrefab),this.aniamtion=this.uiEffect.getComponent(a),this.aniamtion.on(a.EventType.FINISHED,this.onCompletePlay,this))},e.onCompletePlay=function(){this.uiEffect&&this.uiEffect.parent&&this.uiEffect.removeFromParent()},e.onMouseDown=function(t){t.getUILocation(E),this.playClickEffect(l(E.x,E.y,0))},e.playClickEffect=function(t){null!=t&&null!=this.uiEffect&&(this.uiEffect.parent&&(this.aniamtion.stop(),this.uiEffect.removeFromParent()),this.node.addChild(this.uiEffect),this.uiEffect.setWorldPosition(t),this.aniamtion.play())},n}(r))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/ColorPaletteUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./Facade.ts","./FrameDefine.ts","./UIControler.ts","./G.ts","./LanLabel.ts"],(function(e){var n,t,o,i,a,r,s,l,c,u,f;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e.find,i=e.Toggle,a=e.UITransform},function(e){r=e.ClassConfig},function(e){s=e.default},function(e){l=e.GameEvent},function(e){c=e.UIControler},function(e){u=e.default},function(e){f=e.LanLabel}],execute:function(){t._RF.push({},"8f439QnL5FIs7fSjmByQxSx","ColorPaletteUICtrl",void 0);var h=e("ColorPeletteViewCtrl",function(e){function t(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).uiPanel=void 0,n.uiFontSizeContainer=void 0,n.uiColorSelectContainer=void 0,n}n(t,e);var r=t.prototype;return r._onLoad=function(){this.initUI(),this.regClickHandlers()},r._onEnable=function(){this.adaptPanelPos(),this.setup(),this.updateLanShow()},r._onDisable=function(){},r._onStart=function(){},r._onUpdate=function(){},r.refreshUI=function(){},r.initUI=function(){this.uiPanel=o("panel",this.node),this.uiFontSizeContainer=o("panel/warp/fontList",this.node),this.uiColorSelectContainer=o("panel/warp/colorList",this.node),this.uiPanel},r.updateLanShow=function(){for(var e=this.node.getComponentsInChildren(f),n=0;n<e.length;n++)e[n].language()},r.regClickHandlers=function(){var e=this;this.RegClickHanlder("*",(function(e,n,t,o){u.navigator.Go(e)})),this.RegClickHanlder("close",(function(n,t,o,i){u.leader.saveGameSettingInfo(),s.CloseUI(e.uiName)})),this.RegClickHanlder("font-size",(function(n,t,o,i){var a=parseInt(t,10);u.leader.setInfo.fontSizeType=a,e.sendGameEvent("EVt_FontSize_Change")})),this.RegClickHanlder("color-select",(function(n,t,o,i){var a=parseInt(t,10);u.leader.setInfo.colorType=a,u.themeManager.switchTheme(a),e.sendGameEvent("EVt_ColorType_Change")}))},r.setup=function(){this.setFontShow(),this.setColorShow()},r.setFontShow=function(){var e=u.leader.setInfo.fontSizeType;this.uiFontSizeContainer.children.forEach((function(n,t){var o=n.getComponent(i);o&&t===e&&(o.isChecked=!0)}))},r.setColorShow=function(){var e=u.leader.setInfo.colorType;this.uiColorSelectContainer.children.forEach((function(n,t){var o=n.getComponent(i);o&&t===e&&(o.isChecked=!0)}))},r.adaptPanelPos=function(){var e=this.module.targetWorldPos;if(e||this.uiPanel){var n=this.node.getComponent(a).convertToNodeSpaceAR(e);this.uiPanel.position=n}},r.sendGameEvent=function(e){var n=new l(e);s.SendGameEvent(n)},t}(c));r.addClass("ColorPeletteViewCtrl",h),t._RF.pop()}}}));

System.register("chunks:///_virtual/ColorPaletteUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(e){var t,o,n,u,l,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e.Vec3},function(e){u=e.ModuleBase},function(e){l=e.default},function(e){r=e.default}],execute:function(){o._RF.push({},"6e06ew8PZRNq6kOiUJEwXVt","ColorPaletteUIModule",void 0);var s=e("ColorPeletteModule",function(e){function o(){var t;return(t=e.call(this,o.sTag)||this).targetWorldPos=new n,t}t(o,e);var u=o.prototype;return u.regNetCmds=function(){},u.unRegNetCmds=function(){},u.regGameEvents=function(){},u.unRegGameEvents=function(){},u.DoWork=function(e){void 0===e&&(e=null),e&&e instanceof n&&n.copy(this.targetWorldPos,e),r.OpenUI("ColorPelette")},o}(u));s.sTag="ColorPelette",l.Set("ColorPeletteModule",s),o._RF.pop()}}}));

System.register("chunks:///_virtual/CommandHelper.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a0c5cDSbBhEu4tGP+6ru5Ft","CommandHelper",void 0);e("CommandHelper",(function(){}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CommandManager.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"91ccdVH5JRIypttk5rYowkj","CommandManager",void 0);t("commandManager",new(function(){function t(){this.history=[]}var n=t.prototype;return n.executeCommand=function(t){t.execute(),this.history.push(t)},n.undo=function(){if(0!==this.history.length){var t=this.history.pop();t&&t.undo()}},n.clear=function(){this.history.length=0},t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigLoading.ts",["cc"],(function(n){var g;return{setters:[function(n){g=n.cclegacy}],execute:function(){g._RF.push({},"5836bTsi6dGipWNFGNYn9v8","ConfigLoading",void 0);var a=n("ConfigLoading",(function(){}));a.namesBeforeGame=[],a.namesEnterGame=[{bundle:"cfgs",url:"cfgs/guan_config_best_hard",name:"guan_config_best_hard"},{bundle:"cfgs",url:"cfgs/guan_config_daily",name:"guan_config_daily"},{bundle:"cfgs",url:"cfgs/guan_config_easy",name:"guan_config_easy"},{bundle:"cfgs",url:"cfgs/guan_config_extra_hard",name:"guan_config_extra_hard"},{bundle:"cfgs",url:"cfgs/guan_config_hard",name:"guan_config_hard"},{bundle:"cfgs",url:"cfgs/guan_config_level",name:"guan_config_level"},{bundle:"cfgs",url:"cfgs/guan_config_medium",name:"guan_config_medium"}],g._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResManager.ts"],(function(n){var e,t,o,l,i,a,r;return{setters:[function(n){e=n.createForOfIteratorHelperLoose,t=n.createClass},function(n){o=n.cclegacy,l=n.JsonAsset,i=n.error,a=n.assetManager},function(n){r=n.ResManager}],execute:function(){o._RF.push({},"f3e0a+OnJJIPa3/Zph4Iv7D","ConfigManager",void 0);var s=function(){function n(){this._isInit=!1,this._db_map=new Map}var o=n.prototype;return o.Init=function(){this._isInit=!0},o._loadTables=function(n,t,o,r){for(var s,u=this,f=0,c=!1,d=(t.length,function(){var e=s.value;if(!e)return++f,null==r||r(),1;c=!0,n.load(e,l,(function(l,s){++f,s?u._db_map.set(e,s.json):i("require config failed for table %s, json load failed %s",e,l),a.removeBundle(n),f==t.length?null==o||o():null==r||r()}))}),g=e(t);!(s=g()).done;)d();0!=c&&f!=t.length||null==o||o()},o.LoadConfigs=function(n,e,t,o){var s=this;console.log("require configs",e),n&&n.length>0?null==e||0==e.length?r.loadBundle(n,(function(e,o){o.load(n,l,(function(e,l){l?s._db_map.set(n,l.json):i("require config failed for table %s, json load failed %s",n,e),a.removeBundle(o),null==t||t()}))})):r.loadBundle(n,(function(n,l){s._loadTables(l,e,t,o)})):this.requireConfigs(e,t,o)},o.requireConfigs=function(n,t,o){var s=this;console.log("require configs",n);for(var u,f=0,c=!1,d=function(){var e=u.value;if(!e)return++f,null==o||o(),1;c=!0,r.loadBundle(e,(function(r,u){r?(++f,null==o||o(),i("require config failed for table %s, bundle load failed %s",e,r)):u.load(e,l,(function(l,r){++f,r?s._db_map.set(e,r.json):i("require config failed for table %s, json load failed %s",e,l),a.removeBundle(u),f==n.length?t():null==o||o()}))}))},g=e(n);!(u=g()).done;)d();c&&f!=n.length||null==t||t()},o.getByName=function(n){return this._db_map.get(n)},o.releaseByName=function(n){this._db_map.delete(n)},t(n,[{key:"isInit",get:function(){return this._isInit}}],[{key:"Instance",get:function(){return null==n._instance&&(n._instance=new n),n._instance}}]),n}();s._instance=null;n("default",s.Instance);o._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigReader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigManager.ts","./ResManager.ts"],(function(e){var t,n,a,i,r,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,a=e.error,i=e.assert},function(e){r=e.default},function(e){o=e.ResManager}],execute:function(){n._RF.push({},"38c97CplVRIq69CSV807XjJ","ConfigReader",void 0);var s=e("ConfigReader",function(){function e(){}return e.Init=function(){var e=this;r.LoadConfigs(o.ConfigBundle,["all"],(function(){e.config_indices=r.getByName("all")}))},e.Preload=function(t,n,a,i){e.LoadConfigs(t,n,a,i)},e.getTableFiles=function(e){return this.config_indices[e].list},e.LoadConfigs=function(e,n,a,i){for(var o,s=this,l=[],f=t(n);!(o=f()).done;){var u=o.value,c=this.getTableFiles(u);"string"==typeof c?l.push(c):l=l.concat(c)}r.LoadConfigs(e,l,(function(){for(var e,i=t(n);!(e=i()).done;){var r=e.value;s.GetTable(r)}null==a||a()}))},e.GetTable=function(n){if(e._Tables.has(n))return e._Tables.get(n);var i=e.getTableFiles(n);if(!i)return a("ConfigReader:getDataTable: can not find config table: "+n),{};if("string"==typeof i)e._Tables.set(n,r.getByName(i)||{});else if("object"==typeof i){var o=r.getByName(i[0]);e._Tables.set(n,o||{});for(var s,l=t(i);!(s=l()).done;){var f=s.value,u=r.getByName(f);if(u)for(var c in u)o[c]=u[c]}}return e._Tables.get(n)},e.Get=function(e,t){var n=this._Tables.get(e);if(n&&n[t])return n[t];var a=this.GetTable(e);return a?a[t]:null},e.GetAsync=function(e,t,n){var a=this;return new Promise((function(i,r){var o=a._Tables.get(e);o&&o[t]&&i(o[t]),a.LoadConfigs(n,[e],(function(){var n=a._Tables.get(e);if(n)i(n&&n[t]||null);else{var r=a.GetTable(e);i(r&&r[t]||null)}}))}))},e.GetFiled=function(e,t,n){var a=this.Get(e,t);return a?(i("object"==typeof a,"record is NOT table"),a[n]):null},e.KeysOfTable=function(e){var t=this._KeysCache.get(e);if(t)return t;var n=this.GetTable(e);n&&(t=Object.keys(n),this._KeysCache.set(e,t))},e.GetAppSeting=function(e,t){return this.Get("ConfigValue",e)||t},e.GetAppMaxLevel=function(e){return void 0===e&&(e=120),this.Get("ConfigValue","Player_Maxlevel")||e},e}());s.config_indices=void 0,s._Tables=new Map,s._IsLoadTables=new Map,s._KeysCache=new Map,n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigResolver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigLoading.ts","./G.ts"],(function(e){var n,r,o,t;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy},function(e){o=e.ConfigLoading},function(e){t=e.default}],execute:function(){r._RF.push({},"d1fc3QCcwFOrbyIIBK9SsP3","ConfigResolver",void 0);var s=e("ConfigResolver",function(){function e(){}return e.regResolver=function(e,n){this._resolvers.set(e,n)},e.get=function(e){return this._resolvers.get(e)},e.regAllResolver=function(e){for(var r,o=this,s=function(){var e=r.value;o.regResolver(e.name,(function(n){var r=e.name+"_func";t.gameCfg[r]&&t.gameCfg[r](n)}))},i=n(e);!(r=i()).done;)s()},e}());s._resolvers=new Map,s.regAllResolver(o.namesBeforeGame),s.regAllResolver(o.namesEnterGame),r._RF.pop()}}}));

System.register("chunks:///_virtual/ConstantDef.ts",["cc"],(function(o){var r,f;return{setters:[function(o){r=o.cclegacy,f=o.Color}],execute:function(){r._RF.push({},"f5b17hIwG1DsZYxn/h/po/U","ConstantDef",void 0);o("ColorSelectMap",{0:{numberColor:{normal:f.fromHEX(new f,"#1a1a1a"),inValid:f.fromHEX(new f,"#D01800"),valid:f.fromHEX(new f,"#4667A5")},cellColor:{normal:f.fromHEX(new f,"#ffffff"),relative:f.fromHEX(new f,"#f0f3fa"),focus:f.fromHEX(new f,"#99bcf7")},bgColor:f.fromHEX(new f,"#f8f9fd")},1:{numberColor:{normal:f.fromHEX(new f,"#1a1a1a"),inValid:f.fromHEX(new f,"#D01800"),valid:f.fromHEX(new f,"#3C804C")},cellColor:{normal:f.fromHEX(new f,"#f8FFF3"),relative:f.fromHEX(new f,"#E4F7D7"),focus:f.fromHEX(new f,"#AFCCA1")},bgColor:f.fromHEX(new f,"#F2FFF2"),boardColor:f.fromHEX(new f,"#B1C8B5")},2:{numberColor:{normal:f.fromHEX(new f,"#1a1a1a"),inValid:f.fromHEX(new f,"#D01800"),valid:f.fromHEX(new f,"#d19f55")},cellColor:{normal:f.fromHEX(new f,"#fffefa"),relative:f.fromHEX(new f,"#f4e9d5"),focus:f.fromHEX(new f,"#f8db99")},bgColor:f.fromHEX(new f,"#f2eee3")},3:{numberColor:{normal:f.fromHEX(new f,"#ffffff"),inValid:f.fromHEX(new f,"#D01800"),valid:f.fromHEX(new f,"#2d80d6")},cellColor:{normal:f.fromHEX(new f,"#131313"),relative:f.fromHEX(new f,"#343a4d"),focus:f.fromHEX(new f,"#3b5d9a")},bgColor:f.fromHEX(new f,"#1E1E22")}}),o("FontSizeMap",{0:60,1:70,2:90});r._RF.pop()}}}));

System.register("chunks:///_virtual/DailyChallengeUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./UIControler.ts","./G.ts","./Facade.ts","./PrizeUIModule.ts","./Calendar.ts","./UITools.ts","./MainDef.ts","./KeyManager.ts","./Tool.ts","./LanLabel.ts"],(function(e){var t,n,a,i,l,o,r,s,c,d,h,u,g,f,C,p,v,m,D,y,I,w,b;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e.find,i=e.Label,l=e.UIOpacity,o=e.Vec3,r=e.v3,s=e.Sprite,c=e.Color,d=e.resources,h=e.SpriteFrame,u=e.tween},function(e){g=e.ClassConfig},function(e){f=e.UIControler},function(e){C=e.default},function(e){p=e.default},function(e){v=e.PrizeModule},function(e){m=e.Calendar},function(e){D=e.UITools},function(e){y=e.ESudokuType},function(e){I=e.Keys},function(e){w=e.default},function(e){b=e.LanLabel}],execute:function(){n._RF.push({},"e6a4bLwHN5K9q8HrZ4pLE0P","DailyChallengeUICtrl",void 0);var S=function(e){return e[e.NotAvailable=0]="NotAvailable",e[e.Available=1]="Available",e[e.Challenged=2]="Challenged",e[e.Completed=3]="Completed",e}(S||{}),U=e("DailyChallengeViewCtrl",function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).calender=void 0,t.dayItem=void 0,t.selectDate=new Date,t.toDay=new Date,t.mainIcon=void 0,t}t(n,e);var g=n.prototype;return g._onLoad=function(){this.initUI(),this.regClickHandlers()},g._onEnable=function(){this.setup(),this.updateLanShow()},g._onDisable=function(){},g._onStart=function(){},g._onUpdate=function(){},g.refreshUI=function(){},g.initUI=function(){var e;this.calender=null==(e=a("panel/mid/Calendar",this.node))?void 0:e.getComponent(m),this.mainIcon=a("panel/top/mainIcon",this.node),this.dayItem=a("panel/mid/Calendar/GridContainer/DaysGrid/dayItem",this.node)},g.updateLanShow=function(){for(var e=this.node.getComponentsInChildren(b),t=0;t<e.length;t++)e[t].language()},g.regClickHandlers=function(){var e=this;this.RegClickHanlder("*",(function(e,t,n,a){C.navigator.Go(e)})),this.RegClickHanlder("prize",(function(e,t,n,a){p.OpenUI(v.sTag)})),this.RegClickHanlder("start-challenge",(function(t,n,a,i){if(e.selectDate){var l=e.getDateInfo(e.selectDate),o=l[0],r=l[1],s=l[2];D.openBattle({type:y.DailyChallenge,day:o+"-"+(r+1)+"-"+s})}}))},g.setup=function(){var e=this;this.selectDate=new Date,this.calender.setDayItemAndRenderCallback(this.dayItem,this.onDayItemRender.bind(this)),this.calender.setHighlightDateCallback(this.onHighlightSelectedDate.bind(this)),this.calender.setStartDate(new Date(2025,0,1)),this.calender.setEndDate(new Date),this.calender.node.on("month-changed",(function(t){e.switchPrize(t)})),this.calender.node.on("date-selected",(function(t){e.selectDate=t})),this.calender.setCurrentDate(new Date),this.switchPrize(this.toDay)},g.getDateInfo=function(e){return[e.getFullYear(),e.getMonth(),e.getDate()]},g.onDayItemRender=function(e,t){var n,a=this.getDateInfo(t),o=a[0],r=a[1],s=a[2];e.name=o+"-"+(r+1)+"-"+s;var c=null==(n=e.getChildByName("text"))?void 0:n.getComponent(i);c&&(c.string=""+t.getDate());var d=e.getChildByName("select");d&&(d.active=!1);var h=e.getComponent(l)||e.addComponent(l),u=e.getChildByName("passBg"),g=e.getChildByName("passIcon"),f=e.getChildByName("challenged"),C=this.evaluate(t,this.toDay);h.opacity=C===S.NotAvailable?128:255,u.active=C===S.Completed,g.active=C===S.Completed,f.active=C===S.Challenged},g.onHighlightSelectedDate=function(e,t){if(null!=e){var n=e.getChildByName("select");n&&(n.active=!!t),t&&this.scaleTween(n,.2,o.ONE,r(1.1,1.1,1))}},g.switchPrize=function(e){var t,n,a=null==(t=this.mainIcon)?void 0:t.getComponent(s);if(a){var i="icon_prize_"+(e.getMonth()+1);(null==(n=a.spriteFrame)?void 0:n.name)!==i&&(D.SetSpriteFrame(this.mainIcon,"prize/"+i),this.scaleTween(this.mainIcon,.2,o.ONE,r(1.1,1.1,1),!0))}},g.setSpriteFrame=function(e,t,n){var a=null==e?void 0:e.getComponent(s);a?(a.color=c.WHITE,d.load(t+"/spriteFrame",h,(function(e,t){e?(console.log(e),null==n||n(a,null)):(a.spriteFrame=t,null==n||n(a,t))}))):null==n||n(null,null)},g.scaleTween=function(e,t,n,a,i,l){void 0===i&&(i=!0);var o=u(e).set({scale:n,active:!0}).to(.7*t,{scale:a}).to(.3*t,{scale:n}).call((function(){return null==l?void 0:l()}));return i?o.start():o},g.checkDateChallenged=function(e){var t="daily_"+w.formatDateString(e,"%{YYYY}-%{M}-%{d}"),n=I.SUDOKU_DATA_Prefix+":"+t;return C.leader.dataStorageManager.has(n)},g.checkDateComplete=function(e){var t=new Set(C.leader.roleData.dailyChallenges),n=this.getDateInfo(e),a=n[0],i=n[1],l=n[2];return t.has(a+"-"+(i+1)+"-"+l)},g.evaluate=function(e,t){return e>t?S.NotAvailable:this.checkDateComplete(e)?S.Completed:this.checkDateChallenged(e)?S.Challenged:S.Available},n}(f));g.addClass("DailyChallengeViewCtrl",U),n._RF.pop()}}}));

System.register("chunks:///_virtual/DailyChallengeUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(e){var n,t,l,u,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){l=e.ModuleBase},function(e){u=e.default},function(e){o=e.default}],execute:function(){t._RF.push({},"3c524devb9ML4hvY/heuel3","DailyChallengeUIModule",void 0);var a=e("DailyChallengeModule",function(e){function t(){return e.call(this,t.sTag)||this}n(t,e);var l=t.prototype;return l.regNetCmds=function(){},l.unRegNetCmds=function(){},l.regGameEvents=function(){},l.unRegGameEvents=function(){},l.DoWork=function(e){o.OpenUI("DailyChallenge")},t}(l));a.sTag="DailyChallenge",u.Set("DailyChallengeModule",a),t._RF.pop()}}}));

System.register("chunks:///_virtual/DataStorageManager.ts",["cc","./LocalStorageDataSource.ts"],(function(t){var e,a;return{setters:[function(t){e=t.cclegacy},function(t){a=t.LocalStorageDataSource}],execute:function(){e._RF.push({},"58772zujd9O5oFI4vE+tLt6","DataStorageManager",void 0);t("DataStorageManager",function(){function t(t,e){void 0===e&&(e=new a),this.account="",this.server="",this.dataConfig={},this.cachedData={},this.dataSource=void 0,this.dataConfig=t,this.dataSource=e,console.log("datastorageMannager 初始化完成")}var e=t.prototype;return e.setCurrentAccount=function(t){this.account=t,this.cachedData={}},e.setCurrentServer=function(t){this.server=t},e.get=function(t){var e=this.getKeyAndConfig(t)||{},a=e.compositeKey,n=e.config;if(null==a||null==n)return null;if(this.cachedData[t])return this.cachedData[t];var i="function"==typeof n.defaultValue?n.defaultValue():n.defaultValue,o=this.dataSource.get(a,i);return o===i?i:n.validate&&!n.validate(o)?(console.warn("Invalid data for key: "+t+", resetting to default."),this.reset(t),i):(this.cachedData[t]=o,o)},e.has=function(t){var e=this.getKeyAndConfig(t)||{},a=e.compositeKey,n=e.config;if(null==a||null==n)return!1;if(void 0!==this.cachedData[t])return!0;var i="function"==typeof n.defaultValue?n.defaultValue():n.defaultValue,o=this.dataSource.get(a,i);return o!==i&&!(n.validate&&!n.validate(o))},e.save=function(t,e){var a=this.getKeyAndConfig(t)||{},n=a.compositeKey,i=a.config;return null==n||null==i?null:i.validate&&!i.validate(e)?(console.error("Invalid data for key: "+t+"."),null):(this.cachedData[t]=e,void this.dataSource.set(n,e))},e.reset=function(t){var e=this.getKeyAndConfig(t)||{},a=e.compositeKey,n=e.config;if(null==a||null==n)return null;var i="function"==typeof n.defaultValue?n.defaultValue():n.defaultValue;this.cachedData[t]=i,this.dataSource.set(a,i)},e.remove=function(t){var e=this.getKeyAndConfig(t)||{},a=e.compositeKey,n=e.config;if(null==a||null==n)return null;delete this.cachedData[t],this.dataSource.remove(a)},e.getKeyAndConfig=function(t){var e=this.getConfigForKey(t);return e?{compositeKey:this.server+":"+this.account+":"+t,config:e}:(console.error("Invalid key: "+t+". Please define it in the configuration."),null)},e.getConfigForKey=function(t){return this.dataConfig[t]?this.dataConfig[t]:Object.keys(this.dataConfig).find((function(e){return t.startsWith(e+":")}))?this.dataConfig[t.split(":")[0]]:void 0},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DataStorageManager%20copy.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7f767GQL6VNDLkEPMb+6Hnx","DataStorageManager%20copy",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Decorator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BehaviorTree.ts","./BTreeNode.ts"],(function(e){var t,o,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.BehaviorTree},function(e){r=e.BTreeNode}],execute:function(){o._RF.push({},"810daeyryRCM6U2KpM8e9WC","Decorator",void 0);e("Decorator",function(e){function o(t){var o;return(o=e.call(this)||this).node=void 0,t&&(o.node=n.getNode(t)),o}t(o,e);var r=o.prototype;return r.setNode=function(e){this.node=n.getNode(e)},r.start=function(){this.node.setControl(this),this.node.start(),e.prototype.start.call(this)},r.end=function(){this.node.end()},r.run=function(e){this.node.run(e)},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/Device.ts",["cc"],(function(e){var a,o;return{setters:[function(e){a=e.cclegacy,o=e.sys}],execute:function(){a._RF.push({},"60484pt1itJJ7p9c+Q4SkHV","Device",void 0);var l=e("ERunPlat",function(e){return e[e.unkown=0]="unkown",e[e.editor=1]="editor",e[e.editor_page=2]="editor_page",e[e.windows=3]="windows",e[e.macos=4]="macos",e[e.android=5]="android",e[e.ios=6]="ios",e[e.ohos=7]="ohos",e[e.pc_browser=8]="pc_browser",e[e.mobile_browser=9]="mobile_browser",e[e.minigame=10]="minigame",e}({})),r=e("device",{kNetType:{kNetType_no:1,kNetType_wifi:2,kNetType_3g:3},platform:l.unkown,minigame:"",isNative:o.isNative,isMobile:o.isMobile,isBrowser:o.isBrowser,vendor:"unknown",osVersion:o.osVersion,model:"unknown",device_lang:o.languageCode,device_address:"未知",longitude:"",latitude:"",language:"cn"}),n=o.platform;if(n==o.Platform.EDITOR_CORE)r.platform=l.editor;else if(n==o.Platform.EDITOR_PAGE)r.platform=l.editor_page;else if(n==o.Platform.WIN32)r.platform=l.windows;else if(n==o.Platform.MACOS)r.platform=l.macos;else if(n==o.Platform.ANDROID)r.platform=l.android;else if(n==o.Platform.IOS)r.platform=l.ios;else if(n==o.Platform.OHOS)r.platform=l.ohos;else if(n==o.Platform.DESKTOP_BROWSER)r.platform=l.pc_browser;else if(n==o.Platform.MOBILE_BROWSER)r.platform=l.mobile_browser;else switch(n){case o.Platform.ALIPAY_MINI_GAME:case o.Platform.WECHAT_GAME:case o.Platform.BAIDU_MINI_GAME:case o.Platform.XIAOMI_QUICK_GAME:case o.Platform.ALIPAY_MINI_GAME:case o.Platform.TAOBAO_CREATIVE_APP:case o.Platform.TAOBAO_MINI_GAME:case o.Platform.BYTEDANCE_MINI_GAME:case o.Platform.OPPO_MINI_GAME:case o.Platform.VIVO_MINI_GAME:case o.Platform.HUAWEI_QUICK_GAME:case o.Platform.COCOSPLAY:case o.Platform.LINKSURE_MINI_GAME:case o.Platform.QTT_MINI_GAME:r.platform=l.minigame,r.minigame=n.toLowerCase()}var g=o.language;g==o.Language.CHINESE?r.language="cn":g==o.Language.FRENCH?r.language="fr":g==o.Language.ITALIAN?r.language="it":g==o.Language.GERMAN?r.language="gr":g==o.Language.SPANISH?r.language="sp":g==o.Language.RUSSIAN?r.language="ru":g==o.Language.KOREAN?r.language="kr":g==o.Language.JAPANESE?r.language="jp":g==o.Language.HUNGARIAN?r.language="hu":g==o.Language.PORTUGUESE?r.language="pt":g==o.Language.ARABIC?r.language="ar":r.language="en",console.log("# device.device_lang           = "+r.device_lang),console.log("# device.platform              = "+r.platform),console.log("# device.model                 = "+r.model),console.log("# device.language              = "+r.language),console.log("#"),a._RF.pop()}}}));

System.register("chunks:///_virtual/display.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,o,r,l,s,u,c,a,T,h,w;return{setters:[function(e){n=e.createClass},function(e){i=e.cclegacy,t=e.Vec2,o=e.Color,r=e.Size,l=e.Rect,s=e.view,u=e.screen,c=e.ResolutionPolicy,a=e.find,T=e.director,h=e.UITransform,w=e.View}],execute:function(){i._RF.push({},"0556d/HNNFGy4VJHfotrVq6","display",void 0);var _=e("display",function(){function e(){}return e.removeImage=function(e){},e.removeUnusedCache=function(){},e.COLOR_WHITE=function(){return new o(255,255,255,255)},e.COLOR_BLACK=function(e,n){return new o(0,0,0,255)},e.COLOR_RED=function(e){return new o(255,0,0,255)},e.COLOR_GREEN=function(e){return new o(0,255,0,255)},e.createTimeline=function(e){return null},e.isWX=function(){return null!=window.wx},e.initSize=function(){var n,i=new r,t=new r,o=new l;n=s.getDesignResolutionSize().width>s.getDesignResolutionSize().height?e.landscapeDrz:e.portraitDrz;var w=u.windowSize,_=w.width,f=w.height;console.log("rw=",_," rh=",f);var g=_,O=f;_/f>n.width/n.height?(O=n.height,g=Math.floor(O*_/f),this.portrait=!1,s.setDesignResolutionSize(g,O,c.FIXED_HEIGHT)):(g=n.width,O=Math.floor(g*f/_),this.portrait=!0,s.setDesignResolutionSize(g,O,c.FIXED_WIDTH)),t.width=g,t.height=O;var E=a("Canvas",T.getScene());i.width=E.getComponent(h).width,i.width=E.getComponent(h).height,console.log("设计尺寸",n),console.log("屏幕尺寸",w),console.log("final="+g+","+O),o.x=0,o.y=0,o.width=t.width,o.height=t.height,e._safeArea=o,e._fullSize=i,console.log("designSize:",t),console.log("safeArea:",o),console.log("fullSize:",i)},n(e,null,[{key:"winSize",get:function(){return w.instance.getDesignResolutionSize()}},{key:"safeArea",get:function(){return this._safeArea}},{key:"fullSize",get:function(){return this._fullSize}}]),e}());_.portrait=void 0,_.portraitDrz=null,_.landscapeDrz=null,_._safeArea=void 0,_._fullSize=void 0,_.AUTO_SIZE=0,_.FIXED_SIZE=1,_.LEFT_TO_RIGHT=0,_.RIGHT_TO_LEFT=1,_.TOP_TO_BOTTOM=2,_.BOTTOM_TO_TOP=3,_.POINT_ZERO=new t(0,0),_.CENTER=new t(.5,.5),_.LEFT_TOP=new t(0,1),_.LEFT_BOTTOM=new t(0,0),_.LEFT_CENTER=new t(0,.5),_.RIGHT_TOP=new t(1,1),_.RIGHT_BOTTOM=new t(1,0),_.RIGHT_CENTER=new t(1,.5),_.CENTER_TOP=new t(.5,1),_.CENTER_BOTTOM=new t(.5,0);e("DEFAULT_FONT_NAME","");i._RF.pop()}}}));

System.register("chunks:///_virtual/EarseCommand.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"6238cBQw1ZGXq4QR0Xrm5G6","EarseCommand",void 0);t("EarseCommend",function(){function t(t,o){var e;this.cell=void 0,this.gridBoard=void 0,this.orgNotes=void 0,this.gridBoard=t,this.cell=o,this.orgNotes=null==(e=this.gridBoard.notesList[o.cellIndex])?void 0:e.getAllNum()}var o=t.prototype;return o.execute=function(){var t=this.cell.RowCol,o=t[0],e=t[1];this.gridBoard.clearNotes(o,e)},o.undo=function(){var t=this.cell.RowCol,o=t[0],e=t[1];this.gridBoard.setNotes(o,e,this.orgNotes)},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ECS.ts",["cc","./ECSComp.ts","./ECSEntity.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts"],(function(t){var n,e,o,i,r,c,u,d;return{setters:[function(t){n=t.cclegacy},function(t){e=t.ECSComp},function(t){o=t.ECSEntity},function(t){i=t.ECSMatcher},function(t){r=t.ECSModel},function(t){c=t.ECSSystem,u=t.ECSRootSystem,d=t.ECSComblockSystem}],execute:function(){var s;t("ecs",void 0),n._RF.push({},"403a9SyduBNvpWXqCojalLn","ECS",void 0),function(t){var n=t.Entity=o;t.Comp=e,t.System=c,t.RootSystem=u,t.ComblockSystem=d;function s(t){return function(){var t=new n;return t.eid=r.eid++,r.eid2Entity.set(t.eid,t),t}().add(t)}t.register=function(t,n){return void 0===n&&(n=!0),function(e){if(null==e.tid)r.entityCtors.set(e,t);else{if(-1!==e.tid)throw new Error("重复注册组件： "+t+".");e.tid=r.compTid++,e.compName=t,n?(r.compCtors.push(e),r.compPools.set(e.tid,[])):r.compCtors.push(null),r.compAddOrRemove.set(e.tid,[])}}},t.getEntity=function(t){var n=r.entityCtors.get(t);null==n&&console.error(t.name+" 实体没有注册");var e=(r.entityPool.get(n)||[]).pop();return e||((e=new t).eid=r.eid++,e.name=n),e.init?e.init():console.error(t.name+" 实体缺少 init 方法初始化默认组件"),r.eid2Entity.set(e.eid,e),e},t.query=function(t){var n=r.groups.get(t.mid);return n||(n=r.createGroup(t),r.eid2Entity.forEach(n.onComponentAddOrRemove,n)),n.matchEntities},t.clear=function(){r.eid2Entity.forEach((function(t){t.destroy()})),r.groups.forEach((function(t){t.clear()})),r.compAddOrRemove.forEach((function(t){t.length=0})),r.eid2Entity.clear(),r.groups.clear()},t.getEntityByEid=function(t){return r.eid2Entity.get(t)},t.activeEntityCount=function(){return r.eid2Entity.size},t.allOf=function(){var t;return(t=new i).allOf.apply(t,arguments)},t.anyOf=function(){var t;return(t=new i).anyOf.apply(t,arguments)},t.onlyOf=function(){var t;return(t=new i).onlyOf.apply(t,arguments)},t.excludeOf=function(){var t;return(t=new i).excludeOf.apply(t,arguments)},t.getSingleton=function(t){if(!r.tid2comp.has(t.tid)){var n=s(t);r.tid2comp.set(t.tid,n)}return r.tid2comp.get(t.tid)},t.addSingleton=function(t){var n=t.constructor.tid;r.tid2comp.has(n)||r.tid2comp.set(n,t)}}(s||(s=t("ecs",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ECSComp.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"f0d212quUxLF6q1x5s5gbqW","ECSComp",void 0);var e=t("ECSComp",(function(){this.ent=void 0,this.canRecycle=!0}));e.tid=-1,e.compName=void 0,c._RF.pop()}}}));

System.register("chunks:///_virtual/ECSEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){n=t.ECSMask},function(t){o=t.ECSModel}],execute:function(){function r(t,i){for(var e=o.compAddOrRemove.get(i),n=e.length-1;n>=0;n--)e[n](t);o.tid2comp.has(i)&&o.tid2comp.delete(i)}e._RF.push({},"f2616uC2YlPA6nifdJTr1MT","ECSEntity",void 0);t("ECSEntity",function(){function t(){this.eid=-1,this.name="",this.mask=new n,this.compTid2Ctor=new Map,this.compTid2Obj=new Map,this._parent=null,this._children=null}var e=t.prototype;return e.addChild=function(t){t._parent=this,this.children.set(t.eid,t)},e.removeChild=function(t){null!=this.children&&(this.children.delete(t.eid),0==this.children.size&&(this._children=null))},e.add=function(t,i){if(void 0===i&&(i=!1),"function"==typeof t){var e,n=t.tid;if(-1===t.tid)throw Error("组件未注册！");if(this.compTid2Ctor.has(n)){if(!i)return console.log("已经存在组件："+t.compName),this[t.compName];this.remove(t)}return this.mask.set(n),this.compTid2Obj.has(n)?(e=this.compTid2Obj.get(n),this.compTid2Obj.delete(n)):e=function(t){var i=o.compCtors[t.tid];if(!i)throw Error("没有找到该组件的构造函数，检查"+t.compName+"是否为不可构造的组件");return o.compPools.get(t.tid).pop()||new i}(t),this[t.compName]=e,this.compTid2Ctor.set(n,t),e.ent=this,r(this,n),e}var s=t.constructor,h=s.tid;if(-1===h||null==h)throw Error("组件未注册");if(this.compTid2Ctor.has(h))throw Error("已经存在该组件");return this.mask.set(h),this[s.compName]=t,this.compTid2Ctor.set(h,s),t.ent=this,t.canRecycle=!1,r(this,h),this},e.addComponents=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];for(var n=0,o=i;n<o.length;n++){var r=o[n];this.add(r)}return this},e.get=function(t){return this[t.compName]},e.has=function(t){return"number"==typeof t?this.mask.has(t):this.compTid2Ctor.has(t.tid)},e.remove=function(t,i){void 0===i&&(i=!0);var e=!1,n=t.tid,s=t.compName;if(this.mask.has(n)){e=!0;var h=this[t.compName];h.ent=null,i?(h.reset(),h.canRecycle&&o.compPools.get(n).push(h)):this.compTid2Obj.set(n,h)}e&&(this[s]=null,this.mask.delete(n),this.compTid2Ctor.delete(n),r(this,n))},e._remove=function(t){this.remove(t,!1)},e.destroy=function(){var t=this;this._children&&this._children.forEach((function(i){t.removeChild(i),i.destroy()})),this.compTid2Ctor.forEach(this._remove,this),function(t){if(o.eid2Entity.has(t.eid)){var i=o.entityPool.get(t.name);null==i&&(i=[],o.entityPool.set(t.name,i)),i.push(t),o.eid2Entity.delete(t.eid)}else console.warn("试图销毁不存在的实体")}(this),this.compTid2Obj.clear()},i(t,[{key:"parent",get:function(){return this._parent}},{key:"children",get:function(){return null==this._children&&(this._children=new Map),this._children}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ECSGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"e9a61aie7RKNrbHaia0UG6i","ECSGroup",void 0);t("ECSGroup",function(){function t(t){this.matcher=void 0,this._matchEntities=new Map,this._entitiesCache=null,this.count=0,this._enteredEntities=null,this._removedEntities=null,this.matcher=t}var i=t.prototype;return i.onComponentAddOrRemove=function(t){this.matcher.isMatch(t)?(this._matchEntities.set(t.eid,t),this._entitiesCache=null,this.count++,this._enteredEntities&&(this._enteredEntities.set(t.eid,t),this._removedEntities.delete(t.eid))):this._matchEntities.has(t.eid)&&(this._matchEntities.delete(t.eid),this._entitiesCache=null,this.count--,this._enteredEntities&&(this._enteredEntities.delete(t.eid),this._removedEntities.set(t.eid,t)))},i.watchEntityEnterAndRemove=function(t,e){this._enteredEntities=t,this._removedEntities=e},i.clear=function(){var t,e;this._matchEntities.clear(),this._entitiesCache=null,this.count=0,null==(t=this._enteredEntities)||t.clear(),null==(e=this._removedEntities)||e.clear()},e(t,[{key:"matchEntities",get:function(){return null===this._entitiesCache&&(this._entitiesCache=Array.from(this._matchEntities.values())),this._entitiesCache}},{key:"entity",get:function(){return this.matchEntities[0]}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMask.ts",["cc","./ECSModel.ts"],(function(t){var s,i;return{setters:[function(t){s=t.cclegacy},function(t){i=t.ECSModel}],execute:function(){s._RF.push({},"4ee1fzKMutODZ5wcEoc//RK","ECSMask",void 0);t("ECSMask",function(){function t(){this.mask=void 0,this.size=0;var t=Math.ceil(i.compTid/31);this.mask=new Uint32Array(t),this.size=t}var s=t.prototype;return s.set=function(t){this.mask[t/31>>>0]|=1<<t%31},s.delete=function(t){this.mask[t/31>>>0]&=~(1<<t%31)},s.has=function(t){return!!(this.mask[t/31>>>0]&1<<t%31)},s.or=function(t){for(var s=0;s<this.size;s++)if(this.mask[s]&t.mask[s])return!0;return!1},s.and=function(t){for(var s=0;s<this.size;s++)if((this.mask[s]&t.mask[s])!=this.mask[s])return!1;return!0},s.clear=function(){for(var t=0;t<this.size;t++)this.mask[t]=0},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMatcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){var i,n,r,s,e,h,u;return{setters:[function(t){i=t.construct,n=t.createForOfIteratorHelperLoose,r=t.createClass,s=t.inheritsLoose},function(t){e=t.cclegacy},function(t){h=t.ECSMask},function(t){u=t.ECSModel}],execute:function(){e._RF.push({},"1ab8cb3FCVHSr3/IMKfqFyX","ECSMatcher",void 0);var o=1,c=(t("ECSMatcher",function(){function t(){this.rules=[],this._indices=null,this.isMatch=void 0,this.mid=-1,this._key=null,this.mid=o++}var s=t.prototype;return s.anyOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(a,n)),this.bindMatchMethod(),this},s.allOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(f,n)),this.bindMatchMethod(),this},s.onlyOf=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this.rules.push(i(f,r));for(var e,h=[],o=n(u.compCtors);!(e=o()).done;){var c=e.value;r.indexOf(c)<0&&h.push(c)}return this.rules.push(i(l,h)),this.bindMatchMethod(),this},s.excludeOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(l,n)),this.bindMatchMethod(),this},s.bindMatchMethod=function(){1===this.rules.length?this.isMatch=this.isMatch1:2===this.rules.length?this.isMatch=this.isMatch2:this.isMatch=this.isMatchMore},s.isMatch1=function(t){return this.rules[0].isMatch(t)},s.isMatch2=function(t){return this.rules[0].isMatch(t)&&this.rules[1].isMatch(t)},s.isMatchMore=function(t){for(var i,r=n(this.rules);!(i=r()).done;){if(!i.value.isMatch(t))return!1}return!0},s.clone=function(){var i=new t;return i.mid=o++,this.rules.forEach((function(t){return i.rules.push(t)})),i},r(t,[{key:"key",get:function(){if(!this._key){for(var t="",i=0;i<this.rules.length;i++)t+=this.rules[i].getKey(),i<this.rules.length-1&&(t+=" && ");this._key=t}return this._key}},{key:"indices",get:function(){var t=this;return null===this._indices&&(this._indices=[],this.rules.forEach((function(i){Array.prototype.push.apply(t._indices,i.indices)}))),this._indices}}]),t}()),function(){function t(){this.indices=[],this.mask=new h;for(var t=-1,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];for(var s=n.length,e=0;e<s;e++){if(-1==(t="number"==typeof n[e]?n[e]:n[e].tid))throw Error("存在没有注册的组件！");this.mask.set(t),this.indices.indexOf(t)<0&&this.indices.push(t)}s>1&&this.indices.sort((function(t,i){return t-i}))}return t.prototype.toString=function(){return this.indices.join("-")},t}()),a=function(t){function i(){return t.apply(this,arguments)||this}s(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.or(t.mask)},n.getKey=function(){return"anyOf:"+this.toString()},i}(c),f=function(t){function i(){return t.apply(this,arguments)||this}s(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.and(t.mask)},n.getKey=function(){return"allOf:"+this.toString()},i}(c),l=function(t){function i(){return t.apply(this,arguments)||this}s(i,t);var n=i.prototype;return n.getKey=function(){return"excludeOf:"+this.toString()},n.isMatch=function(t){return!this.mask.or(t.mask)},i}(c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ECSModel.ts",["cc","./ECSGroup.ts"],(function(e){var o,n;return{setters:[function(e){o=e.cclegacy},function(e){n=e.ECSGroup}],execute:function(){o._RF.push({},"d8166vWEfZIrI5/n5CzJr6r","ECSModel",void 0);var t=e("ECSModel",function(){function e(){}return e.createGroup=function(o){var t=e.groups.get(o.mid);if(!t){t=new n(o),e.groups.set(o.mid,t);for(var r=o.indices,p=0;p<r.length;p++)e.compAddOrRemove.get(r[p]).push(t.onComponentAddOrRemove.bind(t))}return t},e}());t.eid=1,t.entityCtors=new Map,t.entityPool=new Map,t.eid2Entity=new Map,t.compTid=0,t.compPools=new Map,t.compCtors=[],t.compAddOrRemove=new Map,t.tid2comp=new Map,t.groups=new Map,o._RF.pop()}}}));

System.register("chunks:///_virtual/ECSSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSModel.ts"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){n=t.ECSModel}],execute:function(){s._RF.push({},"30accwMR39EjLbzLYhnwdAJ","ECSSystem",void 0);t("ECSComblockSystem",function(){function t(){this.group=void 0,this.dt=0,this.enteredEntities=null,this.removedEntities=null,this.hasEntityEnter=!1,this.hasEntityRemove=!1,this.hasUpdate=!1,this.tmpExecute=null,this.execute=void 0;var t=Object.hasOwnProperty,e=Object.getPrototypeOf(this),i=t.call(e,"entityEnter"),s=t.call(e,"entityRemove"),o=t.call(e,"firstUpdate"),r=t.call(e,"update");this.hasEntityEnter=i,this.hasEntityRemove=s,this.hasUpdate=r,i||s?(this.enteredEntities=new Map,this.removedEntities=new Map,this.execute=this.execute1,this.group=n.createGroup(this.filter()),this.group.watchEntityEnterAndRemove(this.enteredEntities,this.removedEntities)):(this.execute=this.execute0,this.group=n.createGroup(this.filter())),o&&(this.tmpExecute=this.execute,this.execute=this.updateOnce)}var i=t.prototype;return i.init=function(){},i.onDestroy=function(){},i.hasEntity=function(){return this.group.count>0},i.updateOnce=function(t){if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){for(var i,s=this.enteredEntities.values(),n=e(s);!(i=n()).done;){var o=i.value;this.entityEnter(o)}this.enteredEntities.clear()}for(var r,h=e(this.group.matchEntities);!(r=h()).done;){var u=r.value;this.firstUpdate(u)}this.execute=this.tmpExecute,this.execute(t),this.tmpExecute=null}},i.execute0=function(t){if(0!==this.group.count&&(this.dt=t,this.hasUpdate))for(var i,s=e(this.group.matchEntities);!(i=s()).done;){var n=i.value;this.update(n)}},i.execute1=function(t){if(this.removedEntities.size>0){if(this.hasEntityRemove)for(var i,s=this.removedEntities.values(),n=e(s);!(i=n()).done;){var o=i.value;this.entityRemove(o)}this.removedEntities.clear()}if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){if(this.hasEntityEnter){s=this.enteredEntities.values();for(var r,h=e(s);!(r=h()).done;){var u=r.value;this.entityEnter(u)}}this.enteredEntities.clear()}if(this.hasUpdate)for(var c,a=e(this.group.matchEntities);!(c=a()).done;){var l=c.value;this.update(l)}}},t}()),t("ECSRootSystem",function(){function t(){this.executeSystemFlows=[],this.systemCnt=0}var e=t.prototype;return e.add=function(t){return t instanceof o?Array.prototype.push.apply(this.executeSystemFlows,t.comblockSystems):this.executeSystemFlows.push(t),this.systemCnt=this.executeSystemFlows.length,this},e.init=function(){this.executeSystemFlows.forEach((function(t){return t.init()}))},e.execute=function(t){for(var e=0;e<this.systemCnt;e++)this.executeSystemFlows[e].execute(t)},e.clear=function(){this.executeSystemFlows.forEach((function(t){return t.onDestroy()}))},t}());var o=t("ECSSystem",function(){function t(){this._comblockSystems=[]}return t.prototype.add=function(e){return e instanceof t?(Array.prototype.push.apply(this._comblockSystems,e._comblockSystems),e._comblockSystems.length=0):this._comblockSystems.push(e),this},i(t,[{key:"comblockSystems",get:function(){return this._comblockSystems}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/EffectSequencePlayer.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e88a8b2nHhCKJr5kec4b/Ba","EffectSequencePlayer",void 0);t("EffectSequenceData",function(){function t(t,e,i){this.duration=void 0,this.interval=void 0,this.executor=void 0,this.duration=t,this.interval=t,void 0!==i&&0==Number.isNaN(i)&&i>=0&&(this.interval=i),this.executor=e}return t.prototype.play=function(){this.executor(this.duration)},t}()),t("default",function(){function t(){this.init_delay=void 0,this.effectsquence=void 0,this.isPlaying=!1,this.init_delay=0,this.effectsquence=[]}var e=t.prototype;return e.addToEffectSequence=function(t){this.effectsquence.push(t)},e.play=function(){var t=this;this.isPlaying=!0,this.effectsquence.reduce((function(e,i){return setTimeout((function(){t.isPlaying&&i.play()}),1e3*e),e+i.interval}),this.init_delay)},e.stop=function(){this.isPlaying=!1,this.effectsquence=[]},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EmailLoginUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./Facade.ts","./UIControler.ts","./G.ts","./Tips.ts","./LoginDataHelper.ts","./LanLabel.ts","./LanSprite.ts"],(function(i){var o,t,n,s,a,e,r,l,d,u,c,h;return{setters:[function(i){o=i.inheritsLoose},function(i){t=i.cclegacy,n=i.find,s=i.EditBox},function(i){a=i.ClassConfig},function(i){e=i.default},function(i){r=i.UIControler},function(i){l=i.default},function(i){d=i.Tips},function(i){u=i.default},function(i){c=i.LanLabel},function(i){h=i.LanSprite}],execute:function(){t._RF.push({},"9bce1s6R01Fx4yFVdXV/Hpk","EmailLoginUICtrl",void 0);var g=i("EmailLoginViewCtrl",function(i){function t(){for(var o,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(o=i.call.apply(i,[this].concat(n))||this).uiEditBoxEmail=void 0,o.uiEditBoxPassword=void 0,o.password_show=void 0,o.isShowPassword=void 0,o.reg=/^[A-Za-z0-9]+([_\-\.][A-Za-z0-9]+)*@([A-Za-z0-9\-]+\.)+[A-Za-z]{2,6}$/,o}o(t,i);var a=t.prototype;return a._onLoad=function(){this.initUI(),this.regClickHandlers()},a._onEnable=function(){this.isShowPassword=!0,this.initPasswordFlag(this.password_show,this.uiEditBoxPassword);var i=u.GetEmailInfoFromLocal();null!=i?(this.uiEditBoxEmail.string=i.email,this.uiEditBoxPassword.string=i.password):(this.uiEditBoxEmail.string="",this.uiEditBoxPassword.string=""),this.updateLan()},a.updateLan=function(){for(var i=this.node.getComponentsInChildren(h),o=0;o<i.length;o++)i[o].language();for(var t=this.node.getComponentsInChildren(c),n=0;n<t.length;n++)t[n].language()},a._onDisable=function(){},a._onStart=function(){},a._onUpdate=function(){},a.refreshUI=function(){},a.initUI=function(){var i,o;this.uiEditBoxEmail=null==(i=n("bg/mid/email_box",this.node))?void 0:i.getComponent(s),this.uiEditBoxPassword=null==(o=n("bg/mid/password_box",this.node))?void 0:o.getComponent(s),this.password_show=n("bg/mid/password_box/password_show",this.node)},a.regClickHandlers=function(){var i=this;this.RegClickHanlder("*",(function(i,o,t,n){l.navigator.Go(i)})),this.RegClickHanlder("login",(function(o,t,n,s){if(i.checkEmail()&&i.checkPassward()){var a,r,l=null==(a=i.uiEditBoxEmail)?void 0:a.string,d=null==(r=i.uiEditBoxPassword)?void 0:r.string;e.CloseUI(i.uiName),console.log("login with email: "+l+" password: "+d),e.GetModule("Login").EmailLogin(l,d),console.log("----------------LoginType["+o+"]")}})),this.RegClickHanlder("showPassword",(function(o,t,n,s){i.isShowPassword=!i.isShowPassword,i.setPasswordSwitch(i.password_show,i.uiEditBoxPassword,i.isShowPassword)}))},a.checkEmail=function(){var i,o=null==(i=this.uiEditBoxEmail)?void 0:i.string;if(""===o){var t=l.GetTipsErrCodeStr("email_tips2");return d.instance.ShowTips(t),console.log("请输入您的邮箱地址"),!1}if(!1===this.validateEmail(o)){var n=l.GetTipsErrCodeStr("Email_input_email_invalid");return d.instance.ShowTips(n),console.log("您输入的邮箱地址无效"),!1}return!0},a.checkPassward=function(){var i,o=null==(i=this.uiEditBoxPassword)?void 0:i.string;if(null==o||""===o){var t=l.GetTipsErrCodeStr("email_password");return d.instance.ShowTips(t),console.log("请输入密码"),!1}return!0},a.validateEmail=function(i){return null!=i&&this.reg.test(i)},a.initPasswordFlag=function(i,o){var t=i.getChildByName("on"),n=i.getChildByName("off");t.active=!0,n.active=!1,o.inputFlag=s.InputFlag.PASSWORD},a.setPasswordSwitch=function(i,o,t){var n=i.getChildByName("on"),a=i.getChildByName("off");console.log("isShowPassword:",t),t?(n.active=!0,a.active=!1,o.inputFlag=s.InputFlag.PASSWORD):(n.active=!1,a.active=!0,o.inputFlag=s.InputFlag.SENSITIVE)},t}(r));a.addClass("EmailLoginViewCtrl",g),t._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc","./index2.js"],(function(t){var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"f809byek6NE24W0YZPc1hNp","EncryptUtil",void 0);var e=t("EncryptUtil",function(){function t(){}return t.md5=function(t){return r.MD5(t).toString()},t.initCrypto=function(t,n){this.key=t,this.iv=r.enc.Hex.parse(n)},t.aesEncrypt=function(t,n,e){return r.AES.encrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString()},t.aesDecrypt=function(t,n,e){return r.AES.decrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString(r.enc.Utf8)},t}());e.key=null,e.iv=null,e.JsonFormatter={stringify:function(t){var n={ct:t.ciphertext.toString(r.enc.Base64)};return t.iv&&(n.iv=t.iv.toString()),t.salt&&(n.s=t.salt.toString()),JSON.stringify(n)},parse:function(t){var n=JSON.parse(t),e=r.lib.CipherParams.create({ciphertext:r.enc.Base64.parse(n.ct)});return n.iv&&(e.iv=r.enc.Hex.parse(n.iv)),n.s&&(e.salt=r.enc.Hex.parse(n.s)),e}},n._RF.pop()}}}));

System.register("chunks:///_virtual/EngineGlobal.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){n({cjsonSafeDecode:function(n){return r(n)},cjsonSafeEncode:function(n){return t(n)}}),e._RF.push({},"9a640RxEexGbr57ZRSK34ZM","EngineGlobal",void 0);n("handler",(function(n,e){return e.bind(n),e})),n("toint",(function(n){return parseInt(n)}));var t=function(n){return JSON.stringify(n)},r=function(n){return JSON.parse(n)};e._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorCode.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"cbb8dHMdS1Ml6W+1Xkn3HWH","ErrorCode",void 0);E("ErrorCode",function(E){return E[E.Err_SERVICE_HAS_REPEAT=-1]="Err_SERVICE_HAS_REPEAT",E[E.Err_SUCCESS=0]="Err_SUCCESS",E[E.Err_FAILED=1]="Err_FAILED",E[E.Err_REGISTER_ACCOUNT_REPEAT=100001]="Err_REGISTER_ACCOUNT_REPEAT",E[E.Err_REGISTER_DATABASE_ERROR=100002]="Err_REGISTER_DATABASE_ERROR",E[E.Err_LOGIN_ACCOUNT_PWD_ERROR=100003]="Err_LOGIN_ACCOUNT_PWD_ERROR",E[E.Err_SERVICE_NOT_FOUND=100004]="Err_SERVICE_NOT_FOUND",E[E.Err_ACCOUNT_FREEZE=100005]="Err_ACCOUNT_FREEZE",E[E.Err_NETWORK_ERROR=100006]="Err_NETWORK_ERROR",E[E.Err_NETWORK_DISCONNECT=100007]="Err_NETWORK_DISCONNECT",E[E.Err_CREATE_NAME_INVALID=100008]="Err_CREATE_NAME_INVALID",E[E.Err_INVITE_CODE_ERR=100009]="Err_INVITE_CODE_ERR",E[E.Err_VERSION_ERROR=100010]="Err_VERSION_ERROR",E[E.Err_NEED_RELOGIN=100011]="Err_NEED_RELOGIN",E[E.Err_OPERATION_ERROR=200001]="Err_OPERATION_ERROR",E[E.Err_ROLE_NAME_EXIST=200010]="Err_ROLE_NAME_EXIST",E[E.Err_ITEM_OPERATION_ERROR=200011]="Err_ITEM_OPERATION_ERROR",E[E.Err_RELIVE_LEVEL_TOO_HIGH=200012]="Err_RELIVE_LEVEL_TOO_HIGH",E[E.Err_RELIVE_LEVEL_NOT_ENOUGH=200013]="Err_RELIVE_LEVEL_NOT_ENOUGH",E[E.Err_BAG_ITEM_IS_FULL=200014]="Err_BAG_ITEM_IS_FULL",E[E.Err_HONGBAO_GET_YET=900001]="Err_HONGBAO_GET_YET",E}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["cc","./MessageEventData.ts"],(function(t){var s,n,i;return{setters:[function(t){s=t.cclegacy},function(t){n=t.MessageEventData,i=t.MessageEventDataSelf}],execute:function(){s._RF.push({},"9239fdJ6uxHLa5//l4EHK3U","EventDispatcher",void 0);t("EventDispatcher",function(){function t(){this._msg=null}var s=t.prototype;return s.on=function(t,s,i){null==this._msg&&(this._msg=new n),this._msg.on(t,s,i)},s.off=function(t){this._msg&&this._msg.off(t)},s.dispatchEvent=function(t,s){void 0===s&&(s=null),null==this._msg&&(this._msg=new n),this._msg.dispatchEvent(t,s)},s.destroy=function(){this._msg&&this._msg.clear(),this._msg=null},t}()),t("SelfEventDispatcher",function(){function t(){this._msg=null}var s=t.prototype;return s.on=function(t,s,n,e){void 0===e&&(e=!1),null==this._msg&&(this._msg=new i),this._msg.on(t,s,n,e)},s.off=function(t,s,n){this._msg&&this._msg.off(t)},s.dispatchEvent=function(t,s){void 0===s&&(s=null),null==this._msg&&(this._msg=new i),this._msg.dispatchEvent(t,s)},s.destroy=function(){this._msg&&this._msg.clear(),this._msg=null},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/EventEmitter.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"47d60y64XFAfbZ6kTF+BUqn","EventEmitter",void 0);t("EventEmitter",function(){function t(){this.events=void 0,this.events=new Map}var e=t.prototype;return e.on=function(t,e){this.events.has(t)||this.events.set(t,new Set),this.events.get(t).add(e)},e.off=function(t,e){if(this.events.has(t)){var n=this.events.get(t);n.delete(e),0===n.size&&this.events.delete(t)}},e.once=function(t,e){var n=this;this.on(t,(function i(){e.apply(void 0,arguments),n.off(t,i)}))},e.emit=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(this.events.has(t)){var s=this.events.get(t);s.forEach((function(t){t.apply(void 0,n)}))}},e.clear=function(){this.events.clear()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a5202qpqwJF3KbhHdDi/8R7","EventManager",void 0);e("EventManager",function(){function e(){this._mapEventSensors=null,this._delayEvents=null,this._mapEventSensors=new Map,this._delayEvents=[]}var t=e.prototype;return t.ClearALL=function(){this._mapEventSensors.clear(),this._delayEvents.length=0},t.RegEventHandler=function(e,n,t){var a=this._mapEventSensors.get(e);null==a&&(a=[],this._mapEventSensors.set(e,a)),a.push(n)},t.UnRegEventHandler=function(e,t){if(Array.isArray(e))for(var a,r=n(e);!(a=r()).done;){var s=a.value,i=this._mapEventSensors.get(s);if(null!=i)for(var v=i.length-1;v>=0;v--)if(i[v]===t)return void i.splice(v,1)}else{var l=this._mapEventSensors.get(e);if(l)for(var o=l.length-1;o>=0;o--)if(l[o]===t)return void l.splice(o,1)}},t.PostEvent=function(e){null!=e&&this._delayEvents.push(e)},t.Dispatch=function(e){var n=this._mapEventSensors.get(e.name);if(null!=n){var t=n.length;if(!(t<=0)){var a=n[0];if(a&&a.DoGameEvent(e),t>1)for(var r=1;r<t;r++){var s=n[r];s&&s.DoGameEvent(e)}}}},t.Dispatch2=function(e,n){void 0===n&&(n=null);var t=this._mapEventSensors.get(e);if(null!=t){var a=t.length;if(!(a<=0)){var r=t[0];if(r&&r.DoGameEvent2(e,n),a>1)for(var s=1;s<a;s++){var i=t[s];i&&i.DoGameEvent2(e,n)}}}},t.Update=function(){if(this._delayEvents&&this._delayEvents.length>0){for(var e,t=n(this._delayEvents);!(e=t()).done;){var a=e.value;null!=a&&(a.cb?a.cb():this.Dispatch(a))}this._delayEvents.length=0}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EventMessage.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"af4bfB0OK5EXKCFdfTVJAw4","EventMessage",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ExpansionIterator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e;return{setters:[function(i){t=i.createForOfIteratorHelperLoose},function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"2a77d+bCE9OZI7eyV9dxl49","ExpansionIterator",void 0);i("ExpansionIterator",function(){function i(i){void 0===i&&(i=9),this.directions=[[-1,0],[1,0],[0,-1],[0,1]],this.currentLayer=[],this.visited=new Set,this.shape=new Set,this.gridSize=void 0,this.gridSize=i}var e=i.prototype;return e.runExpansion=function(i,t){var e=Array.isArray(i)?i:[i];this.initialize(e,t);for(var r=[],n=this.next();!n.done;)r.push(n.value),n=this.next();return r},e.initialize=function(i,e){this.currentLayer=i,this.visited.clear(),this.shape.clear();for(var r,n=t(e);!(r=n()).done;){var s=r.value;this.isValidPoint(s)&&this.shape.add(s)}for(var o,a=t(i);!(o=a()).done;){var d=o.value;this.isValidPoint(d)&&this.visited.add(d)}},e.next=function(){if(0===this.currentLayer.length)return{done:!0,value:[]};for(var i,e=[],r=t(this.currentLayer);!(i=r()).done;)for(var n,s=i.value,o=this.decodePoint(s),a=o[0],d=o[1],h=t(this.directions);!(n=h()).done;){var u=n.value,c=a+u[0],l=d+u[1];if(this.isValidPoint(c,l)){var v=this.encodePoint(c,l);this.visited.has(v)||(this.shape.has(v)&&e.push(v),this.visited.add(v))}}return this.currentLayer=e,{done:!1,value:e}},e.encodePoint=function(i,t){return i*this.gridSize+t},e.decodePoint=function(i){return[Math.floor(i/this.gridSize),i%this.gridSize]},e.isValidPoint=function(i,t){if(void 0===t){var e=this.decodePoint(i),r=e[0],n=e[1];return this.isValidPointImpl(r,n)}return this.isValidPointImpl(i,t)},e.isValidPointImpl=function(i,t){return i>=0&&i<this.gridSize&&t>=0&&t<this.gridSize},i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Facade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./ClassConfig.ts","./EventManager.ts","./FrameDefine.ts","./LayerManager.ts","./ModuleManager.ts","./NetMsgManager.ts","./StringToModule.ts","./TweenManager.ts","./UIManager.ts","./ModuleDef.ts","./LoadingMask.ts"],(function(e){var n,t,i,o,a,r,u,s,l,g,d,c,M,f,h,v;return{setters:[function(e){n=e.createForOfIteratorHelperLoose,t=e.createClass},function(e){i=e.cclegacy},function(e){o=e.default},function(e){a=e.ClassConfig},function(e){r=e.EventManager},function(e){u=e.EUIShowMode,s=e.EUIRouteType},function(e){l=e.UILayerDef},function(e){g=e.ModuleManager},function(e){d=e.NetMsgManager},function(e){c=e.default},function(e){M=e.default},function(e){f=e.default},function(e){h=e.AssetBundleDef},function(e){v=e.default}],execute:function(){i._RF.push({},"ea7c5Y3+w9Ju4uiIZLjY/MB","Facade",void 0);var _=e("Facade",function(){function e(){this._inited=!1,this._eventMgr=null,this._netMsgMgr=null,this._moduleMgr=null,this._netMsgMgr=new d,this._eventMgr=new r,this._moduleMgr=new g}var i=e.prototype;return i.Init=function(e){if(!0===this._inited)throw new Error("Facade has initiallized.....");this._inited=!0,o.Init(),this._initG(e)},i._initG=function(e){var t=e.tweens;t&&M.init(t);var i=e.modules;if(null==i)throw new Error("please config models info int GameConfig.ts");for(var o,r=n(i);!(o=r()).done;){var g=o.value,d=c.Get(g);if(d){var v=new d;this._moduleMgr.RegModule(v)}else console.error("there is not constuctor by ",g)}var _=e.guis;if(_)for(var m,p=n(_);!(m=p()).done;){var U=m.value;U.hasOwnProperty("module_tag")?U.moduleTag=U.module_tag:U.moduleTag=U.uiName;for(var w={uiName:"",viewClass:a.getClass(U.uiName+"ViewCtrl"),res_bundle:h.GUI,res_path:"",layerType:l.Normal,showMode:u.Normal,useStack:!1,routeMode:s.None},G=0,I=Object.keys(U);G<I.length;G++){var R=I[G];w[R]=U[R]}f.useConfig(w)}},i.Update=function(e){this._netMsgMgr.Update(),this._eventMgr.Update(),this._moduleMgr.Update(e),v.Update(e)},i.OpenUI=function(e){f.ShowUI(e)},i.CloseUI=function(e,n){void 0===n&&(n=!1),f.CloseUI(e,n)},i.SetupModule=function(e){this._moduleMgr.RegModule(e)},i.UnInstallModule=function(e){this._moduleMgr.UnRegModule(e)},i.GetModule=function(e){return this._moduleMgr.GetModule(e)},i.GetModuleByID=function(e){return this._moduleMgr.GetModuleByID(e)},i.GetSpriteFrame=function(e){return f.GetSpriteFrame(e)},i.RegNetMsgHandler=function(e,n){this._netMsgMgr.RegNetMsgHandler(e,n)},i.UnRegNetMsgHandler=function(e,n){this._netMsgMgr.UnRegNetMsgHandler(e,n)},i.OnNetMsgRecv=function(e){this._netMsgMgr.Push(e)},i.RegGameEventHandler=function(e,n){this._eventMgr.RegEventHandler(e,n)},i.UnRegGameEventHandler=function(e,n){this._eventMgr.UnRegEventHandler(e,n)},i.SendGameEvent=function(e){this._eventMgr.Dispatch(e)},i.SendGameEvent2=function(e,n){void 0===n&&(n=null),this._eventMgr.Dispatch2(e,n)},i.PostGameEvent=function(e){this._eventMgr.PostEvent(e)},t(e,null,[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),e._instance}}]),e}());_._instance=null;e("default",_.instance);i._RF.pop()}}}));

System.register("chunks:///_virtual/FileMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,i=e.sys}],execute:function(){n._RF.push({},"5e3e93CsG5IKKH0/QkxWm2o","FileMgr",void 0);var o=function(e){return e[e.DATA_URL=0]="DATA_URL",e[e.TEXT=1]="TEXT",e[e.BINARY=2]="BINARY",e[e.ARRAYBUFFER=3]="ARRAYBUFFER",e}(o||{});e("default",function(){function e(){}var n=e.prototype;return n.openLocalFile=function(e,t){var n=document.getElementById("file_input");n||(console.log("xxxxxx createElement input"),(n=document.createElement("input")).id="file_input",n.setAttribute("id","file_input"),n.setAttribute("type","file"),n.setAttribute("class","fileToUpload"),n.style.opacity="0",n.style.position="absolute",n.setAttribute("left","-999px"),document.body.appendChild(n)),e=e||".*",n.setAttribute("accept",e),console.log("1111111111"),n.onchange=function(e){console.log("xxx onchange2",e,n.files);var i=n.files;if(i&&i.length>0){var o=i[0];t&&t(o)}},console.log("222222"),n.click(),console.log("3333333")},n.readLocalFile=function(e,t,n){var i=new FileReader;switch(i.onload=function(e){n&&(i.readyState==FileReader.DONE?n(i.result):n(null))},t){case o.DATA_URL:i.readAsDataURL(e);break;case o.TEXT:i.readAsText(e);break;case o.BINARY:i.readAsBinaryString(e);break;case o.ARRAYBUFFER:i.readAsArrayBuffer(e)}},n.saveForBrowser=function(e,t){if(i.isBrowser){var n=Array.isArray(e)?e:[e],o=new Blob(n,{type:"application/json"}),a=document.createElement("a");a.download=t,a.innerHTML="Download File",null!=window.webkitURL?a.href=window.webkitURL.createObjectURL(o):(a.href=window.URL.createObjectURL(o),a.style.display="none",document.body.appendChild(a)),a.click()}},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/FillCommand.ts",["cc","./Cell.ts"],(function(i){var t,l;return{setters:[function(i){t=i.cclegacy},function(i){l=i.ECellFill}],execute:function(){t._RF.push({},"81373baoGRCb4JO8MrCf/pU","FillCommand",void 0);i("FillCommendData",(function(){this.cell=void 0,this.num=void 0,this.onFillSuccess=void 0,this.onFillError=void 0})),i("FillCommend",function(){function i(i,t){this.gridBoard=void 0,this.data=void 0,this.orgNum=void 0,this.additionalCommands=[],this.gridBoard=i,this.data=t,this.orgNum=this.data.cell.Num}var t=i.prototype;return t.execute=function(){var i=this.data.cell,t=this.data.num;if(i.CellFillState===l.Empty||i.CellFillState===l.Invalid){i.setNum(t);var o=i.RowCol,a=o[0],s=o[1];this.gridBoard.fillNum(a,s,t),this.gridBoard.clearNotes(a,s),i.isTargetNum(t)?this.data.onFillSuccess(i):this.data.onFillError(i)}},t.undo=function(){var i=this.data.cell.RowCol,t=i[0],l=i[1];this.gridBoard.fillNum(t,l,this.orgNum)},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/FlexLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,a,o,c,u,l,g,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Enum,u=t.Widget,l=t.UITransform,g=t.Layout,h=t.Component}],execute:function(){var s,d,p,E,f,L,A,C,T,y,R,m,S,b;a._RF.push({},"3ca0aFYVq5BBLMVqP51Tm21","FlexLayout",void 0);var N=o.ccclass,_=o.property,I=o.executeInEditMode,V=function(t){return t[t.FLEX_START=0]="FLEX_START",t[t.FLEX_END=1]="FLEX_END",t[t.CENTER=2]="CENTER",t[t.SPACE_BETWEEN=3]="SPACE_BETWEEN",t[t.SPACE_AROUND=4]="SPACE_AROUND",t[t.SPACE_EVENLY=5]="SPACE_EVENLY",t}(V||{}),v=function(t){return t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t}(v||{});t("FlexLayout",(s=N("FlexLayout"),d=I(!0),p=_({type:c(V)}),E=_({type:c(v)}),f=_({readonly:!0}),L=_({readonly:!0}),s(A=d((T=e((C=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"mode",T,r(e)),n(e,"direction",y,r(e)),n(e,"maxSpacing",R,r(e)),n(e,"spacing",m,r(e)),n(e,"realSpacing",S,r(e)),n(e,"agterWidget",b,r(e)),e}i(e,t);var a=e.prototype;return a.onEnable=function(){this.updateLayout()},a.start=function(){var t;null==(t=this.node.getComponent(u))||t.updateAlignment(),this.updateLayout()},a.updateLayout=function(){var t=this,e=this.node.children;if(0!==e.length){this.agterWidget&&this.updateWidget();var i=this.direction===v.VERTICAL?this.getNodeHeight(this.node):this.getNodeWidth(this.node),n=0;e.forEach((function(e){n+=t.direction===v.VERTICAL?t.getNodeHeight(e):t.getNodeWidth(e)}));var r=0,a=0;switch(this.mode){case V.FLEX_START:r=this.direction===v.VERTICAL?i/2:-i/2,a=this.calculateSpacing(i,n,e.length);break;case V.FLEX_END:r=this.direction===v.VERTICAL?-i/2+n:i/2-n,a=this.calculateSpacing(i,n,e.length);break;case V.CENTER:r=this.direction===v.VERTICAL?n/2:-n/2,a=this.calculateSpacing(i,n,e.length);break;case V.SPACE_BETWEEN:r=this.direction===v.VERTICAL?i/2:-i/2,a=(i-n)/(e.length-1);break;case V.SPACE_AROUND:r=this.direction===v.VERTICAL?i/2-(i-n)/(2*e.length):-i/2+(i-n)/(2*e.length),a=(i-n)/e.length;break;case V.SPACE_EVENLY:r=this.direction===v.VERTICAL?i/2-(i-n)/(e.length+1):-i/2+(i-n)/(e.length+1),a=(i-n)/(e.length+1)}this.spacing=a,this.realSpacing=Math.min(a,this.maxSpacing);var o=r;e.forEach((function(e){var i,n=t.direction===v.VERTICAL?t.getNodeHeight(e):t.getNodeWidth(e),r=(null==(i=e.getComponent(l))?void 0:i.anchorPoint)||{x:.5,y:.5},a=0,c=0;t.direction===v.VERTICAL?(c=n*(.5-r.y),e.setPosition(0,o-n/2+c,0),o-=n+t.realSpacing):(a=n*(.5-r.x),e.setPosition(o+n/2+a,0,0),o+=n+t.realSpacing)}))}},a.calculateSpacing=function(t,e,i){return(t-e)/(i+1)},a.getNodeHeight=function(t){return t.getComponent(l).height},a.getNodeWidth=function(t){return t.getComponent(l).width},a.updateChildLayout=function(){var t=this.getComponentsInChildren(g);t&&t.forEach((function(t){return t.updateLayout()}))},a.updateWidget=function(){var t;null==(t=this.node.getComponent(u))||t.updateAlignment()},e}(h)).prototype,"mode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.FLEX_START}}),y=e(C.prototype,"direction",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.VERTICAL}}),R=e(C.prototype,"maxSpacing",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=e(C.prototype,"spacing",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=e(C.prototype,"realSpacing",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=e(C.prototype,"agterWidget",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=C))||A)||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/FlyTween.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrameDefine.ts","./TweenPack.ts"],(function(e){var n,t,o,r,i,a,l,u,s,p,c,f,w,d,h,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,u=e.find,s=e.director,p=e.Vec3,c=e.tween,f=e.Tween,w=e.Component},function(e){d=e.ETweenFlowType},function(e){h=e.MyTweenPack,y=e.__TempTweenStruct}],execute:function(){var v,T,m,b,k,g,P,F;a._RF.push({},"32194Q3uNhN6IWrToVTNb+D","FlyTween",void 0);var _=l.ccclass,C=l.property;e("FlyTween",(v=_("FlyTween"),T=C({type:[h]}),v((k=n((b=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(n,"tweenName",k,r(n)),o(n,"needReset",g,r(n)),o(n,"tweenPacks",P,r(n)),o(n,"loopCount",F,r(n)),n}t(n,e);var a=n.prototype;return a.start=function(){null==u("GameApp",s.getScene())&&this.Play()},a._makeTween=function(e){for(var n,t=this,o=new p(this.node.position),r=this.node.rotation.clone(),a=new p(this.node.scale),l=c(this.node),u=i(this.tweenPacks);!(n=u()).done;){var s=n.value;if(s.packType===d.Sequence){for(var f,w,h=[],v=i(s.tweens);!(w=v()).done;){var T=w.value.AppendTween(this.node,null);T&&h.push(T)}l=(f=l).sequence.apply(f,h)}else if(s.packType===d.Parrallel){for(var m,b,k=[],g=i(s.tweens);!(b=g()).done;){var P=b.value.AppendTween(this.node,null);P&&k.push(P)}l=(m=l).parallel.apply(m,k)}else if(s.packType===d.Single)for(var F,_=i(s.tweens);!(F=_()).done;){var C=F.value.AppendTween(this.node,l);C&&(C instanceof y?l.then(C):l=C)}s.loopCount>0&&(l=l.repeat(s.loopCount))}return this.loopCount>0?l=l.repeat(this.loopCount):this.loopCount<=-1&&(l=l.repeatForever()),e&&l.call((function(){e()})),(this.needReset||"leave"===this.tweenName)&&l.call((function(){t.node.position=o,t.node.rotation=r,t.node.scale=a})),l},a.Play=function(e){void 0===e&&(e=null);var n=this._makeTween(e);return n?(n.start(),!0):(e&&e(),!1)},a.Playback=function(e){void 0===e&&(e=null);var n=this._makeTween(e);return n?((n=n.reverseTime()).start(),!0):(e&&e(),!1)},a.Stop=function(){f.stopAllByTarget(this.node)},n}(w)).prototype,"tweenName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=n(b.prototype,"needReset",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=n(b.prototype,"tweenPacks",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(b.prototype,"loopCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=b))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/FrameDefine.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a4696nEyHpHPZHcnzMwwyZL","FrameDefine",void 0);e("GameEvent",(function(e){this.name=void 0,this.cb=void 0,this.interval=void 0,this.tp=void 0,this.id=void 0,this.strid=void 0,this.val=void 0,this.val2=void 0,this.strval=void 0,this.name=e,this.interval=0})),e("EUIShowMode",function(e){return e[e.Normal=0]="Normal",e[e.HideOther=1]="HideOther",e[e.UseStack=2]="UseStack",e}({})),e("EUIRouteType",function(e){return e[e.None=0]="None",e[e.Push=1]="Push",e[e.Replace=2]="Replace",e[e.Clear=3]="Clear",e}({})),e("NoticeBtnType",function(e){return e[e.ONLY_OK=1]="ONLY_OK",e[e.OK_CANCEL=2]="OK_CANCEL",e}({})),e("EActionType",function(e){return e[e.By=0]="By",e[e.To=1]="To",e[e.Delay=2]="Delay",e[e.Call=3]="Call",e[e.Hide=4]="Hide",e[e.Show=5]="Show",e[e.RemoveSelf=6]="RemoveSelf",e[e.DestroySelf=7]="DestroySelf",e}({})),e("ETargetPropType",function(e){return e[e.Pos=0]="Pos",e[e.Rot=1]="Rot",e[e.Scale=2]="Scale",e[e.Color=3]="Color",e[e.Fade=4]="Fade",e}({})),e("ETweenFlowType",function(e){return e[e.Sequence=0]="Sequence",e[e.Parrallel=1]="Parrallel",e[e.Single=2]="Single",e}({})),e("ETweenPackType",function(e){return e[e.Sequence=0]="Sequence",e[e.Parrallel=1]="Parrallel",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/FreeFlightCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,r,s,a,h,c,p,l,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.math,h=e.KeyCode,c=e.CCFloat,p=e.input,l=e.Input,u=e.game,y=e.Component}],execute:function(){var d,f,v,_,C,S,T,E,m,g,x,k;r._RF.push({},"afaedJeGnVB9quo6xEY8tKE","FreeFlightCamera",void 0);var w=s.ccclass,z=s.property,A=s.menu,F=a.Vec2,b=a.Vec3,U=a.Quat,D=new F,K=new F,L=new b,O=new U,M="W".charCodeAt(0),H="S".charCodeAt(0),P="A".charCodeAt(0),W="D".charCodeAt(0),Y="Q".charCodeAt(0),N="E".charCodeAt(0),R=h.SHIFT_LEFT;e("FreeFlightCamera",(d=w("FreeFlightCamera"),f=A("oops/camera/FreeFlightCamera"),v=z({type:c,tooltip:"移动速度"}),_=z({type:c,tooltip:"按Shift键后的速度"}),C=z({type:c,slide:!0,range:[.05,.5,.01],tooltip:"移动后惯性效果"}),S=z({type:c,tooltip:"旋转速度"}),d(T=f((m=t((E=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"moveSpeed",m,n(t)),i(t,"moveSpeedShiftScale",g,n(t)),i(t,"damp",x,n(t)),i(t,"rotateSpeed",k,n(t)),t._euler=new b,t._velocity=new b,t._position=new b,t._speedScale=1,t}o(t,e);var r=t.prototype;return r.onLoad=function(){p.on(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.on(l.EventType.KEY_DOWN,this.onKeyDown,this),p.on(l.EventType.KEY_UP,this.onKeyUp,this),p.on(l.EventType.TOUCH_START,this.onTouchStart,this),p.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),p.on(l.EventType.TOUCH_END,this.onTouchEnd,this),b.copy(this._euler,this.node.eulerAngles),b.copy(this._position,this.node.position)},r.onDestroy=function(){p.off(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.off(l.EventType.KEY_DOWN,this.onKeyDown,this),p.off(l.EventType.KEY_UP,this.onKeyUp,this),p.off(l.EventType.TOUCH_START,this.onTouchStart,this),p.off(l.EventType.TOUCH_MOVE,this.onTouchMove,this),p.off(l.EventType.TOUCH_END,this.onTouchEnd,this)},r.update=function(e){b.transformQuat(L,this._velocity,this.node.rotation),b.scaleAndAdd(this._position,this._position,L,this.moveSpeed*this._speedScale),b.lerp(L,this.node.position,this._position,e/this.damp),this.node.setPosition(L),U.fromEuler(O,this._euler.x,this._euler.y,this._euler.z),U.slerp(O,this.node.rotation,O,e/this.damp),this.node.setRotation(O)},r.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed*.1;b.transformQuat(L,b.UNIT_Z,this.node.rotation),b.scaleAndAdd(this._position,this.node.position,L,t)},r.onKeyDown=function(e){var t=this._velocity;e.keyCode===R?this._speedScale=this.moveSpeedShiftScale:e.keyCode===M?0===t.z&&(t.z=-1):e.keyCode===H?0===t.z&&(t.z=1):e.keyCode===P?0===t.x&&(t.x=-1):e.keyCode===W?0===t.x&&(t.x=1):e.keyCode===Y?0===t.y&&(t.y=-1):e.keyCode===N&&0===t.y&&(t.y=1)},r.onKeyUp=function(e){var t=this._velocity;e.keyCode===R?this._speedScale=1:e.keyCode===M?t.z<0&&(t.z=0):e.keyCode===H?t.z>0&&(t.z=0):e.keyCode===P?t.x<0&&(t.x=0):e.keyCode===W?t.x>0&&(t.x=0):e.keyCode===Y?t.y<0&&(t.y=0):e.keyCode===N&&t.y>0&&(t.y=0)},r.onTouchStart=function(e){u.canvas.requestPointerLock()},r.onTouchMove=function(e){e.getStartLocation(D),D.x>.4*u.canvas.width?(e.getDelta(K),this._euler.y-=K.x*this.rotateSpeed*.1,this._euler.x+=K.y*this.rotateSpeed*.1):(e.getLocation(K),F.subtract(K,K,D),this._velocity.x=.01*K.x,this._velocity.z=.01*-K.y)},r.onTouchEnd=function(e){document.exitPointerLock&&document.exitPointerLock(),e.getStartLocation(D),D.x<.4*u.canvas.width&&(this._velocity.x=0,this._velocity.z=0)},t}(y)).prototype,"moveSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=t(E.prototype,"moveSpeedShiftScale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),x=t(E.prototype,"damp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),k=t(E.prototype,"rotateSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=E))||T)||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/FullScreenAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,a,c,h,l,s,g,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.find,h=e.director,l=e.UITransform,s=e.Vec3,g=e.Size,u=e.Component}],execute:function(){var p,f,d,m;r._RF.push({},"5c4908PMm5BNrmMfqGqvO2U","FullScreenAdapter",void 0);var v=a.ccclass,z=a.property;e("FullScreenAdapter",v("FullScreenAdapter")((d=t((f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"align_bottom",d,o(t)),i(t,"change_size",m,o(t)),t}return n(t,e),t.prototype.start=function(){var e=c("$tgxUICanvas$",h.getScene());if(null!=e){var t=this.getComponent(l),n=e.getComponent(l);if(console.log("适配前: cavas height: ",n.contentSize.height,this.node.name+"_height: ",t.contentSize.height),t.height<n.height)if(this.align_bottom){t.setAnchorPoint(0,0);var i=new s(.5*-n.width,.5*-n.height,this.node.position.z);this.node.setPosition(i)}else{var o=new g(t.width,n.height);t.setContentSize(o),console.log("适配后: cavas height: ",n.contentSize.height,this.node.name+"_height: ",t.contentSize.height)}}},t}(u)).prototype,"align_bottom",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=t(f.prototype,"change_size",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=f))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/G.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./GameStatic.ts","./Navigator.ts","./GameCmdIDs.ts","./GameCmdRawDescs.ts","./GameConfig.ts","./Leader.ts","./LoadingMask.ts","./QuickDifficultyUIModule.ts","./ThemeManager.ts","./NetMessageHub.ts","./ServerStub.ts","./TGame.ts","./TLSDK.ts","./LanManager.ts","./NetClient.ts","./RawBuilder.ts","./LocalStorage.ts"],(function(t){var e,n,i,a,s,o,r,u,l,c,h,f,d,g,m,C,v,S,_,G,k,p;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.default},function(t){a=t.default},function(t){s=t.TLNavigator},function(t){o=t.default},function(t){r=t.default},function(t){u=t.GameConfig},function(t){l=t.Leader},function(t){c=t.default},function(t){h=t.EDifficulty},function(t){f=t.ThemeManager},function(t){d=t.default},function(t){g=t.ServerStub},function(t){m=t.EGameStage,C=t.TGame},function(t){v=t.TLSdk},function(t){S=t.default},function(t){_=t.NetClient,G=t.ENetClientOperation},function(t){k=t.RawBuilder},function(t){p=t.LocalStorage}],execute:function(){n._RF.push({},"cf1a3vsS0NEiKxRYyaTxJbE","G",void 0);t("ServerConnectInfo",(function(t,e,n,i,a){this.host=void 0,this.port=void 0,this.token=void 0,this.hash=void 0,this.tequanToken=void 0,this.host=t,this.port=e,this.token=n,this.hash=i,this.tequanToken=a}));var N=function(){function t(){this.difficulty=h.EASY,this.leader=null,this.server=new g,this.localStorage=void 0,this.gameCfg=null,this.netClientGame=void 0,this.serverInfo=void 0,this.kuafuServerInfo=void 0,this.CurFrameCount=0,this.navigator=void 0,this.platProtoBuilder=void 0,this.gameProtoBuilder=void 0,this.gameRawBuilder=void 0,this.tlGame=void 0,this.themeManager=void 0,this.curLoginRecord=void 0,this.noticeFileName=void 0,this._shakeScale=-1,this.SHAKE_SCALE_KEY="global_shake_scale",this._curHost="",this._curPort=0,this.leader=new l,this.gameCfg=new u,this.localStorage=new p(this.gameCfg.game_appcode),this.tlGame=new C,this.navigator=new s,this.noticeFileName="notice.json",this.themeManager=new f}var n=t.prototype;return n.Warmup=function(){this.gameCfg.init(),this.gameRawBuilder=new k("Game"),this.gameRawBuilder.SetupRawDesc(r);for(var t=new Map,e=0,n=Object.keys(o.Defs);e<n.length;e++){var i=n[e];t.set(o.Defs[i].id,i)}this.gameRawBuilder.Setup_cmdidToNames(t)},n.IsDomainName=function(t){if((null==t?void 0:t.length)>0)for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(n!=".".charCodeAt(0)&&!(n>="0".charCodeAt(0)&&n<="9".charCodeAt(0)))return!0}return!1},n.Startup=function(){this.leader.init(null)},n.ConnectToServer=function(t,e){console.log("connect to -> "+t+":"+e),null==this.netClientGame&&(this.netClientGame=new _,this.netClientGame.Init(),this.netClientGame.On(G.Dispatch,d.OnRcvMsg.bind(d)));var n=!1;(this.IsDomainName(t)||443===e)&&(n=!0),this.netClientGame.Connect(n,t,e),this._curHost=t,this._curPort=e},n.CheckConnect=function(){if(""!=this._curHost&&0!=this._curPort&&this.tlGame.stage==m.Play&&!this.netClientGame.IsConnecting()&&(console.log("check connect->"+this.netClientGame.IsConnecting()+", state="+this.netClientGame._state),!0===this.netClientGame.IsClosed())){this.netClientGame.Clean(),this.netClientGame=null,null==this.netClientGame&&(this.netClientGame=new _,this.netClientGame.Init(),this.netClientGame.On(G.Dispatch,d.OnRcvMsg.bind(d)));var t=!1;(this.IsDomainName(this._curHost)||443===this._curPort)&&(t=!0),this.netClientGame.Connect(t,this._curHost,this._curPort);var e=this.curLoginRecord,n={zoneid:e.zoneid,tianlu_token:e.tianlu_token,token_hash:e.token_hash,channelID:a.channelID,conAgain:1},i=d.NetEncode(o.Defs.C2S_LOGIN_ON.id,n),s=this.netClientGame.SendData(i);c.Show(),console.log("LoginON->",s)}},n.SeteupNet=function(){},n.GetLanStr=function(t){if(null==t)return"";var e=S.getTextByKey(""+t);return null!=e&&""!=e||(e=""+t),e},n.GetTipsErrCodeStr=function(t){if(null==t)return"";var e=S.getTipsTextByKey(""+t);return null!=e&&""!=e||(e=""+t),e},n.GetMsgBoxJsonStr=function(){return S.getMsgBoxJson()},n.UserAgentmentClick=function(){v.UserAgreement("")},e(t,[{key:"audioMgr",get:function(){return i}},{key:"ShakeScale",get:function(){if(-1==this._shakeScale){var t,e=null==(t=this.localStorage)?void 0:t.Get(this.SHAKE_SCALE_KEY),n=parseFloat(e);(Number.isNaN(n)||n>1)&&(n=1),this._shakeScale=n<0?0:n}return this._shakeScale},set:function(t){var e;"number"==typeof t&&!1===Number.isNaN(t)&&t>=0&&(this._shakeScale=t,null==(e=this.localStorage)||e.Set(this.SHAKE_SCALE_KEY,t.toFixed(2)))}}],[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}();N._instance=null;t("default",N.instance);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameApp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts","./ModuleConfig.ts","./TGame.ts","./index.mjs_cjs=&original=.js","./AdManager.ts","./ResManager.ts","./GameStatic.ts","./UIManager.ts","./G.ts","./GameUpdateSys.ts","./HotUpdateManager.ts","./ModuleDef.ts","./LoginDataHelper.ts","./NavigatorConfig.ts","./SdkHelper.ts","./GlobalAudios.ts","./LanManager.ts","./ProtobufUtil.ts","./index.js"],(function(t){var e,n,a,o,r,i,s,u,l,d,c,f,p,g,m,v,h,C,G,A,M,S,R,U,_,L,k,I,y,b,w;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator,s=t.macro,u=t.DynamicAtlasManager,l=t.TextAsset,d=t.game,c=t.director,f=t.find,p=t.Component},function(t){g=t.default},function(t){m=t.default},function(t){v=t.EGameStage},null,function(t){h=t.AdManager},function(t){C=t.ResManager},function(t){G=t.default},function(t){A=t.default},function(t){M=t.default},function(t){S=t.default},function(t){R=t.HotUpdateManager},function(t){U=t.AssetBundleDef},function(t){_=t.default},function(t){L=t.NavigatorConfig},function(t){k=t.SdkHelper},function(t){I=t.GlobalAudios},function(t){y=t.default},function(t){b=t.ProtobufUtils},function(t){w=t.default}],execute:function(){var E,N;r._RF.push({},"1515ee8kclEjLvnWR8mzBMg","GameApp",void 0);var P=i.ccclass;s.CLEANUP_IMAGE_CACHE=!1,u.instance.enabled=!0;t("GameApp",P("GameApp")(((N=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var i=r.prototype;return i.IsInPlayStage=function(){return M.tlGame.stage==v.Play},i.onLoad=function(){null==r.Instance?r.Instance=this:(console.log("GameApp.Instance duplicated !"),this.destroy())},i.setupNetCmds=function(){C.loadBundle("protos",(function(t,e){if(null==e)throw new Error("failed to start, load bundle error");var n=["Game","Platform"];e.load(n,l,(function(t,e){if(t)console.log(t);else{for(var a=0;a<e.length;a++){var o=w.parse(e[a].text,{keepCase:!0}).root;b.Add(n[a],o)}M.SeteupNet()}}))}))},i.start=function(){d.frameRate=61,k.CallSdkNative("TLSdk","Startup",""),G.StartLoad(),G.CheckAppCode(M.gameCfg.game_appcode),G.Set("version",M.gameCfg.game_version),this.setupNetCmds(),_.Load(),M.Warmup(),c.addPersistRootNode(this.node),M.Startup(),L.RegRules(M.navigator);var t=this.getComponent(I);if(t){var e=t.clips;if(e&&e.length>0)for(var a,o=n(e);!(a=o()).done;){var r=a.value;M.audioMgr.Add(r.audioName,r.audioClip)}}y.init();var i=f("Canvas");if(!i)throw new Error("there is not canvas node in scene thart contains GameApp component.");c.addPersistRootNode(f("Canvas")),A.Setup(i),g.Init(m),h.instance.Init(),setInterval((function(){M.CheckConnect()}),5e3)},i.gameStartUp=function(){this._startup_load_configs()},i._startup_load_configs=function(){var t=this;C.loadBundle(U.Cfgs,(function(e,n){if(null==n)throw new Error("failed to start, load bundle cfgs error");M.gameCfg.initGameParam(),M.gameCfg.preloadGameBefore(),C.loadBundle(U.StartUp,(function(e,n){if(null==n)throw new Error("failed to start, load bundle startup error");t.Go()}))}))},i.Go=function(){var t=a(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("begin hotupdate..."),R.instance.SupportHotUpdate()?null==(e=g.GetModule("ResCheck"))||e.DoWork():null==(n=g.GetModule("Login"))||n.DoWork(),console.log("enter hotupdate...");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i.update=function(t){M.leader.update(t),g.Update(t)},i.GameUpdateRegListening=function(){S.RegUpdateMethod("leader",(function(t){M.leader.update(t)})),S.RegUpdateMethod("Facade",(function(t){g.Update(t)})),S.RegListeningEvt()},r}(p)).Instance=null,E=N))||E);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameCmdIDs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetClient.ts"],(function(_){var t,S,C;return{setters:[function(_){t=_.createClass},function(_){S=_.cclegacy},function(_){C=_.ENetPacketType}],execute:function(){var E;S._RF.push({},"2e82cxHwbhEXZ8uGO441tSF","GameCmdIDs",void 0);var T={C2S_LOGIN_ON:{str:"C2S_LOGIN_ON",id:1,tpPacket:C.RawSerial},S2C_LOGIN_ON:{str:"S2C_LOGIN_ON",id:2,tpPacket:C.RawSerial},C2S_LOGIN_BY_TEQUAN:{str:"C2S_LOGIN_BY_TEQUAN",id:3,tpPacket:C.String},S2C_COMMON_ERROR:{str:"S2C_COMMON_ERROR",id:4,tpPacket:C.RawSerial},C2S_LOGIN:{str:"C2S_LOGIN",id:5,tpPacket:C.String},S2C_LOGIN:{str:"S2C_LOGIN",id:6,tpPacket:C.RawSerial},C2S_LOGOUT:{str:"C2S_LOGOUT",id:7,tpPacket:C.String},S2C_LOGOUT:{str:"S2C_LOGOUT",id:8,tpPacket:C.String},C2S_GM_CMD:{str:"C2S_GM_CMD",id:9,tpPacket:C.Json},C2S_USER_FEEDBACK:{str:"C2S_USER_FEEDBACK",id:10,tpPacket:C.String},C2S_CREATE_ROLE:{str:"C2S_CREATE_ROLE",id:11,tpPacket:C.RawSerial},S2C_CREATE_ROLE:{str:"S2C_CREATE_ROLE",id:12,tpPacket:C.RawSerial},C2S_GET_ATT:{str:"C2S_GET_ATT",id:15,tpPacket:C.Json},S2C_SYNC_ATT:{str:"S2C_SYNC_ATT",id:16,tpPacket:C.RawSerial},C2S_SET_ATT:{str:"C2S_SET_ATT",id:17,tpPacket:C.Json},S2C_SET_ATT:{str:"S2C_SET_ATT",id:18,tpPacket:C.RawSerial},S2C_ATTS_CHANGE:{str:"S2C_ATTS_CHANGE",id:19,tpPacket:C.Json},C2S_PASS_GUAN:{str:"C2S_PASS_GUAN",id:20,tpPacket:C.Json},S2C_GUAN_CHANGE:{str:"S2C_GUAN_CHANGE",id:21,tpPacket:C.Json},C2S_GET_GUAN_DATA:{str:"C2S_GET_GUAN_DATA",id:22,tpPacket:C.String},S2C_SYNC_GUAN_DATA:{str:"S2C_SYNC_GUAN_DATA",id:23,tpPacket:C.RawSerial},C2S_GET_RANK_PART:{str:"C2S_GET_RANK_PART",id:26,tpPacket:C.Json},S2C_SYNC_RANK_PART:{str:"S2C_SYNC_RANK_PART",id:27,tpPacket:C.RawSerial},C2S_AD_COMPLETE:{str:"C2S_AD_COMPLETE",id:32,tpPacket:C.String},C2S_CHANGE_NAME:{str:"C2S_CHANGE_NAME",id:36,tpPacket:C.String},S2C_CHANGE_NAME:{str:"S2C_CHANGE_NAME",id:37,tpPacket:C.RawSerial},C2S_APPLY_AVATAR_AND_FRAME:{str:"C2S_APPLY_AVATAR_AND_FRAME",id:38,tpPacket:C.String},S2C_AVATAR_AND_FRAME:{str:"S2C_AVATAR_AND_FRAME",id:39,tpPacket:C.String},C2S_PAY:{str:"C2S_PAY",id:41,tpPacket:C.String},S2C_PAY:{str:"S2C_PAY",id:42,tpPacket:C.RawSerial},C2S_BUY:{str:"C2S_BUY",id:43,tpPacket:C.String},S2C_BUY:{str:"S2C_BUY",id:44,tpPacket:C.RawSerial},C2S_USE_ITEM:{str:"C2S_USE_ITEM",id:51,tpPacket:C.String},S2C_USE_ITEM:{str:"S2C_USE_ITEM",id:52,tpPacket:C.RawSerial},C2S_USE_ITEM_ONLY_COUNT_BYATT:{str:"C2S_USE_ITEM_ONLY_COUNT_BYATT",id:53,tpPacket:C.String},S2C_USE_ITEM_ONLY_COUNT_BYATT:{str:"S2C_USE_ITEM_ONLY_COUNT_BYATT",id:54,tpPacket:C.RawSerial},C2S_GET_QUEST_DATA:{str:"C2S_GET_QUEST_DATA",id:70,tpPacket:C.String},S2C_SYNC_QUEST_DATA:{str:"S2C_SYNC_QUEST_DATA",id:71,tpPacket:C.Json},C2S_TAKE_QUEST:{str:"C2S_TAKE_QUEST",id:72,tpPacket:C.String},S2C_TAKE_QUEST:{str:"S2C_TAKE_QUEST",id:73,tpPacket:C.Json},C2S_COMPLETE_QUEST:{str:"C2S_COMPLETE_QUEST",id:74,tpPacket:C.String},S2C_COMPLETE_QUEST:{str:"S2C_COMPLETE_QUEST",id:75,tpPacket:C.Json},S2C_QUEST_STATUS_CHANGE:{str:"S2C_QUEST_STATUS_CHANGE",id:77,tpPacket:C.Json},C2S_GET_CHENGJIU_DATA:{str:"C2S_GET_CHENGJIU_DATA",id:90,tpPacket:C.String},S2C_SYNC_CHENGJIU_DATA:{str:"S2C_SYNC_CHENGJIU_DATA",id:91,tpPacket:C.Json},C2S_COMPLETE_CHENGJIU:{str:"C2S_COMPLETE_CHENGJIU",id:94,tpPacket:C.String},S2C_COMPLETE_CHENGJIU:{str:"S2C_COMPLETE_CHENGJIU",id:95,tpPacket:C.Json},S2C_CHENGJIU_STATUS_CHANGE:{str:"S2C_CHENGJIU_STATUS_CHANGE",id:97,tpPacket:C.Json},S2C_MY_RANK:{str:"S2C_MY_RANK",id:98,tpPacket:C.Json}},e=function(){function _(){this.mapId2Defs=void 0,this._cfgDefs=void 0,this.mapId2Defs=new Map}var S=_.prototype;return S.SetupCmdIDs=function(_){for(var t in this._cfgDefs=_,T){var S=_[t];this.mapId2Defs.set(S.id,S)}},S.GetDef=function(_){return this.mapId2Defs.get(_)},t(_,[{key:"Defs",get:function(){return this._cfgDefs}}],[{key:"Instance",get:function(){return this._insance}}]),_}();E=e,e._insance=new E,e.Instance.SetupCmdIDs(T);_("default",e.Instance);S._RF.pop()}}}));

System.register("chunks:///_virtual/GameCmdRawDescs.ts",["cc","./OutputRawStream.ts"],(function(t){var r,e;return{setters:[function(t){r=t.cclegacy},function(t){e=t.ERawSerializeType}],execute:function(){r._RF.push({},"61a54SFpp5KprUu+JvwMHx+","GameCmdRawDescs",void 0);t("default",{C2S_LOGIN_ON:{tianlu_token:e.STR,token_hash:e.STR,channelID:e.STR},S2C_LOGIN_ON:{errCode:e.INT32},C2S_LOGIN:{str:e.STR},S2C_LOGIN:{errCode:e.INT32,strData:e.STR},S2C_COMMON_ERROR:{cmdid:e.INT32,errCode:e.INT32,arg:e.INT32,strArg:e.STR},S2C_SYNC_GUAN_DATA:{lwStarData:e.BYTES,llkStarData:e.BYTES},S2C_CHANGE_NAME:{errCode:e.INT32,strData:e.STR},S2C_SYNC_RANK_PART:{rankname:e.STR,start:e.INT32,stop:e.INT32,partData:e.BYTES},S2C_SYNC_ATT:{errCode:e.INT32,atts:e.STR,kvs:e.STR},S2C_SET_ATT:{errCode:e.INT32},S2C_PAY:{errCode:e.INT32,strData:e.STR},S2C_BUY:{errCode:e.INT32,strData:e.STR},S2C_USE_ITEM:{errCode:e.INT32,strData:e.STR}});r._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./URLConfig.ts","./ConfigLoading.ts","./ConfigResolver.ts","./LoginDefine.ts","./SdkHelper.ts","./ResManager.ts","./ModuleDef.ts"],(function(n){var t,e,i,a,r,l,o,s,c,f,h,g,u,_,d,m;return{setters:[function(n){t=n.createForOfIteratorHelperLoose,e=n.createClass},function(n){i=n.cclegacy,a=n.JsonAsset,r=n.sys},function(n){l=n.JsonUtil},function(n){o=n.URLConfig,s=n.EUrlLocate,c=n.EUrlPurpose},function(n){f=n.ConfigLoading},function(n){h=n.ConfigResolver},function(n){g=n.LoginTools,u=n.LoginType},function(n){_=n.SdkHelper},function(n){d=n.ResManager},function(n){m=n.AssetBundleDef}],execute:function(){i._RF.push({},"60cabqoHtFLGqwYUKpDxl22","GameConfig",void 0);n("GameConfig",function(){var n=i.prototype;function i(){this.game_appcode="hxc2yd6m8",this.game_version="1.0.0",this.audit_status=!1,this.specLoginType=0,this.gameType=0,this.native_mini_server=!1,this.urlconfig=new o,this.urllocate=s.Office,this.urlPurpose=c.Test,this._privatePolicyUrl="",this._userAgreementUrl="",this._cdnUrl="",this._noticeUrl="",this._targetPlatfromUrl="",this._targetPlatfromShUrl="",this.game_plat=0,this.areaNames=["un","eeu","eu","zd","ea","wa","sa","nam","sam","esa","saf","naf"],this.adVentors=["admob","unity","facebook","ironsource","applovin"],this.adCountPerVentor=5,this.supportLans={zh:{lancode:"zh",text:"中文简体",filename:"lan_zh"},zhBig5:{lancode:"zhBig5",text:"中文繁体",filename:"lan_zhBig5"},en:{lancode:"en",text:"english",filename:"lan_en"},ru:{lancode:"ru",text:"俄语",filename:"lan_ru"},ja:{lancode:"ja",text:"日语",filename:"lan_ja"},ko:{lancode:"ko",text:"韩语",filename:"lan_ko"},de:{lancode:"de",text:"德语",filename:"lan_de"},fr:{lancode:"fr",text:"法语",filename:"lan_fr"},th:{lancode:"th",text:"泰语",filename:"lan_th"},vi:{lancode:"vi",text:"越南语",filename:"lan_vi"},my:{lancode:"my",text:"缅甸语",filename:"lan_my"},id:{lancode:"id",text:"印尼语",filename:"lan_id"},fa:{lancode:"fa",text:"波斯语",filename:"lan_fa"},ar:{lancode:"ar",text:"阿拉伯语",filename:"lan_ar"},es:{lancode:"es",text:"西班牙语",filename:"lan_es"},pt:{lancode:"pt",text:"葡萄牙语",filename:"lan_pt"}},this.channel_config=void 0,this.guan_config=void 0,this.guan_config_easy=void 0,this.guan_config_medium=void 0,this.guan_config_hard=void 0,this.guan_config_extra_hard=void 0,this.guan_config_best_hard=void 0,this.guan_config_level=void 0,this.guan_config_daily=void 0,this.dailyConfigMap=void 0,this.dailyConfigMap=new Map}return n.SetLoginType=function(){this.specLoginType=g.GetLoginTypeByTypeName(_.channelID)},n.init=function(){},n.initUrlParamDefault=function(){this._privatePolicyUrl=this.urlconfig.GetPrivatePolicy(this.urllocate),this._userAgreementUrl=this.urlconfig.GetUserAgreement(this.urllocate),this._cdnUrl=this.urlconfig.GetCdnUrl(this.urllocate,this.urlPurpose),this._noticeUrl=this.urlconfig.GetNoticeURL(this.urlPurpose),this._targetPlatfromUrl=this.urlconfig.GetAccountServerURL(this.urllocate,this.urlPurpose),this._targetPlatfromShUrl=""},n.initUrlParamChannel=function(){this._privatePolicyUrl="",this._userAgreementUrl="",this._cdnUrl="",this._noticeUrl="",this._targetPlatfromUrl="",null!=this.channel_config&&(this.channel_config.privatePolicyUrl&&this.channel_config.privatePolicyUrl.length>0&&(this._privatePolicyUrl=this.channel_config.privatePolicyUrl),this.channel_config.userAgreementUrl&&this.channel_config.userAgreementUrl.length>0&&(this._userAgreementUrl=this.channel_config.userAgreementUrl),this.channel_config.cdnUrl&&this.channel_config.cdnUrl.length>0&&(this._cdnUrl=this.channel_config.cdnUrl),this.channel_config.noticeUrl&&this.channel_config.noticeUrl.length>0&&(this._noticeUrl=this.channel_config.noticeUrl),this.channel_config.targetPlatfromUrl&&this.channel_config.targetPlatfromUrl.length>0&&(this._targetPlatfromUrl=this.channel_config.targetPlatfromUrl),this.channel_config.targetPlatfromShUrl&&this.channel_config.targetPlatfromShUrl.length>0&&(this._targetPlatfromShUrl=this.channel_config.targetPlatfromShUrl))},n.initGameParam=function(){if(this.specLoginType<=u.none||this.specLoginType>=u.Max)this.initUrlParamDefault();else{var n=u[this.specLoginType],t=this;this.channel_config=null,d.loadBundle(m.Cfgs,(function(e,i){i&&i.load("channel/"+n,a,(function(n,e){n?t.initUrlParamDefault():(t.channel_config=e.json,t.initUrlParamChannel())}))}))}},n.preloadGameBefore=function(){for(var n,e=function(){var t=n.value;l.loadCfgs(t.bundle,t.name,(function(n){var e;null==(e=h.get(t.name))||e(n)}))},i=t(f.namesBeforeGame);!(n=i()).done;)e()},n.preload=function(){},n.guan_config_best_hard_func=function(n){var t=n;this.guan_config_best_hard=t},n.guan_config_daily_func=function(n){var e=n;this.guan_config_daily=e;for(var i,a=t(e);!(i=a()).done;){var r=i.value;this.dailyConfigMap.set(r.day,r)}},n.guan_config_easy_func=function(n){var t=n;this.guan_config_easy=t},n.guan_config_extra_hard_func=function(n){var t=n;this.guan_config_extra_hard=t},n.guan_config_hard_func=function(n){var t=n;this.guan_config_hard=t},n.guan_config_level_func=function(n){var t=n;this.guan_config_level=t},n.guan_config_medium_func=function(n){var t=n;this.guan_config_medium=t},n.getDailyGuanConfig=function(n){var t=n.split("-");if(3!=t.length)return null;if(parseInt(t[0])%2==0){var e="2024-"+t[1]+"-"+t[2];return this.dailyConfigMap.get(e)}var i="2025-"+t[1]+"-"+t[2];return this.dailyConfigMap.get(i)},e(i,[{key:"privactPolicyUrl",get:function(){return this._privatePolicyUrl}},{key:"userAgreementUrl",get:function(){return this._userAgreementUrl}},{key:"cdnUrl",get:function(){return this._cdnUrl}},{key:"noticeUrl",get:function(){return this._noticeUrl}},{key:"TargetPlatfromUrl",get:function(){var n=this._targetPlatfromUrl;if((null==n?void 0:n.length)>0){if(!0===this.audit_status){if(this._targetPlatfromShUrl.length>0)return this._targetPlatfromShUrl;var t=n.indexOf("://");if(t>=0)return"https://ax."+n.substring(t+3)}return n}return""}},{key:"GamePlat",get:function(){return r.platform==r.Platform.BYTEDANCE_MINI_GAME?this.game_plat=1:r.platform==r.Platform.WECHAT_GAME&&(this.game_plat=2),this.game_plat}}]),i}());i._RF.pop()}}}));

System.register("chunks:///_virtual/GameEndUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./Facade.ts","./UIControler.ts","./G.ts","./BattleUIModule.ts","./MainDef.ts","./LanLabel.ts"],(function(t){var n,e,i,o,a,u,l,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.ClassConfig},function(t){o=t.default},function(t){a=t.UIControler},function(t){u=t.default},function(t){l=t.BattleModule},function(t){r=t.ESudokuType},function(t){s=t.LanLabel}],execute:function(){e._RF.push({},"281b0iNJeJDEpVFc507e6kH","GameEndUICtrl",void 0);var c=t("GameEndViewCtrl",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i._onLoad=function(){this.initUI(),this.regClickHandlers()},i._onEnable=function(){this.updateLanShow()},i._onDisable=function(){},i._onStart=function(){},i._onUpdate=function(){},i.refreshUI=function(){},i.initUI=function(){},i.updateLanShow=function(){for(var t=this.node.getComponentsInChildren(s),n=0;n<t.length;n++)t[n].language()},i.regClickHandlers=function(){var t=this;this.RegClickHanlder("*",(function(t,n,e,i){u.navigator.Go(t)})),this.RegClickHanlder("try-again",(function(n,e,i,a){t.onTryAgain(),o.CloseUI(t.uiName)})),this.RegClickHanlder("new-game",(function(n,e,i,a){t.recoredStatistics(),t.onNewGame(),o.CloseUI(t.uiName)})),this.RegClickHanlder("restart",(function(n,e,i,a){t.recoredStatistics(),t.onRestart(),o.CloseUI(t.uiName)}))},i.onTryAgain=function(){var t=this,n=this.module.onTryAgain;n&&u.leader.PlayAD((function(){n(),t.module.onTryAgain=null}),103)},i.onNewGame=function(){var t=this.module.onNewGame;t&&(t(),this.module.onNewGame=null)},i.onRestart=function(){var t=this.module.onRestart;t&&(t(),this.module.onRestart=null)},i.recoredStatistics=function(){var t=l.challengeData;t.type===r.QuickChallenge&&u.leader.difficultyStatistics.addGameResult({completed:!0,victory:!1,perfectVictory:0===t.sudokuState.mistake,timeSpent:t.sudokuState.timeSpent,difficulty:t.difficulty})},e}(a));i.addClass("GameEndViewCtrl",c),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameEndUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(n){var e,t,o,a,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){o=n.ModuleBase},function(n){a=n.default},function(n){i=n.default}],execute:function(){t._RF.push({},"c78c3/KaoFDKIi3vjX5Mba1","GameEndUIModule",void 0);var u=n("GameEndModule",function(n){function t(){var e;return(e=n.call(this,t.sTag)||this).onTryAgain=void 0,e.onNewGame=void 0,e.onRestart=void 0,e}e(t,n);var o=t.prototype;return o.regNetCmds=function(){},o.unRegNetCmds=function(){},o.regGameEvents=function(){},o.unRegGameEvents=function(){},o.DoWork=function(n){void 0===n&&(n=null),n&&(n.onTryAgain&&(this.onTryAgain=n.onTryAgain),n.onNewGame&&(this.onNewGame=n.onNewGame),n.onRestart&&(this.onRestart=n.onRestart)),i.OpenUI("GameEnd")},t}(o));u.sTag="GameEnd",a.Set("GameEndModule",u),t._RF.pop()}}}));

System.register("chunks:///_virtual/GamePassUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./Facade.ts","./UIControler.ts","./G.ts","./MainUIModule.ts","./CameraImageCapturer.ts","./BattleUIModule.ts","./Tool.ts","./MainDef.ts","./LanLabel.ts","./TLSDK.ts","./TLDataPoints.ts"],(function(e){var t,a,i,n,l,o,r,s,u,d,f,c,h,m,p,g,C;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,i=e.find,n=e.Sprite,l=e.Label},function(e){o=e.ClassConfig},function(e){r=e.default},function(e){s=e.UIControler},function(e){u=e.default},function(e){d=e.MainUIModule},function(e){f=e.CameraImageCapturer},function(e){c=e.BattleModule},function(e){h=e.default},function(e){m=e.ESudokuType},function(e){p=e.LanLabel},function(e){g=e.TLSdk},function(e){C=e.TLDataPoints}],execute:function(){a._RF.push({},"52fd1ByrUFB84qhgkCLljfP","GamePassUICtrl",void 0);var y=e("GamePassViewCtrl",function(e){function a(){for(var t,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).sprMain=void 0,t.labelDifficulty=void 0,t.labelTimeSpent=void 0,t.labelBestTime=void 0,t}t(a,e);var o=a.prototype;return o._onLoad=function(){this.initUI(),this.regClickHandlers()},o._onEnable=function(){this.setup(),this.updateLanShow()},o._onDisable=function(){},o._onStart=function(){},o._onUpdate=function(){},o.refreshUI=function(){},o.initUI=function(){var e,t,a,o;this.sprMain=null==(e=i("mid/mainIcon",this.node))?void 0:e.getComponent(n),this.labelDifficulty=null==(t=i("bottom/totalPanel/tip0/text",this.node))?void 0:t.getComponent(l),this.labelTimeSpent=null==(a=i("bottom/totalPanel/tip1/text",this.node))?void 0:a.getComponent(l),this.labelBestTime=null==(o=i("bottom/totalPanel/tip2/text",this.node))?void 0:o.getComponent(l)},o.updateLanShow=function(){for(var e=this.node.getComponentsInChildren(p),t=0;t<e.length;t++)e[t].language()},o.regClickHandlers=function(){var e=this;this.RegClickHanlder("*",(function(e,t,a,i){u.navigator.Go(e)})),this.RegClickHanlder("home",(function(t,a,i,n){e.onGoHome(),r.CloseUI(e.uiName),r.OpenUI(d.sTag)})),this.RegClickHanlder("new-game",(function(t,a,i,n){e.onNewGame(),r.CloseUI(e.uiName)})),this.RegClickHanlder("share",(function(e,t,a,i){}))},o.onGoHome=function(){var e=this.module.onGoHome;e&&(e(),this.module.onGoHome=null)},o.onNewGame=function(){var e=this.module.onNewGame;e&&(e(),this.module.onNewGame=null)},o.setup=function(){g.HideBanner(),this.recoredStatistics(),this.sprMain.spriteFrame=f.inst.CaptureSpriteFrame,this.sprMain.markForUpdateRenderData();var e=c.challengeData;this.labelDifficulty.string=u.GetLanStr(e.name);var t=e.sudokuState.timeSpent;if(this.labelTimeSpent.string=this.formatTime(t),e.type!==m.QuickChallenge)this.labelBestTime.string=this.formatTime(t);else{var a=u.leader.difficultyStatistics.getReportForDifficulty(e.difficulty);Number.isFinite(a.fastestWin)&&a.fastestWin>0?this.labelBestTime.string=this.formatTime(a.fastestWin):this.labelBestTime.string=this.formatTime(t)}e.sudokuState.solved=!0,c.saveChallengeData({});var i="";if(e.type===m.DailyChallenge){i=e.day,e.day.length>0&&u.leader.roleData.dailyChallenges.findIndex((function(t){return t===e.day}))<0&&(u.leader.roleData.dailyChallenges.push(e.day),u.leader.SetRoleDataStorage());var n=new Date,l=e.day.split("-").map(Number),o=l[0],s=l[1],d=l[2],p=new Date(o,s-1,d+1);p.getTime()>n.getTime()&&(p=n),r.GetModule(c.sTag).initChallengData({type:m.DailyChallenge,day:h.formatDateString(p,"%{YYYY}-%{M}-%{d}")})}else if(e.type===m.LevelChallenge){if(i=""+e.level,e.level>0&&!1===u.leader.passLevelChallenges.hasOwnProperty(e.level)&&(u.leader.passLevelChallenges[e.level]=h.formatDateString(new Date,"%{YYYY}-%{MM}-%{dd}",!0),u.leader.saveLevelChallengeInfo()),u.leader.roleData.chapterId===e.level)u.leader.roleData.chapterId+1>u.gameCfg.guan_config_level.length?u.leader.roleData.chapterState=1:(u.leader.roleData.chapterId+=1,u.leader.roleData.chapterState=0),u.leader.SetRoleDataStorage(),r.GetModule(c.sTag).initChallengData({type:m.LevelChallenge,level:u.leader.roleData.chapterId})}else if(e.type===m.QuickChallenge){i=""+e.difficulty,u.leader.difficultyChapterMap[e.difficulty]+=1,u.leader.saveDifficultyChapterInfo(),r.GetModule(c.sTag).initChallengData({type:m.QuickChallenge,difficulty:e.difficulty,level:u.leader.difficultyChapterMap[e.difficulty]})}C.submit("guanqia_end",{fightType:e.type,chapterId:i})},o.recoredStatistics=function(){var e=c.challengeData;e.type===m.QuickChallenge&&u.leader.difficultyStatistics.addGameResult({completed:!0,victory:!0,perfectVictory:0===e.sudokuState.mistake,timeSpent:e.sudokuState.timeSpent,difficulty:e.difficulty})},o.formatTime=function(e){if(Number.isFinite(e)&&e>=0){var t=e>=3600?"%{hh}:%{mm}:%{ss}":"%{mm}:%{ss}";return h.formatTimeString(e,t)}return"-"},a}(s));o.addClass("GamePassViewCtrl",y),a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePassUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(e){var o,n,t,s,u;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy},function(e){t=e.ModuleBase},function(e){s=e.default},function(e){u=e.default}],execute:function(){n._RF.push({},"758bcuFtBpK547KkvWPGrmx","GamePassUIModule",void 0);var a=e("GamePassModule",function(e){function n(){var o;return(o=e.call(this,n.sTag)||this).onGoHome=void 0,o.onNewGame=void 0,o}o(n,e);var t=n.prototype;return t.regNetCmds=function(){},t.unRegNetCmds=function(){},t.regGameEvents=function(){},t.unRegGameEvents=function(){},t.DoWork=function(e){void 0===e&&(e=null),e&&(e.onGoHome&&(this.onGoHome=e.onGoHome),e.onNewGame&&(this.onNewGame=e.onNewGame)),u.OpenUI("GamePass")},n}(t));a.sTag="GamePass",s.Set("GamePassModule",a),n._RF.pop()}}}));

System.register("chunks:///_virtual/GamePauseUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./UIControler.ts","./G.ts","./Facade.ts","./BattleUIModule.ts","./Tool.ts","./LanLabel.ts"],(function(t){var n,e,i,o,a,l,s,u,r,c,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t.find,o=t.Label},function(t){a=t.ClassConfig},function(t){l=t.UIControler},function(t){s=t.default},function(t){u=t.default},function(t){r=t.BattleModule},function(t){c=t.default},function(t){f=t.LanLabel}],execute:function(){e._RF.push({},"daeecEBxPBDdLe3yBmnNA+f","GamePauseUICtrl",void 0);var h=t("GamePauseViewCtrl",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).labelTimeSpent=void 0,n.labelDifficulty=void 0,n.labelMistake=void 0,n}n(e,t);var a=e.prototype;return a._onLoad=function(){this.initUI(),this.regClickHandlers()},a._onEnable=function(){this.setup(),this.updateLanShow()},a._onDisable=function(){},a._onStart=function(){},a._onUpdate=function(){},a.refreshUI=function(){},a.initUI=function(){this.labelTimeSpent=i("top/total/tip0/text",this.node).getComponent(o),this.labelDifficulty=i("top/total/tip1/text",this.node).getComponent(o),this.labelMistake=i("top/total/tip2/text",this.node).getComponent(o)},a.updateLanShow=function(){for(var t=this.node.getComponentsInChildren(f),n=0;n<t.length;n++)t[n].language()},a.regClickHandlers=function(){var t=this;this.RegClickHanlder("*",(function(t,n,e,i){s.navigator.Go(t)})),this.RegClickHanlder("continue",(function(n,e,i,o){t.onContinue(),u.CloseUI(t.uiName)})),this.RegClickHanlder("restart",(function(n,e,i,o){t.onRestart(),u.CloseUI(t.uiName)}))},a.onContinue=function(){var t=this.module.onContinue;t&&(t(),this.module.onContinue=null)},a.onRestart=function(){var t=this.module.onRestart;t&&(t(),this.module.onRestart=null)},a.setup=function(){var t=r.challengeData.sudokuState.timeSpent,n=c.formatTimeString(t,"%{mm}:%{ss}");t>=3600&&c.formatTimeString(t,"%{hh}:%{mm}:%{ss}"),this.labelTimeSpent.string=n,this.labelDifficulty.string=s.GetLanStr(r.challengeData.name);var e=r.challengeData.sudokuState.mistake+"/"+r.challengeData.sudokuState.maxMistake;this.labelMistake.string=e},e}(l));a.addClass("GamePauseViewCtrl",h),e._RF.pop()}}}));

System.register("chunks:///_virtual/GamePauseUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(e){var n,t,o,u,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.ModuleBase},function(e){u=e.default},function(e){a=e.default}],execute:function(){t._RF.push({},"d0aa0SHD4FD2oWh1Koe0AcY","GamePauseUIModule",void 0);var s=e("GamePauseModule",function(e){function t(){var n;return(n=e.call(this,t.sTag)||this).onContinue=void 0,n.onRestart=void 0,n}n(t,e);var o=t.prototype;return o.regNetCmds=function(){},o.unRegNetCmds=function(){},o.regGameEvents=function(){},o.unRegGameEvents=function(){},o.DoWork=function(e){void 0===e&&(e=null),e&&(e.onContinue&&(this.onContinue=e.onContinue),e.onRestart&&(this.onRestart=e.onRestart)),a.OpenUI("GamePause")},t}(o));s.sTag="GamePause",u.Set("GamePauseModule",s),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameStatic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SdkHelper.ts","./Device.ts"],(function(n){var t,e,a,o,r;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,a=n.sys},function(n){o=n.SdkHelper},function(n){r=n.device}],execute:function(){e._RF.push({},"68fcf18RwlBe5WKOIVGXAWY","GameStatic",void 0);n("ChannelDef",function(n){return n[n.none=0]="none",n[n.tianlu=1]="tianlu",n[n.googleplay=2]="googleplay",n[n.applestore=3]="applestore",n[n.runstore=4]="runstore",n[n.barza=5]="barza",n[n.amazon=6]="amazon",n[n.huawei=7]="huawei",n[n.xiaomi=8]="xiaomi",n[n.oppo=9]="oppo",n[n.vivo=10]="vivo",n[n.steam=11]="steam",n}({}));var u=function(){function n(){this.internalData=new Map}n.Instance=function(){return null==n._instance&&(n._instance=new n),n._instance};var e=n.prototype;return e.Get=function(n){return this.internalData.get(n)},e.Set=function(n,t){this.internalData.set(n,t)},e.LoadBySdk=function(){var n=o.gameInfo;if(n)for(var t=0,e=Object.keys(n);t<e.length;t++){var u=e[t];this.internalData[u]=n[u]}if(this.Set("vendor",o.vendor),this.Set("plat",r.platform),null==o.country||o.country.length<=0){var i=a.languageCode;if(i&&i.length>0){var l=i.lastIndexOf("-");if(l>=0){var c=i.substr(l+1);o.country=null==c?void 0:c.toLowerCase()}}}(null==o.country||o.country.length<=0)&&(o.country="other"),this.Set("country",o.country),(null==o.lan||o.lan.length<=0)&&(o.lan=a.language.toLowerCase()),(null==o.lan||o.lan.length<=0)&&(o.lan="en"),this.Set("lan",o.lan),this.Set("bundleID",o.bundleID),this.Set("channelID",o.channelID),this.Set("subChannelID",o.subChannelID)},e.StartLoad=function(){this.LoadBySdk()},e.CheckAppCode=function(n){console.log("check app code "+this.appcode+" -> "+n+" "),n&&n.length>0&&this.Set("appcode",n)},t(n,[{key:"vendor",get:function(){return this.Get("vendor")}},{key:"runPlat",get:function(){return this.Get("plat")}},{key:"Country",get:function(){return this.Get("country")}},{key:"Lan",get:function(){return this.Get("lan")}},{key:"tianluDevID",get:function(){return o.tianluDevID}},{key:"appcode",get:function(){return this.Get("appcode")}},{key:"version",get:function(){return this.Get("version")}},{key:"bundleID",get:function(){return this.Get("bundleID")}},{key:"channelID",get:function(){return this.Get("channelID")}},{key:"subChannelID",get:function(){return this.Get("subChannelID")}}]),n}();u._instance=null;n("default",u.Instance());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameUILayers.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"2cbdaXpTn1LK7OL5lD+rE3/","GameUILayers",void 0);var P=e("GameUILayers",function(e){return e[e.GAME=0]="GAME",e[e.JOY_STICK=1]="JOY_STICK",e[e.HUD=2]="HUD",e[e.POPUP=3]="POPUP",e[e.POPUP1=4]="POPUP1",e[e.POPUP2=5]="POPUP2",e[e.ALERT=6]="ALERT",e[e.NOTICE=7]="NOTICE",e[e.LOADING=8]="LOADING",e[e.OVERLAY=9]="OVERLAY",e[e.NUM=10]="NUM",e}(P||{}));e("GameUILayerNames",["game","joy_stick","hud","popup","popup1","popup2","alert","notice","loading","overlay"]);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameUpdateSys.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o,i;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,n=e.director,o=e.Director,i=e.game}],execute:function(){r._RF.push({},"70f92/jAz9DOp6sE/0AXItE","GameUpdateSys",void 0);e("default",new(function(){function e(){this._regs=new Map}var r=e.prototype;return r.RegUpdateMethod=function(e,t){this._regs.set(e,t)},r.RegListeningEvt=function(){var e=this;n.on(o.EVENT_BEFORE_DRAW,(function(){if(n.isPaused())for(var r,o=t(e._regs);!(r=o()).done;){var s=r.value;s[0];(0,s[1])(i.deltaTime)}}))},e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalAudios.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,o,r,n,a,l,u;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.initializerDefineProperty,o=i.inheritsLoose,r=i.assertThisInitialized},function(i){n=i.cclegacy,a=i._decorator,l=i.AudioClip,u=i.Component}],execute:function(){var c,p,s,d,f,b,y,h,g,A,m;n._RF.push({},"f4937kgVNFPQZyFdtp46Ip9","GlobalAudios",void 0);var v=a.ccclass,z=a.property,D=i("AudioMapDesc",(c=v("AudioMapDesc"),p=z({type:l}),c((f=e((d=function(){t(this,"audioName",f,this),t(this,"audioClip",b,this)}).prototype,"audioName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=e(d.prototype,"audioClip",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d))||s));i("GlobalAudios",(y=v("GlobalAudios"),h=z({type:[D]}),y((m=e((A=function(i){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=i.call.apply(i,[this].concat(n))||this,t(e,"clips",m,r(e)),e}return o(e,i),e}(u)).prototype,"clips",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=A))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/GridBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ExpansionIterator.ts","./VortexTraverser.ts","./Cell.ts","./GridHelper.ts","./Notes.ts","./WindmillIterator.ts"],(function(t){var e,n,r,i,o,l,u,a,s,f,c;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,r=t.instantiate,i=t.UITransform},function(t){o=t.ExpansionIterator},function(t){l=t.VortexTraverser},function(t){u=t.Cell,a=t.ECellFill},function(t){s=t.default},function(t){f=t.Notes},function(t){c=t.WindmillIterator}],execute:function(){n._RF.push({},"9ede3Rs59BETJXRoL9HC5Xa","GridBoard",void 0);t("GridBoard",function(){function t(){this.MaxRow=9,this.MaxCol=9,this.uiGridContainer=void 0,this.prefabCell=void 0,this.cellList=[],this.notesList=[],this.guanCfg=void 0,this.data=void 0,this.expansionIterator=void 0,this.vortexTraverser=void 0,this.windmillItereator=void 0,s.initialize(9,9,100,100),this.expansionIterator=new o(9),this.vortexTraverser=new l(9,9),this.windmillItereator=new c(9)}var n=t.prototype;return n.setContainerAndPrefab=function(t,e){this.uiGridContainer=t,this.prefabCell=e},n.init=function(t,e,n){this.guanCfg=t,this.data=this.guanCfg.puzzleBoard.slice(0),e&&81===e.length&&(this.data=e),this.initGridUI(),this.initGridData(this.guanCfg.completeBoard,this.guanCfg.puzzleBoard,this.data,n)},n.reset=function(){this.notesList.forEach((function(t){return t.clearAllNum()})),this.data=this.guanCfg.puzzleBoard.slice(0),this.initGridData(this.guanCfg.completeBoard,this.guanCfg.puzzleBoard,this.data)},n.initGridUI=function(){this.cellList.length=0,this.notesList.length=0,this.uiGridContainer.removeAllChildren();for(var t=this.MaxRow*this.MaxCol,e=0;e<t;e++){var n=r(this.prefabCell);n.name="grid-cell-"+e,this.uiGridContainer.addChild(n);var i=n.getComponent(u);i.cellIndex=e;var o=i.RowCol,l=o[0],a=o[1];n.position=s.getPositionFromRowCol(l,a),this.cellList.push(i),this.notesList.push(new f)}},n.initGridData=function(t,e,n,r){if(!(this.cellList.length<=0)){var i=n||[];null!==r&&this.initNotesRecord(r);for(var o=this.cellList.length,l=0;l<o;l++){var u=this.cellList[l];u.setTargetNum(t[l]);var a=e[l],s=i[l],f=this.notesList[l].getAllNum();u.setNotes(f),a>0?u.setPresetNum(a,!0):u.setNum(s||0,!0)}}},n.getNotesRecord=function(){for(var t={},e=0;e<this.notesList.length;e++){var n=this.notesList[e];if(n){var r=n.getAllNum();!r||r.length<=0||(t[e]=r.slice())}}return t},n.initNotesRecord=function(t){var e=this;if(t){var n=function(){if(!t.hasOwnProperty(r))return 0;var n=parseInt(r,10);if(!Number.isInteger(n)||n<0||n>80)return 0;var i=e.notesList[n];if(!i)return 0;t[r].forEach((function(t){return i.appendNum(t)}))};for(var r in t)n()}},n.getCellByWorldPos=function(t){for(var n,r=e(this.cellList);!(n=r()).done;){var o=n.value,l=o.getComponent(i);if(l&&l.getBoundingBoxToWorld().contains(t))return o}},n.getCellById=function(t){return this.cellList[t]},n.getCellByRowCol=function(t,e){return this.cellList[t*this.MaxCol+e]},n.getRowIds=function(t){var e=this;return s.getRowCoordinates(t).map((function(t){var n=t.x,r=t.y;return n*e.MaxCol+r}))},n.getColIds=function(t){var e=this;return s.getColCoordinates(t).map((function(t){var n=t.x,r=t.y;return n*e.MaxCol+r}))},n.getSudokuAroundIds=function(t,e,n){var r=this;return void 0===n&&(n=!1),s.getPalaceAroundCoordinates(t,e,n).map((function(t){var e=t.x,n=t.y;return e*r.MaxCol+n}))},n.getRelativeIds=function(t,e){var n=this.getRowIds(t)||[];n=(n=n.concat(this.getColIds(e)||[])).concat(this.getSudokuAroundIds(t,e)||[]);var r=new Set(n);return Array.from(r)},n.getSomeCellIds=function(t){if(t<=0||t>9)return[];for(var n,r=[],i=""+t,o=e(this.cellList);!(n=o()).done;){var l=n.value;l.text.string===i&&l.CellFillState!==a.Invalid&&r.push(l.cellIndex)}return r},n.getSomeNotesCellIds=function(t){return this.notesList.map((function(e,n){return e.hasNum(t)?n:-1})).filter((function(t){return-1!==t}))},n.getEmptyCellIds=function(){return this.cellList.filter((function(t){return t.CellFillState===a.Empty})).map((function(t){return t.cellIndex}))},n.setCellViews=function(t,e){var n=this;t.map((function(t){return n.getCellById(t)})).filter(Boolean).forEach((function(t){return t.CellViewState=e}))},n.lightNotes=function(t,e){var n=this,r=t.map((function(t){return n.getCellById(t)})),i=t.map((function(t){return n.notesList[t]}));r.forEach((function(t,n){t&&i[n]&&i[n].hasNum(e)&&t.lightNotes(e)}))},n.clearLightNotes=function(t){var e=this;t.map((function(t){return e.getCellById(t)})).forEach((function(t,e){null==t||t.clearAllLightNotes()}))},n.setNotes=function(t,e,n){var r=this.getCellByRowCol(t,e);if(r&&n&&!(n.length<=0)){var i=this.notesList[r.cellIndex];if(i){var o=i.getAllNum(),l=o.filter((function(t){return!n.some((function(e){return t===e}))})),u=n.filter((function(t){return!o.some((function(e){return t===e}))}));l=l.concat(u),i.clearAllNum(),i.numSet=new Set(l),null==r||r.setNotes(l)}}},n.clearNotes=function(t,e){var n=this.getCellByRowCol(t,e);n.setNotes([]),this.notesList[n.cellIndex].clearAllNum()},n.getCanFillNotes=function(t,e){var n=this,r=this.getCellByRowCol(t,e);if(!r||r.CellFillState!==a.Empty)return null;var i=this.getRelativeIds(t,e).map((function(t){return n.getCellById(t)})).filter(Boolean).filter((function(t){return t.CellFillState===a.Preset||t.CellFillState===a.Valid})).map((function(t){return t.Num}));return Array.from({length:9},(function(t,e){return e+1})).filter((function(t){return!i.some((function(e){return t===e}))}))},n.earseNotes=function(t,e){},n.fillNum=function(t,e,n){var r=this.getCellByRowCol(t,e);r&&(r.setNum(n),this.data[r.cellIndex]=n)},n.updateCellNotes=function(t,n){for(var r,i=this,o=t.map((function(t){return i.getCellById(t)})),l=e(o);!(r=l()).done;){var u=r.value.RowCol,a=u[0],s=u[1];this.notesList[a*this.MaxCol+s].hasNum(n[0])&&this.setNotes(a,s,n)}},n.checkGamePass=function(){if(!this.cellList||this.cellList.length<=0)return!1;for(var t,n=e(this.cellList);!(t=n()).done;){var r=t.value;if(r.Num!==r.TargetNum)return!1}return!0},n.checkUnique=function(t){var e=this,n=t.RowCol,r=n[0],i=n[1];return 1===this.getRowIds(r).map((function(t){return e.getCellById(t)})).filter((function(t){return t.CellFillState===a.Empty})).length||(1===this.getColIds(i).map((function(t){return e.getCellById(t)})).filter((function(t){return t.CellFillState===a.Empty})).length||1===this.getSudokuAroundIds(r,i,!0).map((function(t){return e.getCellById(t)})).filter((function(t){return t.CellFillState===a.Empty})).length)},n.refresh=function(){for(var t,n=e(this.cellList);!(t=n()).done;){var r=t.value;r.updateCellFillState(),r.updateCellViewState()}},n.isColumnFilled=function(t){if(!Number.isInteger(t)||t<0||t>=this.MaxCol)return[!1,null];var n=this.getColIds(t);if(!n||n.length<=0)return[!1,null];for(var r,i=!0,o=e(n);!(r=o()).done;){var l=r.value,u=this.cellList[l];if(u&&!u.isTargetNum(u.Num)){i=!1;break}}return i?[!0,n]:[!1,null]},n.isRowFilled=function(t){if(!Number.isInteger(t)||t<0||t>=this.MaxRow)return[!1,null];var n=this.getRowIds(t);if(!n||n.length<=0)return[!1,null];for(var r,i=!0,o=e(n);!(r=o()).done;){var l=r.value,u=this.cellList[l];if(u&&!u.isTargetNum(u.Num)){i=!1;break}}return i?[!0,n]:[!1,null]},n.isSquareFilled=function(t,n){if(!Number.isInteger(t)||t<0||t>=this.MaxRow)return[!1,null];if(!Number.isInteger(n)||n<0||n>=this.MaxCol)return[!1,null];var r=this.getSudokuAroundIds(t,n,!0);if(!r||r.length<=0)return[!1,null];for(var i,o=!0,l=e(r);!(i=l()).done;){var u=i.value,a=this.cellList[u];if(a&&!a.isTargetNum(a.Num)){o=!1;break}}return o?[!0,r]:[!1,null]},n.playBoardFillAnim=function(t,e){var n=this;if(t){var r=t.cellIndex,i=t.RowCol,o=i[0],l=i[1],u=[],a=this.isRowFilled(o),s=a[0],f=a[1];s&&(u=u.concat(f||[]));var c=this.isColumnFilled(l),h=c[0],d=c[1];h&&(u=u.concat(d||[]));var m=this.isSquareFilled(o,l),v=m[0],g=m[1];if(v&&(u=u.concat(g||[])),!(u.length<=0)){u=Array.from(new Set(u));var C=this.expansionIterator.runExpansion(r,u);C=C.filter((function(t){return t.length>0}));for(var p=0,I=function(t){var r=C[t].map((function(t){return n.cellList[t]}));setTimeout((function(){return t==C.length-1?r.forEach((function(t){return t.playEffectAnim(e)})):r.forEach((function(t){return t.playEffectAnim()}))}),p),p+=40},y=0;y<C.length;y++)I(y)}}else null==e||e()},n.playBoardPassAnim=function(t,e){var n=this;if(t){var r=t.cellIndex,i=Array.from({length:81},(function(t,e){return e+1})),o=this.expansionIterator.runExpansion(r,i);o=o.filter((function(t){return t.length>0}));for(var l=0,u=function(t){var r=o[t].map((function(t){return n.cellList[t]}));setTimeout((function(){return t==o.length-1?r.forEach((function(t){return t.playEffectAnim(e)})):r.forEach((function(t){return t.playEffectAnim()}))}),l),l+=40},a=0;a<o.length;a++)u(a)}else e()},n.playBoardPassAnim1=function(t,e){var n=this;if(t){var r=this.vortexTraverser.traverseClockwise().map((function(t){var e=t[0],r=t[1];return n.getCellByRowCol(e,r)})).filter(Boolean);if(!r||r.length<=0)e();else for(var i=0,o=r.length,l=function(t){var n=r[t];setTimeout((function(){if(t==o-1)return n.playEffectAnim(e);n.playEffectAnim()}),i),i+=20},u=0;u<o;u++)l(u)}else e()},n.playBoardPassAnim2=function(t,e){var n=this;if(t){var r=t.cellIndex,i=Array.from({length:81},(function(t,e){return e+1})),o=this.expansionIterator.runExpansion(r,i);o=o.filter((function(t){return t.length>0})),o=[[r]].concat(o);for(var l=0,u=o.length,a=function(){var t=o[s].map((function(t){return n.cellList[t]}));setTimeout((function(){return t.forEach((function(t){return t.playEffectAnim()}))}),l),l+=40},s=0;s<o.length;s++)a();l+=40;for(var f=function(t){var r=o[t].map((function(t){return n.cellList[t]}));setTimeout((function(){return 0==t?(r[r.length-1].playEffectAnim(e),r.slice(0,-1).forEach((function(t){return t.playEffectAnim()}))):r.forEach((function(t){return t.playEffectAnim()}))}),l),l+=40},c=u-1;c>=0;c--)f(c)}else e()},n.playBoardPassAnim3=function(t,e){var n=this;if(t){var r=this.vortexTraverser.traverseFromCenterClockwise().map((function(t){var e=t[0],r=t[1];return n.getCellByRowCol(e,r)})).filter(Boolean);if(!r||r.length<=0)e();else for(var i=0,o=r.length,l=function(t){var n=r[t];setTimeout((function(){if(t==o-1)return n.playEffectAnim(e);n.playEffectAnim()}),i),i+=20},u=0;u<o;u++)l(u)}else e()},n.playBoardPassAnim4=function(t,e){var n=this;if(t){var r=this.vortexTraverser.traverseCounterClockwise(),i=this.vortexTraverser.traverseFromCenterCounterClockwise(),o=r.concat(i).map((function(t){var e=t[0],r=t[1];return n.getCellByRowCol(e,r)})).filter(Boolean);if(!o||o.length<=0)e();else for(var l=0,u=o.length,a=function(t){var n=o[t];setTimeout((function(){if(t==u-1)return n.playEffectAnim(e);n.playEffectAnim()}),l),l+=12},s=0;s<u;s++)a(s)}else e()},n.playBoardPassAnim5=function(t,e){var n=this;if(t){var r=this.windmillItereator.runWindmill(9).filter((function(t){return t.length>0})),i=this.windmillItereator.runWindmill(7).filter((function(t){return t.length>0})).map((function(t){return t.map((function(t){return{row:t.row+1,col:t.col+1}}))})),o=this.windmillItereator.runWindmill(5).filter((function(t){return t.length>0})).map((function(t){return t.map((function(t){return{row:t.row+2,col:t.col+2}}))})),l=this.windmillItereator.runWindmill(3).filter((function(t){return t.length>0})).map((function(t){return t.map((function(t){return{row:t.row+3,col:t.col+3}}))})),u=r.concat(i,o,l,o,i,r).map((function(t){return t.map((function(t){var e=t.row,r=t.col;return n.getCellByRowCol(e,r)}))}));if(!u||u.length<=0)e();else for(var a=0,s=u.length,f=null,c=function(t){var n=u[t],r=f;setTimeout((function(){r&&r.forEach((function(t){return t.showUIEffect(!1)})),t==s-1&&(setTimeout((function(){e()}),100),setTimeout((function(){n.forEach((function(t){return t.showUIEffect(!1)}))}),30)),n.forEach((function(t){return t.showUIEffect(!0)}))}),a),f=n,a+=30},h=0;h<s;h++)c(h)}else e()},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GridHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,r,e;return{setters:[function(t){i=t.createClass},function(t){o=t.cclegacy,r=t.Vec2,e=t.Vec3}],execute:function(){o._RF.push({},"f7c26Zw2fZIPKp1XApyF8S8","GridHelper",void 0);t("default",new(function(){function t(){this.maxRow=0,this.maxCol=0,this.maxWidth=0,this.maxHeight=0}var o=t.prototype;return o.initialize=function(t,i,o,r){this.maxRow=t,this.maxCol=i,this.maxWidth=o,this.maxHeight=r},o.isInAround=function(t,i){if(!this.isValidRowCol(i.x,i.y))return!1;if(t.equals(i))return!1;for(var o=-1;o<=1;o++)for(var r=-1;r<=1;r++)if(0!==o||0!==r){var e=t.x+o,n=t.y+r;if(this.isValidRowCol(e,n)&&e===i.x&&n===i.y)return!0}return!1},o.rowColToPos=function(t){var i=t.maxHeight,o=t.maxWidth,n=t.maxRow,a=t.maxCol,s=t.row,u=t.col,h=-i,l=.5*o,f=.5*h,x=new r(a*l,n*f),m=new r(u*o+l,s*h+f).subtract(x);return new e(m.x,m.y,0)},o.getPositionFromRowCol=function(t,i){return Number.isNaN(t)||Number.isNaN(i)?null:this.rowColToPos({maxHeight:this.maxHeight,maxWidth:this.maxWidth,maxRow:this.maxRow,maxCol:this.MaxCol,row:t,col:i})},o.isValidRowCol=function(t,i){return!Number.isNaN(t)&&!Number.isNaN(i)&&(t>=0&&t<this.maxRow&&i>=0&&i<this.maxCol)},o.getRowCoordinates=function(t){if(t<0||t>=this.maxRow)return[];for(var i=[],o=0;o<this.maxCol;o++)i.push(new r(t,o));return i},o.getColCoordinates=function(t){if(t<0||t>=this.maxCol)return[];for(var i=[],o=0;o<this.maxRow;o++)i.push(new r(o,t));return i},o.getAroundCoordinates=function(t,i,o){if(void 0===o&&(o=!1),!this.isValidRowCol(t,i))return[];for(var e=[],n=-1;n<=1;n++)for(var a=-1;a<=1;a++){var s=t+n,u=i+a;(o||0!==n||0!==a)&&(this.isValidRowCol(s,u)&&e.push(new r(s,u)))}return e},o.getPalaceAroundCoordinates=function(t,i,o,e){if(void 0===o&&(o=!1),void 0===e&&(e=3),!this.isValidRowCol(t,i))return[];for(var n=Math.floor(t/e)*e,a=Math.floor(i/e)*e,s=n+e,u=a+e,h=[],l=n;l<s;l++)for(var f=a;f<u;f++)(o||l!==t||f!==i)&&h.push(new r(l,f));return h},i(t,[{key:"MaxRow",get:function(){return this.maxRow}},{key:"MaxCol",get:function(){return this.maxCol}},{key:"MaxWidth",get:function(){return this.maxWidth}},{key:"MaxHeight",get:function(){return this.maxHeight}}]),t}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuiAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,o,t,n,s,l,r,a,c,g,h;return{setters:[function(i){e=i.inheritsLoose},function(i){o=i.cclegacy,t=i._decorator,n=i.view,s=i.screen,l=i.UITransform,r=i.Camera,a=i.math,c=i.View,g=i.ResolutionPolicy,h=i.Component}],execute:function(){var z;o._RF.push({},"a4c71BJa9NF776+L9wgTz0s","GuiAdapter",void 0);var p=t.ccclass;i("ScreenAdapter",p("ScreenAdapter")(z=function(i){function o(){for(var e,o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];return(e=i.call.apply(i,[this].concat(t))||this).transform=void 0,e.camera=void 0,e.portrait=void 0,e.portraitDrz=null,e.landscapeDrz=null,e}e(o,i);var t=o.prototype;return t.testPrint=function(){var i=n.getViewportRect();console.log("view port rect = ",i);var e=n.getVisibleSize();console.log("visible size = ",e);var o=n.getVisibleSizeInPixel();console.log("visible size in pixel = ",o);var t=n.getVisibleOrigin();console.log("visible origin = ",t);var l=n.getVisibleOriginInPixel();console.log("visible origin in pixel = ",l);var r=s.windowSize;console.log("screen window size = ",r);var a=n.getFrameSize();console.log("frame size = ",a)},t.onLoad=function(){},t.start=function(){this.init()},t.init=function(){this.transform=this.getComponent(l),this.camera=this.getComponentInChildren(r);var i=n.getDesignResolutionSize();console.log("dsz",i),n.getDesignResolutionSize().width>n.getDesignResolutionSize().height?(this.landscapeDrz=n.getDesignResolutionSize(),this.portraitDrz=new a.Size(this.landscapeDrz.height,this.landscapeDrz.width)):(this.portraitDrz=n.getDesignResolutionSize(),this.landscapeDrz=new a.Size(this.portraitDrz.height,this.portraitDrz.width)),this.testPrint(),console.log("设计分辨率",""+c.instance.getDesignResolutionSize()),console.log("canvas size",""+c.instance.getCanvasSize()),console.log("frame size",""+c.instance.getFrameSize()),console.log("visible size",""+c.instance.getVisibleSize()),console.log("visible size in pixel",""+c.instance.getVisibleSizeInPixel()),console.log("visible origin",""+c.instance.getVisibleOrigin()),console.log("visible origin in pixel",""+c.instance.getVisibleOriginInPixel()),console.log("view port",""+c.instance.getViewportRect()),console.log("屏幕尺寸","screen.windowSize="+s.windowSize+", screen.devicePixelRatio="+s.devicePixelRatio),console.log("屏幕尺寸","="+s.windowSize.width/s.devicePixelRatio+", ="+s.windowSize.height/s.devicePixelRatio),this.resize()},t.resize=function(){var i;i=n.getDesignResolutionSize().width>n.getDesignResolutionSize().height?this.landscapeDrz:this.portraitDrz;var e=s.windowSize,o=e.width,t=e.height;console.log("rw=",o," rh=",t);var l=o,r=t;o/t>i.width/i.height?(r=i.height,l=Math.floor(r*o/t),this.portrait=!1,n.setDesignResolutionSize(l,r,g.FIXED_HEIGHT),console.log("ResolutionPolicy.FIXED_HEIGHT")):(l=i.width,r=Math.floor(l*t/o),this.portrait=!0,n.setDesignResolutionSize(l,r,g.FIXED_WIDTH)),console.log("设计尺寸",i),console.log("屏幕尺寸",e),console.log("final="+l+","+r)},o}(h))||z);o._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts","./HotUpdateManager.ts"],(function(e){var t,n,i,s,o,a,r,l,d,g,c,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,r=e.Label,l=e.ProgressBar,d=e.Node,g=e.Component},function(e){c=e.default},function(e){f=e.HotUpdateManager}],execute:function(){var p,E,u,h,R,A,O,_,b,v,M;o._RF.push({},"ea203soDmhMNZFILMUsuTA/","HotUpdate",void 0);var U=a.ccclass,N=a.property,D=window.jsb;e("HotUpdate",(p=U("HotUpdate"),E=N(r),u=N(r),h=N(l),R=N(d),p((_=t((O=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"info",_,s(t)),i(t,"fileLabel",b,s(t)),i(t,"fileProgress",v,s(t)),i(t,"fileProgressN",M,s(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){console.log("begin HotUpdate onLoad...")},o.onEnable=function(){console.log("begin HotUpdate onEnable...")},o.start=function(){console.log("begin HotUpdate onStart..."),f.instance.StartHotUpdate(this)},o.onDestroy=function(){f.instance.Clean()},o.Over=function(){var e,t=this;f.instance.Clean(),null==(e=c.GetModule("Login"))||e.DoWork(),this.scheduleOnce((function(){t.node.active=!1}),.1)},o.SetDisplayInfo=function(e){this.info.string=e},o.OnCheckEventCode=function(e,t){switch(void 0===t&&(t=0),e.getEventCode()){case D.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.info.string="No local manifest file found, hot update skipped.",console.error("baijie OnCheckEventCode HotUpdate ERROR_NO_LOCAL_MANIFEST !!!!!   "+this.info.string);break;case D.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:this.info.string="Fail to download manifest file, hot update skipped.",console.error("baijie OnCheckEventCode HotUpdate ERROR_DOWNLOAD_MANIFEST !!!!!   "+this.info.string);break;case D.EventAssetsManager.ERROR_PARSE_MANIFEST:this.info.string="Fail to download manifest file, hot update skipped.",console.error("baijie OnCheckEventCode HotUpdate  ERROR_PARSE_MANIFEST !!!!!   "+this.info.string);break;case D.EventAssetsManager.ALREADY_UP_TO_DATE:this.info.string="Already up to date with the latest remote version.";break;case D.EventAssetsManager.NEW_VERSION_FOUND:this.info.string="New version found, please try to update. ("+t+"kb)",this.fileProgress.progress=0,this.fileProgressN.active=!0}},o.OnUpdateEventCode=function(e){switch(e.getEventCode()){case D.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.info.string="No local manifest file found, hot update skipped.",console.error("baijie HotUpdate OnUpdateEventCode ERROR_NO_LOCAL_MANIFEST !!!!!   "+this.info.string);break;case D.EventAssetsManager.UPDATE_PROGRESSION:var t=e.getPercentByFile(),n=Math.ceil(100*t);n=n>100?100:n,this.fileProgress.progress=e.getPercentByFile(),this.fileProgressN.getChildByName("filep").getComponent(r).string=n+"%",this.fileLabel.string=e.getDownloadedFiles()+" / "+e.getTotalFiles(),console.log(this.fileLabel.string);var i=e.getMessage();i&&(this.info.string="Updated file: "+i);break;case D.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:this.info.string="Fail to download manifest file, hot update skipped.",console.error("baijie HotUpdate OnUpdateEventCode ERROR_DOWNLOAD_MANIFEST !!!!!   "+this.info.string);break;case D.EventAssetsManager.ERROR_PARSE_MANIFEST:this.info.string="Fail to download manifest file, hot update skipped.",console.error("baijie HotUpdate OnUpdateEventCode ERROR_PARSE_MANIFEST !!!!!   "+this.info.string);break;case D.EventAssetsManager.ALREADY_UP_TO_DATE:this.info.string="Already up to date with the latest remote version.";break;case D.EventAssetsManager.UPDATE_FINISHED:this.info.string="Update finished. "+e.getMessage();break;case D.EventAssetsManager.UPDATE_FAILED:this.info.string="Update failed. "+e.getMessage(),console.error("baijie HotUpdate OnUpdateEventCode UPDATE_FAILED !!!!!   "+this.info.string);break;case D.EventAssetsManager.ERROR_UPDATING:this.info.string="Asset update error: "+e.getAssetId()+", "+e.getMessage(),console.error("baijie HotUpdate OnUpdateEventCode ERROR_UPDATING !!!!!   "+this.info.string);break;case D.EventAssetsManager.ERROR_DECOMPRESS:this.info.string=e.getMessage(),console.error("baijie HotUpdate OnUpdateEventCode ERROR_DECOMPRESS !!!!!   "+this.info.string)}},t}(g)).prototype,"info",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(O.prototype,"fileLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(O.prototype,"fileProgress",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(O.prototype,"fileProgressN",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=O))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,s,i,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy,s=t.resources,i=t.sys,n=t.game}],execute:function(){a._RF.push({},"9fe99VxDiVPjJlayVb3ELLQ","HotUpdateManager",void 0);var r=window.jsb;t("HotUpdateManager",function(){function t(){this.manifestUrl=null,this._updateListener=null,this._updating=!1,this._storagePath="",this._am=null,this._failCount=0,this._canRetry=!1,this.versionCompareHandle=null,this._initted=!1}var a=t.prototype;return a._init=function(t){var e=this;void 0===t&&(t=null),1!=this._initted&&(this._initted=!0,console.log("begin StartHotUpdate _init 0 ..."),s.load("project",(function(a,s){console.log("begin load project 0 ...nativeUrl = "+s.nativeUrl),e.manifestUrl=s,t&&t()})),this._storagePath=(r.fileUtils?r.fileUtils.getWritablePath():"/")+"ezhsk",console.log("Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(t,e){console.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var a=t.split("."),s=e.split("."),i=0;i<a.length;++i){var n=parseInt(a[i]),r=parseInt(s[i]||"0");if(n!==r)return n-r}return s.length>a.length?-1:0},this._am=new r.AssetsManager("",this._storagePath,this.versionCompareHandle),this._am.setVerifyCallback((function(t,e){e.compressed,e.md5,e.path,e.size;return!0})))},a.SupportHotUpdate=function(){return!!r&&!!i.isNative},a.StartHotUpdate=function(t){var e=this;if(null!=t){if(console.log("begin StartHotUpdate 0 ..."),this._updating)return console.log("begin StartHotUpdate 1 ..."),void(t&&(console.log("begin StartHotUpdate 2 ..."),t.SetDisplayInfo("be in updating....")));console.log("begin StartHotUpdate 3 ..."),this._updateListener=t;try{this._init((function(){e.checkUpdate()}))}catch(s){if(console.error("StartHotUpdate _init and checkUpdate error = "+s),i.isNative&&0==i.isBrowser){var a=(r.fileUtils?r.fileUtils.getWritablePath():"/")+"ezhsk";console.log("Storage path for remote asset : "+a),r.fileUtils.removeDirectory(a),setTimeout((function(){e.StartHotUpdate(t)}),1e3)}}}},a.Retry=function(){this._canRetry&&(this._canRetry=!1,this._updateListener.SetDisplayInfo("Retry failed Assets..."),this._am.downloadFailedAssets())},a.Clean=function(){this._initted=!1,s.release("project"),this._am.setEventCallback(null),this._updateListener=null,this._updating=!1},a.checkUpdate=function(){if(this._updating)this._updateListener.SetDisplayInfo("Checking or updating ...");else{if(this._am.getState()===r.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;this._am.loadLocalManifest(t)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._am.setEventCallback(this._checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0):this._updateListener.SetDisplayInfo("Failed to load local manifest ...")}},a._checkCb=function(t){console.log("_checkCb Code: "+t.getEventCode());var e=!1;switch(t.getEventCode()){case r.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case r.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case r.EventAssetsManager.ERROR_PARSE_MANIFEST:case r.EventAssetsManager.ALREADY_UP_TO_DATE:this._updateListener.OnCheckEventCode(t);break;case r.EventAssetsManager.NEW_VERSION_FOUND:e=!0;var a=Math.ceil(this._am.getTotalBytes()/1024);this._updateListener.OnCheckEventCode(t,a);break;default:return}this._am.setEventCallback(null),0==e?(this._updating=!1,this._updateListener.Over()):this._hotUpdate()},a._hotUpdate=function(){if(this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===r.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;this._am.loadLocalManifest(t)}this._failCount=0,this._updating=!0,this._am.update()},a.updateCb=function(t){var e=!1,a=!1;switch(t.getEventCode()){case r.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case r.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case r.EventAssetsManager.ERROR_PARSE_MANIFEST:case r.EventAssetsManager.ALREADY_UP_TO_DATE:this._updateListener.OnUpdateEventCode(t),a=!0,console.error("baijie HotUpdateManager updateCb failed = true ");break;case r.EventAssetsManager.UPDATE_PROGRESSION:case r.EventAssetsManager.ERROR_UPDATING:case r.EventAssetsManager.ERROR_DECOMPRESS:this._updateListener.OnUpdateEventCode(t);break;case r.EventAssetsManager.UPDATE_FINISHED:this._updateListener.OnUpdateEventCode(t),e=!0;break;case r.EventAssetsManager.UPDATE_FAILED:this._updateListener.OnUpdateEventCode(t),this._updating=!1,this._canRetry=!0}if(a&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1),e){this._am.setEventCallback(null),this._updateListener=null,this._updating=!1;var s=r.fileUtils.getSearchPaths(),i=this._am.getLocalManifest().getSearchPaths();Array.prototype.unshift.apply(s,i),localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(s)),r.fileUtils.setSearchPaths(s),setTimeout((function(){n.restart()}),1e3)}},e(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}())._instance=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/HttpUtils.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"05c906nQkNF0YBPKbqZiKFi","HttpUtils",void 0);var r,n=e("EResponseType",function(e){return e.JSON="json",e.TEXT="text",e.ArrayBuffer="arraybuffer",e.Blob="blob",e.Document="document",e.MS_Stream="ms_stream",e}({})),o=e("ENetLoadingType",function(e){return e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Finshied=2]="Finshied",e[e.Retry=3]="Retry",e[e.Tips=4]="Tips",e}({})),a=(e({HttpUtils:r=function(){function e(){}return e.removeCache=function(t){e.urls.delete(t),e.reqparams.delete(t)},e.encodeParamString=function(e,t){void 0===t&&(t="");var r="";for(var n in e){var o=e[n];if(o instanceof Object)for(var a in o)r+=""+t+a+"="+o[a],t="&";else r+=""+t+n+"="+o,t="&"}return r},e._canErrRetry=function(e,t){return null==e.retryNum&&(e.retryNum=0),e.retryNum=e.retryNum+1,e.retryNum<t},e._canFailRetry=function(e,t){return null==e.failRetryNum&&(e.failRetryNum=0),e.failRetryNum=e.failRetryNum+1,e.failRetryNum<t},e.GET=function(t,r,a,i,s,u,l){if(void 0===s&&(s=null),void 0===u&&(u=0),void 0===l&&(l=0),null==t||""==t)return console.log("url is empty"),!1;var m=new XMLHttpRequest,y=r.maskCallback,d=e._maxErrRetryCount,f=e._maxFailRetryCount,p=e._retryIntervalMills;r.hasOwnProperty("maxRetryCount")&&(d=r.maxRetryCount),r.hasOwnProperty("maxFailRetryCount")&&(f=r.maxFailRetryCount),r.hasOwnProperty("retryIntervalMills")&&(p=r.retryIntervalMills),m.retryNum=u,m.failRetryNum=l;var c="",v="",h=r.params;if(h)for(var R=0,N=Object.keys(h);R<N.length;R++){var g=N[R],T=h[g];c=""+c+v+g+"="+encodeURI(T),v="&"}c&&c.length>0&&t.lastIndexOf("?")<=-1&&(v="?");var C=t+v+c;if(e.urls.get(t)&&e.reqparams.get(t))return console.info("HttpUtils urls -> ",e.urls,"HttpUtils.reqparms -> ",e.reqparams),void console.warn("address->【"+C+"】is requesting，can't duplicated");if(e.urls.set(t,m),e.reqparams.set(t,c),m.open("GET",C,!0),void 0!==r.responseType&&(m.responseType=r.responseType),void 0!==r.withCredentials&&(m.withCredentials=r.withCredentials),void 0!==r.mimeType&&m.overrideMimeType&&m.overrideMimeType(r.mimeType),void 0!==r.timeout&&(m.timeout=r.timeout),r.headers)for(var F in r.headers)m.setRequestHeader(F,r.headers[F]);return m.onload=function(){e.removeCache(t);var u=m.response;if(null!=u&&m.status>=200&&m.status<400){if(y&&y(o.Finshied),a)if(m.responseType==n.ArrayBuffer)a(u);else{var l=JSON.parse(u);a(l)}}else e._canFailRetry(m,f)?(r.retryCount=m.retryNum,r.failRetryCount=m.failRetryNum,y&&y(o.Loading),setTimeout((function(){e.GET(t,r,a,i,s,m.retryNum,m.failRetryNum)}),p)):(y&&y(o.Finshied),i&&i(m.status,"(no response)"))},s&&(m.onprogress=function(e){e.lengthComputable&&s(e.loaded,e.total)}),m.timeout>0&&(m.ontimeout=function(){e.removeCache(t),y&&y(o.Loading),i&&i(m.status,"(time out)")}),m.onerror=function(){e.removeCache(t),e._canErrRetry(m,d)?(r.retryCount=m.retryNum,r.failRetryCount=m.failRetryNum,y&&y(o.Loading),setTimeout((function(){e.GET(t,r,a,i,s,m.retryNum,m.failRetryNum)}),p)):(y&&y(o.Finshied),i&&i(m.status,"(error)"))},m.onabort=function(){e.removeCache(t),e._canErrRetry(m,d)?(r.retryCount=m.retryNum,r.failRetryCount=m.failRetryNum,y&&y(o.Loading),setTimeout((function(){e.GET(t,r,a,i,s,m.retryNum,m.failRetryNum)}),p)):(y&&y(o.Finshied),i&&i(m.status,"(abort)"))},m.send(),m},e.POST=function(t,r,n,a,i,s,u,l){if(void 0===s&&(s=null),void 0===u&&(u=0),void 0===l&&(l=0),null==t||""==t)return console.log("url is empty"),!1;var m=new XMLHttpRequest,y=r.maskCallback,d=e._maxErrRetryCount,f=e._maxFailRetryCount,p=e._retryIntervalMills;if(r.hasOwnProperty("maxRetryCount")&&(d=r.maxRetryCount),r.hasOwnProperty("maxFailRetryCount")&&(f=r.maxFailRetryCount),r.hasOwnProperty("retryIntervalMills")&&(p=r.retryIntervalMills),m.retryNum=u,m.failRetryNum=l,m.open("POST",t,!0),void 0!==r.responseType&&(m.responseType=r.responseType),void 0!==r.withCredentials&&(m.withCredentials=r.withCredentials),void 0!==r.mimeType&&m.overrideMimeType&&m.overrideMimeType(r.mimeType),void 0!==r.timeout&&(m.timeout=r.timeout),r.headers)for(var c in r.headers)m.setRequestHeader(c,r.headers[c]);m.onload=function(){console.log("on load.......");var u=m.response;if(null!=u&&m.status>=200&&m.status<400)return y&&y(o.Finshied),void(a&&a(u));console.log("on load status="+m.status),e._canFailRetry(m,f)?(y&&y(o.Loading),setTimeout((function(){e.POST(t,r,n,a,i,s,m.retryNum,m.failRetryNum)}),p)):(y&&y(o.Finshied),i&&i(m.status,"(no response)"))},s&&(m.onprogress=function(e){e.lengthComputable&&s(e.loaded,e.total)}),m.timeout>0&&(m.ontimeout=function(){y&&y(o.Loading),i&&i(m.status,"(time out)")}),m.onerror=function(){console.log("xhr.onerror -> "+m.status),e._canErrRetry(m,d)?(y&&y(o.Loading),setTimeout((function(){e.POST(t,r,n,a,i,s,m.retryNum,m.failRetryNum)}),p)):(y&&y(o.Finshied),i&&i(m.status,"(error)"))},m.onabort=function(){e._canErrRetry(m,d)?(y&&y(o.Loading),setTimeout((function(){e.POST(t,r,n,a,i,s,m.retryNum,m.failRetryNum)}),p)):(y&&y(o.Finshied),i&&i(m.status,"(abort)"))};var v=r.headers?r.headers["Content-Type"]:"";if(n){if("application/json"==v){var h=n;"object"==typeof n&&(h=JSON.stringify(n)),m.send(h),console.log("start http json ->"+t+", "+h)}else m.send(n),console.log("start http ->"+t+", "+n);return m}if(r.params)if("application/x-www-form-urlencoded;charset=utf-8"==v){var R=e.encodeParamString(r.params);if(R&&R.length>0)return m.send(R),console.log("start http ->"+t+", "+R),m}else{var N=Object.keys(r.params);if(N&&N.length>0){var g=JSON.stringify(r.params);if(g&&g.length>0)return m.send(g),console.log("start http ->"+t+", "+g),m}}return console.log("start http ->"+t),m.send(""),m},e}(),default:r}),r);a._maxErrRetryCount=0,a._maxFailRetryCount=0,a._retryIntervalMills=500,a.urls=new Map,a.reqparams=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/IapDef.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8b4a9nBA8RAFpdnvyCMDIRO","IapDef",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IControl.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"994a3lxTXtHRbNFhzaSOimG","IControl",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IDManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"c1d21fiWx9O8aqM0QIY8UMg","IDManager",void 0);e("EIDChannel",function(e){return e[e.Org=0]="Org",e[e.TenXun=1]="TenXun",e[e.Mi=2]="Mi",e[e.HWei=3]="HWei",e[e.Oppo=4]="Oppo",e}({}));var n=e("EIDType",function(e){return e[e.Begin=0]="Begin",e[e.Role=0]="Role",e[e.Pet=1]="Pet",e[e.Item=2]="Item",e[e.Building=3]="Building",e[e.End=4]="End",e}({})),r=e("ECreatureIDType",function(e){return e[e.MapObject=1]="MapObject",e[e.NPc=2]="NPc",e[e.Monster=3]="Monster",e}({})),s=function(){function e(e,t,i,n){this.channel=void 0,this.serverID=void 0,this.idType=void 0,this.autoID=void 0,this.channalMask=void 0,this.svrIDMask=void 0,this.idTypeMask=void 0,this.channel=e,this.serverID=t,this.idType=i,this.autoID=n,this.channalMask=this.channel<<48,this.svrIDMask=this.serverID<<38,this.idTypeMask=this.idType<<35}var t=e.prototype;return t.GetType=function(){return this.idType},t.GenID=function(){return this.autoID+=1,this.channalMask|this.svrIDMask|this.idTypeMask|this.autoID},t.GenCreatureID=function(e){return this.autoID+=1,e<<25|this.autoID},t.GetAutoID=function(){return this.autoID},e}(),o=(e("IDVO",(function(){this.role_auto_id=void 0,this.item_auto_id=void 0,this.pet_auto_id=void 0,this.building_auto_id=void 0,this.role_auto_id=0,this.item_auto_id=0,this.pet_auto_id=0,this.building_auto_id=0})),function(){function e(){this.vo=void 0,this.channel=void 0,this.serverID=void 0,this.roleGener=void 0,this.petGener=void 0,this.itemGener=void 0,this.mailGener=void 0,this.buildingGener=void 0,this.creGener=void 0,this._inited=void 0,this.channel=0,this.serverID=0,this._inited=!1}var i=e.prototype;return i.Init=function(e,t,i){this.vo=i,this.channel=e,this.serverID=t,this.roleGener=new s(this.channel,this.serverID,n.Role,i.role_auto_id),this.petGener=new s(this.channel,this.serverID,n.Pet,i.pet_auto_id),this.itemGener=new s(this.channel,this.serverID,n.Item,i.item_auto_id),this.buildingGener=new s(this.channel,this.serverID,n.Role,i.building_auto_id),this.creGener=new s(0,0,0,1),this._inited=!0},i.GenID=function(e){switch(e){case n.Role:return this.roleGener.GenID();case n.Pet:return this.petGener.GenID();case n.Item:return this.itemGener.GenID();case n.Building:return this.buildingGener.GenID();default:throw new Error("id type:[ "+e+" ] is not existed,")}},i.genRoleID=function(){return this.roleGener.GenID()},i.genPetID=function(){return this.petGener.GenID()},i.genItemID=function(){return this.itemGener.GenID()},i.genBuildingID=function(){return this.buildingGener.GenID()},i.genMapObjID=function(){return this.creGener.GenCreatureID(r.MapObject)},i.genMonsterID=function(){return this.creGener.GenCreatureID(r.Monster)},i.saveToDB=function(){this.vo},t(e,null,[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),e._instance}}]),e}());o._instance=void 0;e("default",o.instance);i._RF.pop()}}}));

System.register("chunks:///_virtual/ImageUtil.ts",["cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.Color,r=e.Texture2D}],execute:function(){t._RF.push({},"e818czSHclKaq3aS21wQxPC","ImageUtil",void 0);e("ImageUtil",function(){function e(){}return e.getPixelColor=function(e,t,r){var a=document.createElement("canvas"),i=a.getContext("2d");a.width=e.width,a.height=e.height;var o=e.getHtmlElementObj();i.drawImage(o,0,0,e.width,e.height);var c=i.getImageData(0,0,e.width,e.height),g=(r-1)*e.width*4+4*(t-1),u=c.data.slice(g,g+4),l=new n(u[0],u[1],u[2],u[3]);return o.remove(),a.remove(),l},e.imageToBase64=function(e,t){return new Promise((function(n){var r,a=null==(r=/\.png|\.jpg|\.jpeg/.exec(e))?void 0:r[0];if([".png",".jpg",".jpeg"].includes(a)){var i=document.createElement("canvas"),o=i.getContext("2d"),c=new Image;c.src=e,c.onload=function(){i.height=c.height,i.width=c.width,o.drawImage(c,0,0),a=".jpg"===a?"jpeg":a.replace(".","");var e=i.toDataURL("image/"+a);t&&t(e),n(e),c.remove(),i.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),t&&t(""),n("")}))},e.base64ToTexture=function(e){var t=document.createElement("img");t.src=e;var n=new r;return n.initWithElement(t),t.remove(),n},e.base64ToBlob=function(e){for(var t=e.split(","),n=/image\/\w+|;/.exec(t[0])[0],r=window.atob(t[1]),a=new ArrayBuffer(r.length),i=new Uint8Array(a),o=0;o<r.length;o++)i[o]=255&r.charCodeAt(o);return new Blob([i],{type:n})},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./SudokuConfig.ts","./KeyManager.ts","./SettingConfig.ts","./PropConfig.ts"],(function(n){var t,i,o,e,u;return{setters:[function(n){t=n.cclegacy},function(n){i=n.sudokuConfig},function(n){o=n.Keys},function(n){e=n.settingConfig},function(n){u=n.propConfig}],execute:function(){var c;t._RF.push({},"a22e0zgjTBL7KzyNF4lclkb","index",void 0);n("dataConfig",((c={})[o.SETTINGS]=e,c[o.SUDOKU_DATA_Prefix]=i,c[o.PROP]=u,c));t._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./BehaviorTree.ts","./BranchNode.ts","./Decorator.ts","./BTreeNode.ts","./Priority.ts","./Sequence.ts","./Task.ts","./Selector.ts"],(function(e){var t;return{setters:[function(e){t=e.cclegacy},function(t){e("BehaviorTree",t.BehaviorTree)},function(t){e("BranchNode",t.BranchNode)},function(t){e("Decorator",t.Decorator)},function(t){e("BTreeNode",t.BTreeNode)},function(t){e("Priority",t.Priority)},function(t){e("Sequence",t.Sequence)},function(t){e("Task",t.Task)},function(t){e("Selector",t.Selector)}],execute:function(){t._RF.push({},"b7a2azCloBG9JM9ddXetXpd","index",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/InputRawStream.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utf8Util.ts"],(function(t){var i,n,e;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.Utf8Utils}],execute:function(){n._RF.push({},"6dc8fFaS21Gv6vucFG+on+t","InputRawStream",void 0);t("InputRawStream",function(){function t(t,i){void 0===i&&(i=!0),this._data=void 0,this._rp=void 0,this._bp=void 0,this._ep=void 0,this._view=void 0,this._littleEndian=void 0,this._data=t.buffer,this._bp=t.byteOffset,this._rp=0,this._ep=t.byteOffset+t.length,this._littleEndian=i,this._view=new DataView(t.buffer,t.byteOffset,t.length)}var n=t.prototype;return n.Reset=function(){this._rp=0},n.Position=function(){return this._rp},n.ReadBool=function(){var t=this._view.getInt8(this._rp);return this._rp+=1,1==t},n.ReadInt8=function(){var t=this._view.getInt8(this._rp);return this._rp+=1,t},n.ReadUint8=function(){var t=this._view.getUint8(this._rp);return this._rp+=1,t},n.ReadInt16=function(){var t=this._view.getInt16(this._rp,this._littleEndian);return this._rp+=2,t},n.ReadUint16=function(){var t=this._view.getUint16(this._rp,this._littleEndian);return this._rp+=2,t},n.ReadInt32=function(){var t=this._view.getInt32(this._rp,this._littleEndian);return this._rp+=4,t},n.ReadUint32=function(){var t=this._view.getUint32(this._rp,this._littleEndian);return this._rp+=4,t},n.readInt32=function(t){return this._view.getInt32(this._bp+t,this._littleEndian)},n.readUint32=function(t){return this._view.getUint32(this._bp+t,this._littleEndian)},n.ReadBytes=function(){var t=this.ReadInt32(),i=new Uint8Array(this._data,this._bp+this._rp,t);return this._rp+=t,i},n.ReadString=function(){var t=this.ReadBytes();return e.stringify(t)},i(t,[{key:"length",get:function(){return this._ep-this._bp}},{key:"RemainRead",get:function(){return this._ep-(this._rp+this._bp)}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/InterfaceDefine.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9ab058yiAZKfI5TJ+UD6qb6","InterfaceDefine",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/JsonUtil.ts",["cc","./tlg.ts","./ResManager.ts"],(function(n){var e,s,t,o;return{setters:[function(n){e=n.cclegacy,s=n.JsonAsset},function(n){t=n.tlg},function(n){o=n.ResManager}],execute:function(){e._RF.push({},"d8801oXmXxHP7wiYUU+GMcf","JsonUtil",void 0);var a="cfgs/",c=new Map;n("JsonUtil",function(){function n(){}return n.get=function(n){if(c.has(n))return c.get(n)},n.load=function(n,e){if(c.has(n))e(c.get(n));else{var o=a+n;t.res.load(o,s,(function(s,t){s?(console.warn(s.message),e(null)):(c.set(n,t.json),e(t.json))}))}},n.loadCfgs=function(n,e,t){if(c.has(e))t(c.get(e));else{var l=a+e;o.loadBundle(n,(function(n,o){o&&o.load(l,s,(function(n,s){n?(console.warn(n.message),t(null)):(c.set(e,s.json),t(s.json))}))}))}},n.loadAsync=function(n){return new Promise((function(e,o){if(c.has(n))e(c.get(n));else{var l=a+n;t.res.load(l,s,(function(s,t){s?(console.warn(s.message),e(null)):(c.set(n,t.json),e(t.json))}))}}))},n.release=function(n){var e=a+n;c.delete(n),t.res.release(e)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/KeyManager.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c8b43zkE1dLG7fU0Rhr04tN","KeyManager",void 0);e("Keys",{SETTINGS:"settings",SUDOKU_DATA_Prefix:"sudoku_data",PROP:"prop_data"});t._RF.pop()}}}));

System.register("chunks:///_virtual/LabelHelper.ts",["cc"],(function(n){var e,t,o,r,i,a,l;return{setters:[function(n){e=n.cclegacy,t=n.Node,o=n.UITransform,r=n.Label,i=n.LabelOutline,a=n.LabelShadow,l=n.Vec2}],execute:function(){e._RF.push({},"2a74cKxShlA15q1gSFu9IC+","LabelHelper",void 0);n("LabelHelper",function(){function n(){}return n.create=function(n,e,i){var a=new t("Label"),l=(a.addComponent(o),a.addComponent(r));return l.string=n,l.fontSize=i,a},n.createWithTTF=function(n,e,i){var a=new t("Label"),l=(a.addComponent(o),a.addComponent(r));return l.string=n,l.fontSize=i,a},n.setString=function(n,e,t){void 0===t&&(t=!1);var o=n.getComponent(r);o&&(o.string=e,t&&o.updateRenderData(!0))},n.getString=function(n){return n.getComponent(r).string},n.setTextHorizontalAlignment=function(n,e){var t=n.getComponent(r);t&&(t.horizontalAlign=e)},n.setTextVerticalAlignment=function(n,e){var t=n.getComponent(r);t&&(t.verticalAlign=e)},n.enableOutline=function(n,e,t){if(n.getComponent(r)){var o=n.getComponent(i);o||(o=n.addComponent(i)),o.color=e,o.width=t}},n.enableShadow=function(n,e,t,o){if(!n.getComponent(r)){var i=n.getComponent(a);i||(i=n.addComponent(a)),i.color=e,i.offset=new l(t.width,t.height),void 0!==o&&(i.blur=o)}},n.setColor=function(n,e){var t=n.getComponent(r);t&&(t.color=e)},n.setTextColor=function(n,e){var t=n.getComponent(r);t&&e&&(t.color=e)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Language.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./EventDispatcher.ts"],(function(e){var n,a,t,i,u,r,s;return{setters:[function(e){n=e.inheritsLoose,a=e.createClass},function(e){t=e.cclegacy,i=e.assetManager,u=e.JsonAsset},function(e){r=e.LanguageData},function(e){s=e.EventDispatcher}],execute:function(){t._RF.push({},"840e892gNBF+ahd3sKLlria","Language",void 0);var l=e("LanguageEvent",function(e){return e.CHANGE="LanguageEvent.CHANGE",e.RELEASE_RES="LanguageEvent.RELEASE_RES",e}({}));e("ELanuage",function(e){return e[e.Chinese_Simplified=1]="Chinese_Simplified",e[e.Chinese=2]="Chinese",e[e.English=3]="English",e[e.Hindi=4]="Hindi",e[e.Spanish=5]="Spanish",e[e.Arabic=6]="Arabic",e[e.Bengali=7]="Bengali",e[e.French=8]="French",e[e.Portuguese=9]="Portuguese",e[e.Malay=10]="Malay",e[e.Russia=11]="Russia",e[e.Japan=12]="Japan",e[e.Punjabi=13]="Punjabi",e[e.Telugu=14]="Telugu",e[e.German=15]="German",e[e.Marathi=16]="Marathi",e[e.Vietnamese=17]="Vietnamese",e[e.Tamil=18]="Tamil",e[e.Urdu=19]="Urdu",e[e.Thai=20]="Thai",e[e.Korea=21]="Korea",e[e.Persian=22]="Persian",e[e.Turkish=23]="Turkish",e[e.Burmese=24]="Burmese",e[e.Kazakh=25]="Kazakh",e[e.Ukrainian=26]="Ukrainian",e[e.Indonesian=27]="Indonesian",e[e.Khmer=28]="Khmer",e}({})),e("LanguageManager",function(e){function t(){for(var n,a=arguments.length,t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];return(n=e.call.apply(e,[this].concat(t))||this)._defaultLanguage="en",n._languages=[{lancode:"zh",text:"中文简体",filename:"Chinese_Simplified"},{lancode:"en",text:"english",filename:"English"}],n._countryToLancode={},n}n(t,e);var s=t.prototype;return s.getStr=function(e){return r.getLangByID(e)},s.loadBundle=function(){var e=this;null==i.getBundle("i18n")&&i.loadBundle("i18n",(function(n,a){n?console.log(n):a.load("Lans",u,(function(n,a){if(n)console.log(n);else{var t=a.codes;t&&t.length>0&&(e._languages=t);var i=a.area2lan;i&&i.length>0&&(e._countryToLancode=i)}}))}))},s.setLanguage=function(e,n){var a=this;if(e=null==e||""==e?this._defaultLanguage:e.toLowerCase(),this.languages.indexOf(e)<0&&(console.log("当前不支持【"+e+"】语言，将自动切换到【"+this._defaultLanguage+"】语言"),e=this._defaultLanguage),e!==r.current){var t=this._languages[e];if(null!=t&&null!=t.filename){var s=i.getBundle("i18n");s&&s.load(t.filename,u,(function(t,i){t||(r.json=i,r.current=e,a.dispatchEvent(l.CHANGE,e),n(!0))}))}else n(!1)}else n(!1)},s.isExist=function(e){return this.languages.indexOf(e)>-1},s.getLanguageCodeByContry=function(e){var n=this._countryToLancode[e];return null==n?this._defaultLanguage:n},a(t,[{key:"languages",get:function(){return this._languages}},{key:"default",set:function(e){this._defaultLanguage=e||"zh"}},{key:"current",get:function(){return r.current}}]),t}(s));t._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3eb52vaYlRGYptFmMKXMbdr","LanguageData",void 0);var n=t("LanguageData",function(){function t(){}return t.getLangByID=function(t){var e=this.json[t];if(e)return e;if(this.excel){var n=this.excel[t];if(n)return n[this.current]}return t},t}());n.current="",n.json={},n.excel=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./tlg.ts"],(function(t){var e,a,n,i,r,o,s,p,u,l,c,g,h,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty,n=t.inheritsLoose,i=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,p=t.CCString,u=t.Label,l=t.RichText,c=t.TTFFont,g=t.warn,h=t.Component},function(t){f=t.LanguageData},function(t){d=t.tlg}],execute:function(){var y,m,b,L,_,D,v,z,I,S,k,w,F,U;o._RF.push({},"40d38Ufy85MprEk5NiQ2wLS","LanguageLabel",void 0);var C=s.ccclass,P=s.property,T=s.menu,O=t("LanLabelParamsItem",C("LanLabelParamsItem")((b=e((m=function(){a(this,"key",b,this),a(this,"value",L,this)}).prototype,"key",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=e(m.prototype,"value",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=m))||y);t("LanguageLabel",(_=C("LanguageLabel"),D=T("ui/language/LanguageLabel"),v=P({type:O,displayName:"params"}),z=P({type:O,displayName:"params"}),I=P({serializable:!0}),S=P({type:p,serializable:!0}),_(k=D((F=e((w=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"_params",F,i(e)),a(e,"_dataID",U,i(e)),e.initFontSize=0,e._needUpdate=!1,e}n(e,t);var o=e.prototype;return o.language=function(){this._needUpdate=!0},o.onLoad=function(){this._needUpdate=!0},o.setVars=function(t,e){for(var a=!1,n=0;n<this._params.length;n++){var i=this._params[n];i.key===t&&(i.value=e,a=!0)}if(!a){var r=new O;r.key=t,r.value=e,this._params.push(r)}this._needUpdate=!0},o.update=function(){this._needUpdate&&(this.updateContent(),this._needUpdate=!1)},o.updateContent=function(){var t=this.getComponent(u),e=this.getComponent(l),a=d.res.get("",c);t?(a&&!t.useSystemFont&&(t.font=a),t.string=this.string,this.initFontSize=t.fontSize):e?(a&&!e.useSystemFont&&(e.font=a),this.initFontSize=e.fontSize,e.string=this.string,this.initFontSize=e.fontSize):g("[LanguageLabel], 该节点没有cc.Label || cc.RichText组件")},r(e,[{key:"params",get:function(){return this._params||[]},set:function(t){this._params=t,this._needUpdate=!0}},{key:"dataID",get:function(){return this._dataID||""},set:function(t){this._dataID=t,this._needUpdate=!0}},{key:"string",get:function(){var t=f.getLangByID(this._dataID);return t&&this._params.length>0&&this._params.forEach((function(e){t=t.replace("%{"+e.key+"}",e.value)})),t||(g("[LanguageLabel] 未找到语言标识,使用dataID替换"),t=this._dataID),t}}]),e}(h)).prototype,"_params",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(w.prototype,"params",[z],Object.getOwnPropertyDescriptor(w.prototype,"params"),w.prototype),U=e(w.prototype,"_dataID",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(w.prototype,"dataID",[S],Object.getOwnPropertyDescriptor(w.prototype,"dataID"),w.prototype),k=w))||k)||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguagePack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./LanguageLabel.ts","./LanguageSprite.ts","./Logger.ts","./JsonUtil.ts","./tlg.ts"],(function(n){var e,t,r,a,o,u,i,s,l,g,c,f,p;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){r=n.cclegacy,a=n.director,o=n.error,u=n.JsonAsset,i=n.TTFFont},function(n){s=n.LanguageData},function(n){l=n.LanguageLabel},function(n){g=n.LanguageSprite},function(n){c=n.Logger},function(n){f=n.JsonUtil},function(n){p=n.tlg}],execute:function(){r._RF.push({},"75448wmmN9EtqRMpVzWqSHi","LanguagePack",void 0);n("LanguagePack",function(){function n(){this.json="language/json",this.texture="language/texture",this.spine="language/spine"}var r=n.prototype;return r.updateLanguage=function(n){for(var e=a.getScene().children,t=0;t<e.length;++t){for(var r=e[t].getComponentsInChildren(l),o=0;o<r.length;o++)r[o].language();for(var u=e[t].getComponentsInChildren(g),i=0;i<u.length;i++)u[i].language()}},r.loadLanguageAssets=function(){var n=e(t().mark((function n(e,r){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadTexture(e);case 2:return n.next=4,this.loadSpine(e);case 4:return n.next=6,this.loadJson(e);case 6:return n.next=8,this.loadTable(e);case 8:r(e);case 9:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),r.loadTable=function(n){return new Promise(e(t().mark((function n(e,r){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.loadAsync("Language");case 2:s.excel=n.sent,s.excel&&c.logConfig("config/game/Language","下载语言包 excel 资源"),e(null);case 5:case"end":return n.stop()}}),n)}))))},r.loadTexture=function(n){var e=this;return new Promise((function(t,r){var a=e.texture+"/"+n;p.res.loadDir(a,(function(n,e){if(n)return o(n),void t(null);c.logConfig(a,"下载语言包 textures 资源"),t(null)}))}))},r.loadJson=function(n){var e=this;return new Promise((function(t,r){var a=e.json+"/"+n;p.res.load(a,u,(function(n,e){if(n)return o(n),void t(null);s.json=e.json,c.logConfig(a,"下载语言包 json 资源"),p.res.load(a,i,(function(n){null==n&&c.logConfig(a,"下载语言包 ttf 资源"),t(null)}))}))}))},r.loadSpine=function(n){var e=this;return new Promise((function(t,r){var a=e.spine+"/"+n;p.res.loadDir(a,(function(n,e){if(n)return o(n),void t(null);c.logConfig(a,"下载语言包 spine 资源"),t(null)}))}))},r.releaseLanguageAssets=function(n){var e=this.texture+"/"+n;p.res.releaseDir(e),c.logView(e,"释放语言 texture 资源");var t=this.json+"/"+n;p.res.release(t),c.logView(t,"释放语言文字资源");var r=this.spine+"/"+n;p.res.release(r),c.logView(r,"释放语言 spine 资源")},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./tlg.ts"],(function(t){var e,a,r,i,n,o,p,u,s,c,g,l,f,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,p=t._decorator,u=t.CCString,s=t.SpriteFrame,c=t.Sprite,g=t.UITransform,l=t.Component},function(t){f=t.LanguageData},function(t){S=t.tlg}],execute:function(){var d,h,y,D,m,z,b,v,I;o._RF.push({},"1ccd7QHghxCpamnRg69r78F","LanguageSprite",void 0);var L=p.ccclass,_=p.property,C=p.menu;t("LanguageSprite",(d=L("LanguageSprite"),h=C("ui/language/LanguageSprite"),y=_({serializable:!0}),D=_({type:u,serializable:!0}),m=_({tooltip:"是否设置为图片原始资源大小"}),d(z=h((v=e((b=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"_dataID",v,i(e)),r(e,"isRawSize",I,i(e)),e}a(e,t);var o=e.prototype;return o.start=function(){this.updateSprite()},o.language=function(){this.updateSprite()},o.updateSprite=function(){var t="language/texture/"+f.current+"/"+this.dataID+"/spriteFrame",e=S.res.get(t,s);if(e){var a=this.getComponent(c);if(a.spriteFrame=e,this.isRawSize){var r,i=e._originalSize;null==(r=a.getComponent(g))||r.setContentSize(i)}}else console.error("[LanguageSprite] 资源不存在 "+t)},n(e,[{key:"dataID",get:function(){return this._dataID||""},set:function(t){this._dataID=t,this.updateSprite()}}]),e}(l)).prototype,"_dataID",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(b.prototype,"dataID",[D],Object.getOwnPropertyDescriptor(b.prototype,"dataID"),b.prototype),I=e(b.prototype,"isRawSize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=b))||z)||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./Facade.ts","./UIControler.ts","./G.ts","./TLDataPoints.ts","./LanLabel.ts","./LanManager.ts","./Tips.ts","./UITools.ts"],(function(n){var t,e,o,i,a,s,u,r,l,c,g,f,h,L;return{setters:[function(n){t=n.inheritsLoose,e=n.createForOfIteratorHelperLoose},function(n){o=n.cclegacy,i=n.find,a=n.ToggleContainer},function(n){s=n.ClassConfig},function(n){u=n.default},function(n){r=n.UIControler},function(n){l=n.default},function(n){c=n.TLDataPoints},function(n){g=n.LanLabel},function(n){f=n.default},function(n){h=n.Tips},function(n){L=n.UITools}],execute:function(){o._RF.push({},"fec93O//kNPm7x0VyWg0UmS","LanguageUICtrl",void 0);var d=n("LanguageViewCtrl",function(n){function o(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this).uiLanWin=void 0,t.uiLanToggleGroup=void 0,t}t(o,n);var s=o.prototype;return s._onLoad=function(){this.initUI(),this.regClickHandlers()},s._onEnable=function(){this.setUIInfoShow(),this.updateLanShow()},s._onDisable=function(){},s._onStart=function(){},s._onUpdate=function(){},s.refreshUI=function(){this.lightLanBtn(f.current),this.updateLanShow()},s.initUI=function(){this.uiLanWin=i("content",this.node),this.uiLanToggleGroup=i("content/langToggleGroup",this.node).getComponent(a);for(var n,t=f.current,o=this.uiLanToggleGroup.toggleItems,s=e(o);!(n=s()).done;){var u,r=n.value,c=null==(u=r.node.name.split("_"))?void 0:u[1],g=c&&l.gameCfg.supportLans.hasOwnProperty(c);r.node.active=g,g&&c===t&&(r.isChecked=!0)}},s.updateLanShow=function(){for(var n=this.node.getComponentsInChildren(g),t=0;t<n.length;t++)n[t].language()},s.regClickHandlers=function(){var n=this;this.RegClickHanlder("*",(function(n,t,e,o){l.navigator.Go(n)})),this.RegClickHanlder("close",(function(t,e,o,i){n.closeWin()})),this.RegClickHanlder("lan",(function(n,t,e,o){var i=t,a=f.current;f.setLanguage(i,(function(n){n?(u.CloseUI("Language"),c.submit("switch_language",{from:l.gameCfg.supportLans[a].text+"("+a+")",to:l.gameCfg.supportLans[i].text+"("+i+")",success:n})):h.instance.ShowTips(10081)}))}))},s.setUIInfoShow=function(){this.lightLanBtn(f.current),L.setScaleTween(this.uiLanWin,!0)},s.lightLanBtn=function(n){for(var t,o=this.uiLanToggleGroup.toggleItems,i=e(o);!(t=i()).done;){var a,s=t.value;n===(null==(a=s.node.name.split("_"))?void 0:a[1])&&(s.isChecked=!0)}},s.closeWin=function(){L.setScaleTween(this.uiLanWin,!1,(function(){u.CloseUI("Language")}))},o}(r));s.addClass("LanguageViewCtrl",d),o._RF.pop()}}}));

System.register("chunks:///_virtual/LanLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts"],(function(e){var t,n,i,a,r,l,o,s,u,c,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,o=e._decorator,s=e.CCString,u=e.Label,c=e.RichText,h=e.Component},function(e){p=e.default}],execute:function(){var b,y,f,g,L,d,x;l._RF.push({},"d09ebVFFxFLrp5i/sgfCJnN","LanLabel",void 0);var _=o.ccclass,k=o.property,m=o.menu,v=(o.requireComponent,o.executeInEditMode);e("LanLabel",(b=_("LanLabel"),y=m("ui/language/LanLabel"),f=v(!0),g=k({type:s,visible:!0}),b(L=y(L=f((x=t((d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_textkey",x,a(t)),t._label=null,t}n(t,e);var l=t.prototype;return l.updateText=function(){this.label&&(this.label.string=this.string)},l.language=function(){this.updateText()},r(t,[{key:"textkey",get:function(){return this._textkey},set:function(e){this._textkey!==e&&(this._textkey=e,this.updateText())}},{key:"label",get:function(){return this._label||(this._label=this.node.getComponent(u)||this.node.getComponent(c),this._label)?this._label:(console.warn("[LanLabel], 该节点没有cc.Label || cc.RichText组件, nodeName("+this.node.name),null)}},{key:"string",get:function(){var e=p.GetLanStr(this._textkey);return e||(e=this._textkey),e}}]),t}(h)).prototype,"_textkey",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=d))||L)||L)||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/LanManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts","./FrameDefine.ts","./GameStatic.ts","./G.ts","./LoadingMask.ts","./ResManager.ts","./LanPack.ts","./Tips.ts","./TLDataPoints.ts"],(function(n){var e,a,t,u,r,i,s,l,o,g,c,d,f;return{setters:[function(n){e=n.createClass},function(n){a=n.cclegacy,t=n.error,u=n.assetManager},function(n){r=n.default},function(n){i=n.GameEvent},function(n){s=n.default},function(n){l=n.default},function(n){o=n.default},function(n){g=n.ResManager},function(n){c=n.LanPack},function(n){d=n.Tips},function(n){f=n.TLDataPoints}],execute:function(){a._RF.push({},"ab3e5BVaCtCUZbrfhL46xKA","LanManager",void 0);n("ELanuage",function(n){return n[n.Chinese_Simplified=1]="Chinese_Simplified",n[n.Chinese=2]="Chinese",n[n.English=3]="English",n[n.Hindi=4]="Hindi",n[n.Spanish=5]="Spanish",n[n.Arabic=6]="Arabic",n[n.Bengali=7]="Bengali",n[n.French=8]="French",n[n.Portuguese=9]="Portuguese",n[n.Malay=10]="Malay",n[n.Russia=11]="Russia",n[n.Japan=12]="Japan",n[n.Punjabi=13]="Punjabi",n[n.Telugu=14]="Telugu",n[n.German=15]="German",n[n.Marathi=16]="Marathi",n[n.Vietnamese=17]="Vietnamese",n[n.Tamil=18]="Tamil",n[n.Urdu=19]="Urdu",n[n.Thai=20]="Thai",n[n.Korea=21]="Korea",n[n.Persian=22]="Persian",n[n.Turkish=23]="Turkish",n[n.Burmese=24]="Burmese",n[n.Kazakh=25]="Kazakh",n[n.Ukrainian=26]="Ukrainian",n[n.Indonesian=27]="Indonesian",n[n.Khmer=28]="Khmer",n}({}));var h=n("LanEvent",function(n){return n.CHANGE="LanguageEvent.CHANGE",n.CHANGE_END="LanguageEvent.CHANGE_END",n.RELEASE_RES="LanguageEvent.RELEASE_RES",n}({})),L=function(){function n(){this._currentLanguage="",this._currentLanPack=void 0,this._currentLanInit=!1,this.lan_store_key="_lancode_"}n.getInstance=function(){return this._instance||(this._instance=new n),this._instance};var a=n.prototype;return a.init=function(){var n=this,e=l.localStorage.Get(this.lan_store_key);null==e&&(e=this.defaultLanguage),0==l.gameCfg.supportLans.hasOwnProperty(e)&&(e="en"),this.setLanguage(e,(function(a){if(a)return l.localStorage.Set(n.lan_store_key,e),void f.submit("user_default_language",{curlangauge:l.gameCfg.supportLans[e].text+"("+e+")",defaultLanguage:s.Lan});n.setLanguage("en",(function(n){if(!n)throw t("language pack must be have en bundle");f.submit("user_default_language",{curlangauge:l.gameCfg.supportLans.en.text+"(en)",defaultLanguage:s.Lan})}))}))},a.setLanguage=function(n,e){if(n==this._currentLanguage)return console.log("不能切换到同一个语言 "+n),void(null==e||e(!1));var a=l.gameCfg.supportLans[n];if(null!=a&&null!=a.filename){var t=this;if(l.gameCfg.supportLans[n])this.loadBundle(a.filename,(function(a){if(a){var u=new c(n,a);return t._currentLanPack=u,t._currentLanguage=n,u.init(),l.localStorage.Set(t.lan_store_key,n),null==e||e(!0),void t.sendLanChangeEvent(n)}null==e||e(!1),t.sendLanChangeEvent(t._currentLanguage)}));else{var u=l.gameCfg.cdnUrl+"/remote/"+a.filename;o.Show(""),this.loadRemoteBundleWithProgress(u,null,(function(a,r){if(o.Hide(),a)return console.log("load bundle '%s' failed : %s",u,a.message),null==e||e(!1),void t.sendLanChangeEvent(t._currentLanguage);var i=new c(n,r);t._currentLanPack=i,t._currentLanguage=n,i.init(),l.localStorage.Set(t.lan_store_key,n),null==e||e(!0),t.sendLanChangeEvent(n)}))}}else null==e||e(!1)},a.loadLanEnd=function(){if(this._currentLanInit)return d.instance.ShowTips(10151),void this.sendLanChangeEvent(this._currentLanguage);this._currentLanInit=!0},a.sendLanChangeEvent=function(n){var e=new i(h.CHANGE);e.lancode=n,r.SendGameEvent(e)},a.loadBundle=function(n,e){var a=g.getBundle(n);a?e(a):g.loadBundle(n,(function(a,t){null!=a?(console.log("LanManager loadBundle => load bundle '%s' failed : %s",n,a.message),null==e||e(null)):e(t)}))},a.loadRemoteBundleWithProgress=function(n,e,a){var t={onFileProgress:function(n,a){var t=n/a*100;console.log("Loading progress: "+t.toFixed(2)+"%"),e&&e(t)}};u.loadBundle(n,t,(function(n,e){if(n)return console.error("Failed to load bundle:",n),void(a&&a(n));console.log("Bundle loaded successfully:",e),a&&a(null,e)}))},a.getCurrentLanPack=function(){return this._currentLanPack},a.getTextByKey=function(n){var e=this.getCurrentLanPack();return null==e?void 0:e.getTextByKey(n)},a.getTipsTextByKey=function(n){var e=this.getCurrentLanPack();return null==e?void 0:e.getTipsTextByKey(n)},a.getMsgBoxJson=function(){var n=this.getCurrentLanPack();return null==n?void 0:n.getMsgBoxJson()},a.loadImageBykey=function(n,e){var a=this.getCurrentLanPack();return null==a?void 0:a.loadImage(n,e)},e(n,[{key:"defaultLanguage",get:function(){var n=s.Get("lan");return null==n||n.length<=0?null:1==l.gameCfg.supportLans.hasOwnProperty(n)?n:null}},{key:"current",get:function(){return this._currentLanguage}}]),n}();L._instance=null;n("default",L.getInstance());a._RF.pop()}}}));

System.register("chunks:///_virtual/LanPack.ts",["cc","./LanLabel.ts","./LanSprite.ts","./FrameDefine.ts","./LanManager.ts","./Facade.ts"],(function(t){var n,i,e,a,s,g,o,u,l;return{setters:[function(t){n=t.cclegacy,i=t.JsonAsset,e=t.SpriteFrame,a=t.director},function(t){s=t.LanLabel},function(t){g=t.LanSprite},function(t){o=t.GameEvent},function(t){u=t.LanEvent},function(t){l=t.default}],execute:function(){n._RF.push({},"be240WSrJhApq9E/WLDAWeV","LanPack",void 0);var h=t("LanPack",function(){function t(t,n){this._language="",this._bundle=null,this._textMap=void 0,this._imageMap=void 0,this._tipsTextMap=void 0,this._msgBoxTextJson=void 0,this._isInitTextCfg=!1,this._isInitImageCfg=!1,this._isInitTipsTextCfg=!1,this._isInitMsgBoxTextCfg=!1,this._isInit=!1,this._imageCache={},this._language=t,this._bundle=n,this._imageMap=new Map,this._textMap=new Map,this._tipsTextMap=new Map,this._msgBoxTextJson=null}var n=t.prototype;return n.init=function(){this._isInit?this.updateLanguage():this.loadLanguaData()},n.geLanguage=function(){return this._language},n.loadLanguaData=function(){var n=this,e=this._bundle;e&&(e.load(t.lanTextDataPath,i,(function(t,i){t?console.log(t):(n.buildTextCfg(i.json),n.updateLanguage())})),e.load(t.lanImageDataPath,i,(function(t,i){t?console.log(t):(n.buildImageCfg(i.json),n.updateLanguage())})),e.load(t.tipsTextDataPath,i,(function(t,i){t?console.log(t):(n.buildTipsTextCfg(i.json),n.updateLanguage())})),e.load(t.msgBoxTextDataPath,i,(function(t,i){t?console.log(t):(n.buildMsgBoxTextCfg(i.json),n.updateLanguage())})))},n.checkInit=function(){this._isInitImageCfg&&this._isInitTextCfg&&this._isInitTipsTextCfg&&this._isInitMsgBoxTextCfg&&(this._isInit=!0)},n.buildTextCfg=function(t){var n=this;null!=t&&(this._isInitTextCfg||(t.forEach((function(t){var i=t.id,e=t.text;null!=i&&null!=e&&n._textMap.set(i,e)})),this._isInitTextCfg=!0,this.checkInit()))},n.buildImageCfg=function(t){var n=this;null!=t&&(this._isInitImageCfg||(t.forEach((function(t){var i=t.key,e=t.value;null!=i&&null!=e&&n._imageMap.set(i,e)})),this._isInitImageCfg=!0,this.checkInit()))},n.buildTipsTextCfg=function(t){var n=this;null!=t&&(this._isInitTipsTextCfg||(t.forEach((function(t){var i=t.id,e=t.text;null!=i&&null!=e?n._tipsTextMap.set(i,e):console.log("------")})),this._isInitTipsTextCfg=!0,this.checkInit()))},n.buildMsgBoxTextCfg=function(t){null!=t&&(this._isInitMsgBoxTextCfg||(this._msgBoxTextJson=t,this._isInitMsgBoxTextCfg=!0,this.checkInit()))},n.getTextByKey=function(t){return this._textMap.get(t)||""},n.getTipsTextByKey=function(t){return this._tipsTextMap.get(t)||""},n.getMsgBoxJson=function(){return this._msgBoxTextJson.msgBoxTable},n.loadImage=function(t,n){var i=this;if(this._imageCache[t])n(this._imageCache[t]);else{var a=this._bundle;if(a){var s=this._imageMap.get(t);null==s&&console.warn(t+" 对应的资源路径不存在");var g=s+"/spriteFrame";a.load(g,e,(function(e,a){e?console.log(e):(i._imageCache[t]=a,n(a))}))}}},n.updateLanguage=function(){if(this._isInit){for(var t=a.getScene().children,n=0;n<t.length;++n){for(var i=t[n].getComponentsInChildren(s),e=0;e<i.length;e++)i[e].language();for(var o=t[n].getComponentsInChildren(g),u=0;u<o.length;u++)o[u].language()}this.sendLanChangeEndEvent()}},n.sendLanChangeEndEvent=function(){var t=new o(u.CHANGE_END);t.lancode=this._language,l.SendGameEvent(t)},t}());h.lanTextDataPath="stringTable",h.lanImageDataPath="imageTable",h.tipsTextDataPath="tipsErrCodeTable",h.msgBoxTextDataPath="msgBoxTable",n._RF.pop()}}}));

System.register("chunks:///_virtual/LanSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanManager.ts"],(function(e){var t,i,n,r,a,o,s,p,u,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,p=e.Sprite,u=e.CCString,c=e.Component},function(e){l=e.default}],execute:function(){var g,h,y,m,f,_,d,S;o._RF.push({},"71be3KjbPBFuIgF+WO29tmg","LanSprite",void 0);var k=s.ccclass,L=s.property,v=s.menu,b=s.requireComponent,C=s.executeInEditMode;e("LanSprite",(g=k("LanSprite"),h=v("ui/language/LanSprite"),y=b(p),m=C(!0),f=L({type:u,visible:!0}),g(_=h(_=y(_=m((S=t((d=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this)._sprite=null,n(t,"_imagekey",S,r(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){this._sprite||(this._sprite=this.getComponent(p))},o.getKeyFromName=function(e){return e},o.updateSprite=function(){var e=this;l.loadImageBykey(this.imagekey,(function(t){t?e.sprite&&(e.sprite.spriteFrame=t):console.warn("[LanSprite] 资源不存在 "+e.imagekey)}))},o.language=function(){this.updateSprite()},a(t,[{key:"imagekey",get:function(){return this._imagekey},set:function(e){this._imagekey!==e&&(this._imagekey=e,this.updateSprite())}},{key:"sprite",get:function(){return this._sprite||(this._sprite=this.getComponent(p),this._sprite)?this._sprite:(console.warn("[LanSprite], 该节点没有cc.Sprite 组件, nodeName("+this.node.name),null)}}]),t}(c)).prototype,"_imagekey",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=d))||_)||_)||_)||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/LayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,n,i,r;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy,n=e.UITransform,i=e.Node,r=e.Widget}],execute:function(){a._RF.push({},"dd2fdX6FgNFo70D6mxscfHh","LayerManager",void 0);var o=e("UILayerDef",function(e){return e[e.Begin=0]="Begin",e[e.Main=0]="Main",e[e.JoyStick=1]="JoyStick",e[e.Normal=2]="Normal",e[e.Fixed=3]="Fixed",e[e.Normal2=4]="Normal2",e[e.FixedTop=5]="FixedTop",e[e.Popup=6]="Popup",e[e.Popup1=7]="Popup1",e[e.Popup2=8]="Popup2",e[e.Alert=9]="Alert",e[e.Tips=10]="Tips",e[e.Guide=11]="Guide",e[e.Loading=12]="Loading",e[e.Overlay=13]="Overlay",e[e.Max=14]="Max",e}({})),u=["main","joystick","normal","fixed","normal2","fixed_top","popup","popup1","popup2","alert","tips","guide","loading","overlay"];e("UILayerManager",function(){function e(){this.uiCanvas=void 0,this.rootLayer=void 0,this._layerMap=new Map}var a=e.prototype;return a.Init=function(e,t){this.uiCanvas=e,this.rootLayer=t;for(var a=0;a<u.length;++a){var n=this.createFullScreenNode();n.name="ui_layer_"+(u[a]?u[a]:a),this.rootLayer.addChild(n),this._layerMap.set(a,n)}},a.createFullScreenNode=function(){var e=this.uiCanvas.getComponent(n),t=new i;t.layer=this.uiCanvas.layer;var a=t.addComponent(n);a.width=e.width,a.height=e.height;var o=t.addComponent(r);return o.isAlignBottom=!0,o.isAlignTop=!0,o.isAlignLeft=!0,o.isAlignRight=!0,o.left=0,o.right=0,o.top=0,o.bottom=0,t},a.addToLayer=function(t,a){var n=e.instance.GetLayer(t);if(n&&a){n.addChild(a),a.layer=n.layer;var i=a.getComponent(r);i&&i.updateAlignment()}},a.GetLayer=function(e){return this._layerMap.get(e)},a.getMainLayer=function(){return this._layerMap.get(o.Main)},a.getNoramlLayer=function(){return this._layerMap.get(o.Normal)},a.getFixedLayer=function(){return this._layerMap.get(o.Fixed)},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"be6a2jmY+BNo4cBJljLEzgJ","LayerUtil",void 0);var r=e("LayerItem",function(){function e(e,n){this._value=void 0,this._name=void 0,this._value=e,this._name=n}return n(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),i=e("LayerUtil",function(){function e(){}return e.setNodeLayer=function(n,t){t.layer=n.mask,t.children.forEach((function(t){t.layer=n.mask,e.setNodeLayer(n,t)}))},e}());i.MAP=new r(0,"MAP"),i.AVATAR=new r(1,"AVATAR"),i.IGNORE_RAYCAST=new r(20,"IGNORE_RAYCAST"),i.GIZMOS=new r(21,"GIZMOS"),i.EDITOR=new r(22,"EDITOR"),i.UI_3D=new r(23,"UI_3D"),i.SCENE_GIZMO=new r(24,"SCENE_GIZMO"),i.UI_2D=new r(25,"UI_2D"),i.PROFILTER=new r(28,"PROFILTER"),i.DEFAULT=new r(30,"DEFAULT"),t._RF.pop()}}}));

System.register("chunks:///_virtual/Leader.ts",["cc","./G.ts","./SudokuStatistics.ts","./QuickDifficultyUIModule.ts","./DataStorageManager.ts","./index.ts","./KeyManager.ts","./LoadingMask.ts","./Tool2.ts","./AdManager.ts","./TLDataPoints.ts"],(function(t){var e,i,a,s,o,r,n,h,l,u,c,D;return{setters:[function(t){e=t.cclegacy,i=t.math},function(t){a=t.default},function(t){s=t.SudokuDifficultyStatistics},function(t){o=t.EDifficulty},function(t){r=t.DataStorageManager},function(t){n=t.dataConfig},function(t){h=t.Keys},function(t){l=t.default},function(t){u=t.default},function(t){c=t.AdManager},function(t){D=t.TLDataPoints}],execute:function(){e._RF.push({},"f575aPq50lENbpH6CDte3tb","Leader",void 0);t("ECommonAtt",function(t){return t[t.Unknown=0]="Unknown",t[t.Level=1]="Level",t[t.ZhuanLevel=2]="ZhuanLevel",t[t.Exp=3]="Exp",t[t.Life=4]="Life",t[t.LifeUpLimit=5]="LifeUpLimit",t[t.TiLi=6]="TiLi",t[t.ZuanShi=7]="ZuanShi",t[t.BindZuanShi=8]="BindZuanShi",t[t.JinBi=9]="JinBi",t[t.BindJinBi=10]="BindJinBi",t[t.ShengWang=11]="ShengWang",t[t.HuoYue=12]="HuoYue",t[t.Rev0=13]="Rev0",t[t.DengPao=13]="DengPao",t[t.Rev1=14]="Rev1",t[t.ShanDian=14]="ShanDian",t[t.Rev2=15]="Rev2",t[t.Ear=15]="Ear",t[t.Rev3=16]="Rev3",t[t.Brain=16]="Brain",t[t.Rev4=17]="Rev4",t[t.Bomb=17]="Bomb",t[t.Rev5=18]="Rev5",t[t.XuanFeng=18]="XuanFeng",t[t.Rev6=19]="Rev6",t[t.ShiZhong=19]="ShiZhong",t[t.Rev7=20]="Rev7",t[t.NoAds=20]="NoAds",t[t.Rev8=21]="Rev8",t[t.HasDict=21]="HasDict",t[t.Rev9=22]="Rev9",t[t.ChNameCard=22]="ChNameCard",t[t.GETONE=23]="GETONE",t[t.Rev10=23]="Rev10",t[t.GETTHREE=24]="GETTHREE",t[t.Rev11=24]="Rev11",t[t.Max=25]="Max",t}({}));var d=function(){this.userid=void 0,this.roleid=void 0,this.zoneid=void 0,this.name=void 0,this.userAvatar=void 0,this.provinceID=void 0,this.cityID=void 0,this.passCount=void 0,this.active_collect_item_count=void 0,this.collectItemList_player=void 0,this.isFirstOpen=void 0,this.curTime=void 0,this.createTime=void 0,this.curPassGroupCount=void 0,this.chapterId=void 0,this.chapterState=void 0,this.showAdCount=void 0,this.propData=void 0,this.dailyChallenges=void 0,this.quickDiffAdIdList=void 0,this.userid="",this.roleid="",this.zoneid=1,this.name="",this.userAvatar="",this.active_collect_item_count=0,this.provinceID=0,this.cityID=0,this.passCount=0,this.isFirstOpen=!0,this.collectItemList_player=new Map,this.curTime=0,this.curPassGroupCount=0,this.chapterId=1,this.chapterState=0,this.showAdCount=0,this.propData={hintCount:0,allNotesCount:0},this.dailyChallenges=[],this.quickDiffAdIdList=[];for(var t=0;t<o.MAX-1;t++)this.quickDiffAdIdList.push(0)},f=function(){this.curGuanids=void 0,this.curDifficulty=void 0,this.lastGuanidArr=void 0,this.idxInGroup=void 0,this.curGuanids=[],this.curDifficulty=0,this.lastGuanidArr=[],this.idxInGroup=0},v=t("Leader",function(){function t(){var t;this.roleData=void 0,this.guanData=void 0,this.setInfo=void 0,this.chapterId=1,this.chapterState=0,this.passLevelChallenges={},this.difficultyStatistics=void 0,this.difficultyChapterMap=void 0,this.dataStorageManager=void 0,this.deltaTimeNum=void 0,this.saveTime=15,this.saveCurCersion=0,this.saveLastCersion=0,this.guanData=new f,this.roleData=new d,this.initGameSettingInfo(),this.difficultyStatistics=new s,this.difficultyChapterMap=((t={})[""+o.EASY]=1,t[""+o.MEDIUM]=1,t[""+o.HARD]=1,t[""+o.EXTRA_HARD]=1,t[""+o.Best_HARD]=1,t),this.dataStorageManager=new r(n)}var e=t.prototype;return e.init=function(t){},e.update=function(t){this.deltaTimeNum+=t,this.deltaTimeNum>=1&&(this.deltaTimeNum--,this.SaveRoleDataToServer())},e.SetPLAllData=function(t){if(null!=t){this.roleData.userid=t.userid,a.localStorage.UserId(t.userid);var e=JSON.parse(t.baseInfo);this.SetRoleData(e);var i=JSON.parse(t.setInfo);this.setGameSettingInfo(i),this.setLevelChallengeInfo(),this.setDifficultyChapterInfo(),this.refreshByDay(),this.SetRoleDataStorage(),this.saveGameSettingInfo(),a.themeManager.switchTheme(this.setInfo.colorType),this.saveTime=15,this.saveCurCersion=0,this.saveLastCersion=0}},e.NoWifiGameStart=function(t){void 0===t&&(t=""),this.roleData.userid=""+t,this.roleData.userAvatar="avatars/avatar_00",this.roleData.name="player008",a.localStorage.UserId(t),this.GetRoleDataStorage(),this.GetGameSettingStorage(),this.setLevelChallengeInfo(),this.setDifficultyChapterInfo(),this.refreshByDay(),a.themeManager.switchTheme(this.setInfo.colorType),l.Hide()},e.getAllDataJson=function(){var t={userid:this.roleData.userid,baseInfo:JSON.stringify(this.roleData),setInfo:JSON.stringify(this.setInfo)};return JSON.stringify(t)},e.SaveRoleDataToServer=function(){this.saveTime>0&&(this.saveTime--,0==this.saveTime&&(this.saveLastCersion<this.saveCurCersion&&(this.saveLastCersion=this.saveCurCersion),this.saveTime=15))},e.saveAllDataToServer=function(){a.server.SaveUserInfo()},e.SerializeRoleData=function(){return JSON.stringify(this.roleData)},e.SetRoleDataStorage=function(e){void 0===e&&(e=!0);var i=JSON.stringify(this.roleData);a.localStorage.Set(t.USER_LOCAL_DATA_KEY,i,!0),e&&this.saveCurCersion++},e.GetRoleDataStorage=function(){var e=a.localStorage.Get(t.USER_LOCAL_DATA_KEY,!0);if(null==e||""==e)return null;var i=JSON.parse(e);return this.SetRoleData(i),i},e.SetRoleData=function(t){if(null==t||""==t)return null;this.roleData.roleid=t.roleid?t.roleid:this.roleData.roleid,this.roleData.zoneid=t.zoneid?t.zoneid:this.roleData.zoneid,this.roleData.name=t.name?t.name:this.roleData.name,this.roleData.userAvatar=t.userAvatar?t.userAvatar:this.roleData.userAvatar,this.roleData.createTime=t.createTime?t.createTime:this.roleData.createTime,this.roleData.provinceID=t.provinceID?t.provinceID:this.roleData.provinceID,this.roleData.cityID=t.cityID?t.cityID:this.roleData.cityID,this.roleData.passCount=t.passCount?t.passCount:this.roleData.passCount,this.roleData.active_collect_item_count=t.active_collect_item_count?t.active_collect_item_count:this.roleData.active_collect_item_count,this.roleData.collectItemList_player=t.collectItemList_player?t.collectItemList_player:this.roleData.collectItemList_player,this.roleData.isFirstOpen=t.isFirstOpen?t.isFirstOpen:this.roleData.isFirstOpen,this.roleData.curTime=t.curTime?t.curTime:this.roleData.curTime,this.roleData.curPassGroupCount=t.curPassGroupCount?t.curPassGroupCount:this.roleData.curPassGroupCount,t.propData&&(this.roleData.propData.hintCount=t.propData.hintCount,this.roleData.propData.allNotesCount=t.propData.allNotesCount),this.roleData.chapterId=t.chapterId?t.chapterId:this.roleData.chapterId,this.roleData.chapterState=t.chapterState?t.chapterState:this.roleData.chapterState,this.roleData.showAdCount=t.showAdCount?t.showAdCount:this.roleData.showAdCount,this.roleData.dailyChallenges=t.dailyChallenges?t.dailyChallenges:this.roleData.dailyChallenges,this.roleData.quickDiffAdIdList=t.quickDiffAdIdList?t.quickDiffAdIdList:this.roleData.quickDiffAdIdList},e.initGameSettingInfo=function(){this.setInfo={timer:1,hideFilled:1,prioritySelect:1,autoFill:1,highlightNotes:1,highlightRegion:1,hideExcludable:1,highlightNumbers:1,autocomplete:1,numberCount:1,shake:1,notice:1,fontSizeType:0,colorType:0}},e.saveGameSettingInfo=function(e){void 0===e&&(e=!0);var i=JSON.stringify(this.setInfo);a.localStorage.Set(t.GAME_SET_DATA_KEY,i,!0),this.dataStorageManager.save(h.SETTINGS,this.setInfo),e&&this.saveCurCersion++},e.GetGameSettingStorage=function(){var e=a.localStorage.Get(t.GAME_SET_DATA_KEY,!0);if(null!=e&&""!=e){var i=JSON.parse(e);this.setGameSettingInfo(i)}},e.setGameSettingInfo=function(t){this.setInfo.timer=1==t.timer?1:0,this.setInfo.hideFilled=1==t.hideFilled?1:0,this.setInfo.prioritySelect=1==t.prioritySelect?1:0,this.setInfo.autoFill=1==t.autoFill?1:0,this.setInfo.highlightNotes=1==t.highlightNotes?1:0,this.setInfo.highlightRegion=i.clamp(t.highlightRegion,0,2),this.setInfo.hideExcludable=1==t.hideExcludable?1:0,this.setInfo.highlightNumbers=1==t.highlightNumbers?1:0,this.setInfo.autocomplete=1==t.autocomplete?1:0,this.setInfo.numberCount=1==t.numberCount?1:0,this.setInfo.shake=1==t.shake?1:0,this.setInfo.notice=1==t.notice?1:0,this.setInfo.colorType=parseInt(t.colorType,10),this.setInfo.fontSizeType=parseInt(t.fontSizeType,10),this.dataStorageManager.save(h.SETTINGS,this.setInfo)},e.setLevelChallengeInfo=function(){this.passLevelChallenges={};var e=a.localStorage.Get(t.GAME_LEVEL_DATA_KEY,!0);if(null!=e&&""!=e){var i=JSON.parse(e);this.passLevelChallenges=i}},e.saveLevelChallengeInfo=function(){var e=JSON.stringify(this.passLevelChallenges);a.localStorage.Set(t.GAME_LEVEL_DATA_KEY,e,!0)},e.setDifficultyChapterInfo=function(){var e,i=a.localStorage.Get(t.GAME_DIFFiCULTY_CHAPTER_DATA_KEY,!0);if(null!=i&&""!=i){var s=JSON.parse(i);this.difficultyChapterMap=((e={})[""+o.EASY]=s[o.EASY]||1,e[""+o.MEDIUM]=s[o.MEDIUM]||1,e[""+o.HARD]=s[o.HARD]||1,e[""+o.EXTRA_HARD]=s[o.EXTRA_HARD]||1,e[""+o.Best_HARD]=s[o.Best_HARD]||1,e)}},e.saveDifficultyChapterInfo=function(){var e=JSON.stringify(this.difficultyChapterMap);a.localStorage.Set(t.GAME_DIFFiCULTY_CHAPTER_DATA_KEY,e,!0)},e.savePropData=function(){this.SetRoleDataStorage(),this.dataStorageManager.save(h.PROP,this.roleData.propData)},e.dailyChallengeComplete=function(t){return new Set(a.leader.roleData.dailyChallenges).has(t)},e.getCreateDayNum=function(){var t=Date.now();return 0==this.roleData.createTime&&(this.roleData.createTime=t,this.SetRoleDataStorage()),u.GetDiffDay(t,this.roleData.curTime)+1},e.refreshByDay=function(){var t=Date.now();0==this.roleData.curTime&&(this.roleData.curTime=t),u.GetDiffDay(t,this.roleData.curTime)>0&&(this.roleData.curTime=t,this.roleData.showAdCount=0),this.SetRoleDataStorage()},e.PlayAD=function(t,e){void 0===t&&(t=null),void 0===e&&(e=0),a.leader.roleData.showAdCount++,c.instance.PlayAD((function(i){1==i&&(t&&t(),D.submit("advert_play_end",{playType:e}))})),D.submit("advert_play_start",{playType:e})},t}());v.GAME_SET_DATA_KEY="_game_set_data_",v.USER_LOCAL_DATA_KEY="_user_local_data_",v.USER_COLLECT_DATA_KEY="_user_collect_data_",v.USER_GUAN_DATA_KEY="_user_guan_data_",v.GAME_DAILY_DATA_KEY="_game_daily_data_",v.GAME_LEVEL_DATA_KEY="_game_level_data_",v.GAME_CHAPTER_DATA_KEY="_game_chapter_data_",v.GAME_DIFFiCULTY_CHAPTER_DATA_KEY="_game_difficulty_chapter_data_",e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelChallengeUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainDef.ts","./ClassConfig.ts","./Facade.ts","./UIControler.ts","./G.ts","./VirtualList.ts","./UITools.ts","./LevelItem.ts","./PaintUIModule.ts","./LanLabel.ts"],(function(e){var t,n,l,i,a,o,r,s,u,c,h,f,v,d,g;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,l=e.ScrollView,i=e.v2},function(e){a=e.ESudokuType},function(e){o=e.ClassConfig},function(e){r=e.default},function(e){s=e.UIControler},function(e){u=e.default},function(e){c=e.default,h=e.MainTemplateType},function(e){f=e.UITools},function(e){v=e.default},function(e){d=e.PaintModule},function(e){g=e.LanLabel}],execute:function(){n._RF.push({},"c46a2dvlUNPmK+sjxCmaPyS","LevelChallengeUICtrl",void 0);var C=e("LevelChallengeViewCtrl",function(e){function n(){for(var t,n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=e.call.apply(e,[this].concat(l))||this).scrollView=void 0,t.uiDefaultLevelItem=void 0,t.uiContent=void 0,t.virtualList=null,t}t(n,e);var o=n.prototype;return o._onLoad=function(){this.initUI(),this.regClickHandlers()},o._onEnable=function(){this.setup(),this.updateLanShow()},o._onDisable=function(){},o._onStart=function(){},o._onUpdate=function(){},o.refreshUI=function(){},o.initUI=function(){this.uiContent=this.node.getChildByPath("mid/ScrollView/view/content"),this.uiDefaultLevelItem=this.uiContent.getChildByName("level_item"),this.uiDefaultLevelItem.active=!0,this.uiDefaultLevelItem.removeFromParent(),this.scrollView=this.node.getChildByPath("mid/ScrollView").getComponent(l),this.virtualList=this.scrollView.getComponent(c),this.virtualList.main.templateType=h.NODE,this.virtualList.main.templateNode=this.uiDefaultLevelItem,v.target=this.node},o.updateLanShow=function(){for(var e=this.node.getComponentsInChildren(g),t=0;t<e.length;t++)e[t].language()},o.regClickHandlers=function(){this.RegClickHanlder("*",(function(e,t,n,l){u.navigator.Go(e)})),this.RegClickHanlder("level",(function(e,t,n,l){var i=parseInt(t,10);f.openBattle({type:a.LevelChallenge,level:i})})),this.RegClickHanlder("paint",(function(e,t,n,l){r.OpenUI(d.sTag)}))},o.setup=function(){var e=this,t=u.leader.roleData.chapterId;0==u.leader.roleData.chapterState&&t--;var n=u.gameCfg.guan_config_level,l=n.map((function(e,l){return{level:e.level,reward:e.reward,reward_state:e.level<=t?1:0,level_state:e.level<=t?2:e.level===u.leader.roleData.chapterId?1:0,isLast:l===n.length-1}}));this.virtualList.argsArr=l;var a=t%1e4-1;this.scheduleOnce((function(){return e.virtualList.scrollItemToView(a,i(.5,.5),i(.5,.5))}),0)},n}(s));o.addClass("LevelChallengeViewCtrl",C),n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelChallengeUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(e){var n,t,l,u,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){l=e.ModuleBase},function(e){u=e.default},function(e){o=e.default}],execute:function(){t._RF.push({},"7dc4cZtFGdI2ZKhzafU4txw","LevelChallengeUIModule",void 0);var c=e("LevelChallengeModule",function(e){function t(){return e.call(this,t.sTag)||this}n(t,e);var l=t.prototype;return l.regNetCmds=function(){},l.unRegNetCmds=function(){},l.regGameEvents=function(){},l.unRegGameEvents=function(){},l.DoWork=function(e){o.OpenUI("LevelChallenge")},t}(l));c.sTag="LevelChallenge",u.Set("LevelChallengeModule",c),t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VirtualItem.ts","./UITools.ts"],(function(e){var t,i,l,n,o,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,l=e._decorator,n=e.find,o=e.Label},function(e){s=e.default},function(e){a=e.UITools}],execute:function(){var u,v;i._RF.push({},"7b0b6vuPn1H1JK5vQ/vx5J/","LevelItem",void 0);var h=l.ccclass;e("default",h(((v=function(e){function i(){for(var t,i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return(t=e.call.apply(e,[this].concat(l))||this).uiLine=void 0,t.uiPaint=void 0,t.uiLevelNormal=void 0,t.uiLevelSelect=void 0,t.uiLevelComplete=void 0,t.uiLevelCompleteBtn=void 0,t.uiBtnChalleng=void 0,t}t(i,e);var l=i.prototype;return l.onRefresh=function(e){this.node.name="idx: "+this.dataIdx,this.initUI(),this.uiLine.active=!e.isLast;var t=e.level;this.setLevelInfo(t,e.level_state),this.setPaint(e.reward,e.reward_state),a.setButtonClick(this.uiBtnChalleng,"level,"+e.level,i.target),a.setButtonScaleTransition(this.uiBtnChalleng,.95),2===e.level_state&&a.setButtonClick(this.uiLevelCompleteBtn,"level,"+e.level,i.target)},l.onRefreshOthers=function(e){},l.initUI=function(){this.uiLine=n("line",this.node),this.uiPaint=n("paint",this.node),this.uiLevelNormal=n("level/normal",this.node),this.uiLevelSelect=n("level/select",this.node),this.uiLevelComplete=n("level/complete",this.node),this.uiLevelCompleteBtn=n("level/complete/btn",this.node),this.uiBtnChalleng=n("btn_challenge",this.node)},l.setLevelInfo=function(e,t){var i,l,n;this.uiLevelNormal&&(this.uiLevelNormal.active=0===t),this.uiLevelSelect&&(this.uiLevelSelect.active=1===t),this.uiLevelComplete&&(this.uiLevelComplete.active=2===t);var s=null==(i=this.uiLevelNormal)||null==(i=i.getChildByName("text"))?void 0:i.getComponent(o);s&&(s.string=""+e),(s=null==(l=this.uiLevelSelect)||null==(l=l.getChildByName("text"))?void 0:l.getComponent(o))&&(s.string=""+e),(s=null==(n=this.uiLevelComplete)||null==(n=n.getChildByPath("btn/text"))?void 0:n.getComponent(o))&&(s.string=""+e),this.uiBtnChalleng&&(this.uiBtnChalleng.active=1===t)},l.setPaint=function(e,t){if(e.length>0){this.uiPaint.active=!0;var i=this.uiPaint.getChildByName("default"),l=this.uiPaint.getChildByName("pic");return i&&(i.active=0===t),l&&(l.active=1===t),void a.SetSpriteFrame(l,e)}this.uiPaint.active=!1},i}(s)).target=void 0,u=v))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayerManager.ts","./ResManager.ts","./LoadingCtrl.ts","./ModuleDef.ts"],(function(e){var n,t,i,o,s,a,l,d,r,h,c,g,u,_;return{setters:[function(e){n=e.createForOfIteratorHelperLoose,t=e.createClass},function(e){i=e.cclegacy,o=e.assetManager,s=e.Prefab,a=e.instantiate,l=e.director,d=e.Scheduler,r=e.JsonAsset},function(e){h=e.UILayerManager,c=e.UILayerDef},function(e){g=e.ResManager},function(e){u=e.LoadingShow},function(e){_=e.AssetBundleDef}],execute:function(){i._RF.push({},"7c534LnDCxBM4+5pR10uN+5","Loading",void 0);var f=e("LoadingPreLoadType",function(e){return e[e.None=0]="None",e[e.Bundle=1]="Bundle",e[e.Res=2]="Res",e[e.Dir=3]="Dir",e[e.Scene=4]="Scene",e[e.Cfg=5]="Cfg",e[e.Sprite=6]="Sprite",e}({})),b=function(){function e(){this._loading=!1,this._loadIndex=-1,this._loadPercent=1,this._loadingObj=void 0,this._loadNode=void 0,this._loadPanel=void 0,this.startTime=void 0,this.timeRange=void 0,this.startPercent=void 0,this.endPercent=void 0}var i=e.prototype;return i.Start=function(){this._loading||(this._loading=!0,this.Do())},i.DoWork=function(e,n,t){this._loading||(this._loading=!0,this._loadingObj={info:e,items:n,cb:t},this.Do())},i.PrepareInfo=function(e){this._loading||(null==this._loadingObj?this._loadingObj={info:e,items:[],cb:null}:this._loadingObj.info=e)},i.PushLoadingItem=function(e){this._loading||(null==this._loadingObj?this._loadingObj={info:"",items:[e],cb:null}:this._loadingObj.items.push(e))},i.AddLoadingItem=function(e,n,t,i,o,s){if(void 0===s&&(s=1),!this._loading){var a={bundleName:e,resName:n,resType:t,isDir:i,displayName:o,weight:s};null==this._loadingObj?this._loadingObj={info:"",items:[a],cb:null}:this._loadingObj.items.push(a)}},i.PrepareCallback=function(e){this._loading||(null==this._loadingObj?this._loadingObj={info:"",items:[],cb:e}:this._loadingObj.cb=e)},i.Do=function(){var e=this;this._loadIndex=-1,this._loadPercent=1;for(var t,i=0,l=n(this._loadingObj.items);!(t=l()).done;){var d=t.value;null==d.weight&&(d.weight=1),i+=d.weight}if(this._loadingObj.items.reduce((function(e,n){var t=n.weight/i*100;return t=Math.floor(t),e&&(t+=e.percent),n.percent=t,n}),null),this._loadingObj.items[this._loadingObj.items.length-1].percent=100,null==this._loadNode||null==this._loadPanel){var r=h.instance.GetLayer(c.Loading).getChildByName("loading");r&&(this._loadNode=r,this._loadPanel=r.getComponent(u))}if(null==this._loadNode||null==this._loadPanel){var g=o.getBundle(_.RES);g&&g.load("gui/loading",s,(function(n,t){e._loadNode=a(t),h.instance.GetLayer(c.Loading).addChild(e._loadNode),e._loadPanel=e._loadNode.getComponent(u),e.setProgressInfo(e._loadingObj.info,e._loadPercent),e.OnLoadNext()}))}else this._loadNode.active=!0,this.setProgressInfo(this._loadingObj.info,this._loadPercent),this.OnLoadNext()},i.setProgressInfo=function(e,n){e&&(this._loadPanel.infoLabel.string=e),this._loadPanel.progressLabel.string=n+"/100",this._loadPanel.progress.progress=n/100},i.OnComplete=function(){this._loadingObj.cb(),this.setProgressInfo("",1),this._loadNode.active=!1,this._loadingObj=null,this._loadIndex=-1,this._loading=!1,this._loadPercent=1},i.update=function(){var e=Date.now()-this.startTime,n=this.startPercent+Math.floor(e/this.timeRange*(this.endPercent-this.startPercent));n>=this.endPercent?(l.getScheduler().unscheduleUpdate(this),this.OnLoadNext()):this.setProgressInfo(null,n)},i.OnLoadNext=function(){if(this._loadIndex+=1,this._loadIndex>=this._loadingObj.items.length)this.OnComplete();else{var e=this._loadingObj.items[this._loadIndex];switch(this._loadingObj.info=e.displayName,e.type){case f.Bundle:return this.preloadBundle(this._loadIndex);case f.Res:return this.preloadRes(this._loadIndex);case f.Dir:return this.preloadDir(this._loadIndex);case f.Scene:return this.preloadScene(this._loadIndex);case f.Cfg:return this.preloadCfg(this._loadIndex);case f.Sprite:return this.preloadSprite(this._loadIndex);case f.None:return this.tryWaitFixed(this._loadIndex)}}},i.tryWaitFixed=function(e){var n=this._loadingObj.items[e],t=n.percent;if(n.fixedTimes){this.startTime=Date.now(),this.timeRange=n.fixedTimes,this.startPercent=this._loadPercent,this.endPercent=t;l.getScheduler();return d.enableForTarget(this),void l.getScheduler().scheduleUpdate(this,1,!1)}this.OnLoadNext()},i.preloadBundle=function(e){var n=this,t=this._loadingObj.items[e],i=t.percent;this.setProgressInfo(this._loadingObj.info,this._loadPercent),g.loadBundle(t.bundleName,(function(e,o){t.cb&&(0,t.cb)(t,o);n._loadPercent=i,n.setProgressInfo(n._loadingObj.info,n._loadPercent),n.OnLoadNext()}))},i.preloadRes=function(e){var n=this,t=this._loadingObj.items[e],i=t.percent;this.setProgressInfo(this._loadingObj.info,this._loadPercent),g.loadBundle(t.bundleName,(function(e,o){e?console.log(e):o.load(t.resName,t.resType,(function(e,t,o){n._loadPercent=i,n.setProgressInfo(n._loadingObj.info,n._loadPercent)}),(function(e,i){t.cb&&(0,t.cb)(t,i);n.OnLoadNext()}))}))},i.preloadDir=function(e){var n=this,t=this._loadingObj.items[e],i=t.percent,o=this._loadPercent,s=i-o;g.loadBundle(t.bundleName,(function(e,i){e?console.log(e):i.loadDir(t.resName,(function(e,t,i){var a=Math.floor(e/t*s);n._loadPercent=o+a,n.setProgressInfo(n._loadingObj.info,n._loadPercent)}),(function(e,i){t.cb&&(0,t.cb)(t,i);n.OnLoadNext()}))}))},i.preloadScene=function(e){var n=this._loadingObj.items[e],t=n.percent;(this.setProgressInfo(this._loadingObj.info,this._loadPercent),n.bundleName&&n.bundleName.length>0)?(o.getBundle(n.bundleName).preloadScene(n.resName,(function(){n.cb&&(0,n.cb)(n)})),this._loadPercent=t,this.setProgressInfo(this._loadingObj.info,this._loadPercent),this.OnLoadNext()):(l.preloadScene(n.resName,(function(){n.cb&&(0,n.cb)(n)})),this._loadPercent=t,this.setProgressInfo(this._loadingObj.info,this._loadPercent),this.OnLoadNext())},i.preloadCfg=function(e){var n=this,t=this._loadingObj.items[e],i=t.percent;this.setProgressInfo(this._loadingObj.info,this._loadPercent),g.loadBundle(t.bundleName,(function(e,o){o.load(t.resName,r,(function(e,o){(e&&console.log(e),n._loadPercent=i,n.setProgressInfo(n._loadingObj.info,n._loadPercent),t.cb)&&(0,t.cb)(t,o.json);n.OnLoadNext()}))}))},i.preloadSprite=function(e){var n=this,t=this._loadingObj.items[e],i=t.percent;this.setProgressInfo(this._loadingObj.info,this._loadPercent),g.loadBundle(t.bundleName,(function(e,o){e?console.log(e):o.load(t.resName+"/spriteFrame",t.resType,(function(e,t,o){n._loadPercent=i,n.setProgressInfo(n._loadingObj.info,n._loadPercent)}),(function(e,i){t.cb&&(0,t.cb)(t,i);n.OnLoadNext()}))}))},t(e,null,[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),e._instance}}]),e}();b._instance=void 0;e("default",b.instance);i._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,n,i,t,o,a,l,u,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,u=e.ProgressBar,c=e.Component}],execute:function(){var s,p,f,g,b,L,d,h,y;o._RF.push({},"9cd4fW3KwhP1pfm8Mt+JkoV","LoadingCtrl",void 0);var w=a.ccclass,m=a.property;e("LoadingShow",(s=w("LoadingShow"),p=m(l),f=m(u),g=m(l),s((d=r((L=function(e){function r(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"infoLabel",d,t(r)),i(r,"progress",h,t(r)),i(r,"progressLabel",y,t(r)),r}return n(r,e),r}(c)).prototype,"infoLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(L.prototype,"progress",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=r(L.prototype,"progressLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=L))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigLoading.ts","./PrefabLoading.ts","./UIManager.ts","./ModuleDef.ts","./ConfigResolver.ts","./Loading.ts","./G.ts"],(function(e){var n,a,t,i,r,s,o,u,d,l,f,p,m;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,t=e.JsonAsset,i=e.Prefab,r=e.SpriteFrame},function(e){s=e.ConfigLoading},function(e){o=e.PrefabLoading},function(e){u=e.default},function(e){d=e.AssetBundleDef},function(e){l=e.ConfigResolver},function(e){f=e.LoadingPreLoadType,p=e.default},function(e){m=e.default}],execute:function(){a._RF.push({},"012a8xuYaxFBqB+wHD4WYQ9","LoadingHelper",void 0);var c=[{displayName:m.GetLanStr(10129),type:f.None,bundleName:"",resName:"",resType:"",fixedTimes:300}];e("default",function(){function e(){}return e.startLoginLoading=function(e,n){this.PushLoadingConfigList(c),c.push({displayName:m.GetLanStr(10129),type:f.Bundle,bundleName:d.GAMERES,resName:"",resType:"",weight:30,barTime:3e3}),c.push({displayName:m.GetLanStr(10129),type:f.Bundle,bundleName:d.GUI,resName:"",resType:"",weight:30,barTime:3e3}),this.PushLoadingPrefabList(c),this.PushLoadingSpriteList(c),c.push({displayName:m.GetLanStr(10129),type:f.None,bundleName:"",resName:"",resType:"",fixedTimes:300}),p.DoWork(e,c,n)},e.PushLoadingConfigList=function(e){for(var a,i=function(){var n=a.value;e.push({displayName:m.GetLanStr(10129),type:f.Cfg,bundleName:n.bundle,resName:""+n.url,resType:t,cb:function(e,a){var t;null==(t=l.get(n.name))||t(a)}})},r=n(s.namesEnterGame);!(a=r()).done;)i()},e.PushLoadingPrefabList=function(e){for(var a,t=function(){var n=a.value;e.push({displayName:m.GetLanStr(10129),type:f.Res,bundleName:n.bundle,resName:""+n.url,resType:i,cb:function(e,a){console.log(n.name),u.loadingLoadUIToCache(n.name,a)}})},r=n(o.namesEnterGame);!(a=r()).done;)t()},e.PushLoadingSpriteList=function(e){for(var a,t=function(){var n=a.value;e.push({displayName:m.GetLanStr(10129),type:f.Sprite,bundleName:n.bundle,resName:""+n.url,resType:r,cb:function(e,a){u.SetSpriteFrame(n.url,a)}})},i=n(o.spriteNamesEnterGame);!(a=i()).done;)t()},e.setupFixtimeWait=function(e,n){p.PushLoadingItem({displayName:""+e,type:f.None,fixedTimes:n,bundleName:"",resName:"",resType:""})},e.setupOtherLoadings=function(e){if(!(null==e||e.length<=0))for(var a,t=n(e);!(a=t()).done;){var i=a.value;p.PushLoadingItem(i)}},e.setupBundleLoading=function(e){p.PushLoadingItem({displayName:m.GetLanStr(10129),type:f.Bundle,bundleName:e,resName:"",resType:""})},e.StartBattleLoading=function(e){p.PrepareCallback(e),p.Start()},e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingMask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FlyTween.ts"],(function(t){var i,e,n,s,o,h;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,n=t.find,s=t.director,o=t.tween},function(t){h=t.FlyTween}],execute:function(){e._RF.push({},"0fc55rwQ3FHeq0wa/ynA3JW","LoadingMask",void 0);var a=function(){function t(){this._loading=!1,this._nodeMask=null,this._nodeShow=null,this._nodeLabel=null,this.timeOutId=null,this.showTime=0}var e=t.prototype;return e._check=function(){null==this._nodeMask&&(this._nodeMask=n("$tgxUICanvas$/Layers/Loading/mask",s.getScene()),this._nodeShow=this._nodeMask.getChildByPath("tips/show"),this._nodeLabel=this._nodeMask.getChildByPath("tips/label"))},e.Show=function(t,i){if(void 0===i&&(i=0),console.log(" loading mask .show "),this._check(),0==this._nodeMask.active){this._nodeMask.active=!0,this._nodeShow.active=!1,null!=this.timeOutId&&clearTimeout(this.timeOutId);var e=this;this.timeOutId=setTimeout((function(){e._nodeShow&&(e._nodeShow.active=!0),e.timeOutId=null}),1500)}if(t&&this._nodeLabel,0==this._loading){var n=this._nodeShow.getChildByName("fish");o(n).by(.1,{angle:-20}).repeatForever().start()}this._loading=!0,this.showTime=0,i>0&&(this.showTime=i)},e.Hide=function(){var t;this.showTime=0,this._check(),null!=this.timeOutId&&clearTimeout(this.timeOutId),this.timeOutId=null,this._nodeMask.active&&(this._loading=!1,this._nodeMask.active=!1,this._nodeShow.active=!1);var i=null==(t=this._nodeShow)?void 0:t.getComponent(h);i&&i.Stop()},e.ShowInfo=function(t){this._check(),this._nodeLabel},e.Update=function(t){this.showTime>0&&(this.showTime-=t,this.showTime<=0&&this.Hide())},i(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}();a._instance=void 0;t("default",a.instance);e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorage.ts",["cc"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy,i=t.sys}],execute:function(){e._RF.push({},"2833akYHuVOboF6FjqUkxnF","LocalStorage",void 0);t("LocalStorage",function(){function t(t){this.gameCode=void 0,this.userid=void 0,null!=t&&(this.gameCode=t)}var e=t.prototype;return e.UserId=function(t){null!=t&&(this.userid=t),this.Set("player_userid",t)},e.Get=function(t,e){void 0===e&&(e=!1);var o=t+"_"+this.gameCode;return e&&(o=o+"_"+this.userid),i.localStorage.getItem(o)},e.Set=function(t,e,o){if(void 0===o&&(o=!1),null!=e){var r=t+"_"+this.gameCode;o&&(r=r+"_"+this.userid),i.localStorage.setItem(r,e)}},e.Del=function(t,e){void 0===e&&(e=!1);var o=t+"_"+this.gameCode;e&&(o=o+"_"+this.userid),i.localStorage.removeItem(o)},t}()),t("PrefixLocalStroage",function(){function t(){this.prefix=void 0,this.prefix=""}var e=t.prototype;return e.SetPrefix=function(t){this.prefix=t},e.Get=function(t){var e=this.prefix+"_"+t;return i.localStorage.getItem(e)},e.Set=function(t,e){var o=this.prefix+"_"+t;i.localStorage.setItem(o,e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorageDataSource.ts",["cc"],(function(r){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"a5e9ccS8DBLpLLVhcUAQCTl","LocalStorageDataSource",void 0);r("LocalStorageDataSource",function(){function r(){}var e=r.prototype;return e.get=function(r,e){var t=localStorage.getItem(r);if(t)try{return JSON.parse(t)}catch(t){return console.error("Error parsing stored value for key: "+r,t),e}return e},e.set=function(r,e){try{var t=JSON.stringify(e);localStorage.setItem(r,t)}catch(e){console.error("Error storing value for key: "+r,e)}},e.remove=function(r){localStorage.removeItem(r)},r}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy,e=t.log}],execute:function(){n._RF.push({},"c11ecqYvTZDYpJRz50ZOdJT","Logger",void 0);var i=t("LogType",function(t){return t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace",t}({})),o={1:"网络日志",2:"数据日志",4:"业务日志",8:"视图日志",16:"配置日志",32:"标准日志"},s=t("Logger",function(){function t(){}return t.init=function(){this.tags=i.Net|i.Model|i.Business|i.View|i.Config|i.Trace},t.addTags=function(t){this.tags|=t},t.removeTags=function(t){this.tags&=~t},t.setTags=function(t){void 0===t&&(t=null),t&&(this.tags=t)},t.printObj=function(n,e,i){if(n&&n.length>0&&console.log(n),null!=e){for(var o=0,s=Object.keys(e);o<s.length;o++){var r=s[o],l=e[r];null!=l?Array.isArray(l)?t.printObj(r+" = [",l,"]"):"object"==typeof l?t.printObj(r+" = {",l,"}"):console.log(r+"="+l):console.log(r+"="+l)}i&&i.length>0&&console.log(i)}},t.table=function(t,n){this.isOpen(i.Trace)&&console.table(t)},t.start=function(t){void 0===t&&(t="Time"),console.time(t)},t.end=function(t){void 0===t&&(t="Time"),console.timeEnd(t)},t.trace=function(t,n){(void 0===n&&(n="color:#000000;"),this.isOpen(i.Trace))&&(console.log||e).call(null,"%c%s%s",n,this.getDateString(),t)},t.logNet=function(t,n){this.orange(i.Net,t,n)},t.logModel=function(t,n){this.violet(i.Model,t,n)},t.logBusiness=function(t,n){this.blue(i.Business,t,n)},t.logView=function(t,n){this.green(i.View,t,n)},t.logConfig=function(t,n){this.gray(i.Config,t,n)},t.orange=function(t,n,e){this.print(t,n,"color:#ee7700;",e)},t.violet=function(t,n,e){this.print(t,n,"color:Violet;",e)},t.blue=function(t,n,e){this.print(t,n,"color:#3a5fcd;",e)},t.green=function(t,n,e){this.print(t,n,"color:green;",e)},t.gray=function(t,n,e){this.print(t,n,"color:gray;",e)},t.isOpen=function(t){return 0!=(this.tags&t)},t.print=function(t,n,i,s){if(this.isOpen(t)){var r=console.log||e,l=o[t];s?r.call(null,"%c%s%s%s:%s%o",i,this.getDateString(),"["+l+"]",this.stack(5),s,n):r.call(null,"%c%s%s%s:%o",i,this.getDateString(),"["+l+"]",this.stack(5),n)}},t.stack=function(t){var n=(new Error).stack.split("\n"),e=[];n.forEach((function(t){var n,i=(t=t.substring(7)).split(" ");i.length<2?e.push(i[0]):e.push(((n={})[i[0]]=i[1],n))}));var i,o=[],s=[];if(t<e.length-1)for(var r in e[t]){if(2==(s=r.split(".")).length)o=s.concat();else{var l=(i=e[t][r]).lastIndexOf("/"),c=i.lastIndexOf(".");if(l>-1&&c>-1){var g=i.substring(l+1,c);o.push(g)}else o.push(i)}}return 1==o.length?"["+o[0]+".ts]":2==o.length?"["+o[0]+".ts->"+o[1]+"]":""},t.getDateString=function(){var t=new Date,n=t.getHours().toString(),e="";return e+=(1==n.length?"0"+n:n)+":",e+=(1==(n=t.getMinutes().toString()).length?"0"+n:n)+":",e+=(1==(n=t.getSeconds().toString()).length?"0"+n:n)+":",1==(n=t.getMilliseconds().toString()).length&&(n="00"+n),2==n.length&&(n="0"+n),e="["+(e+=n)+"]"},t}());s.tags=0,s.init(),n._RF.pop()}}}));

System.register("chunks:///_virtual/LoginDataHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts","./Logger.ts","./LoginDefine.ts"],(function(t){var e,i,n,o,a;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.default},function(t){o=t.Logger},function(t){a=t.LoginType}],execute:function(){i._RF.push({},"c8f2abQnSJM3ZiV3QXFoZ65","LoginDataHelper",void 0);var l=t("LoginDataRecord",function(){function t(t){var e;(this.logintype="",this.zoneid=1,this.userid="",this.tianlu_token="",this.token_hash="",this.expire=0,this.email="",this.account="",this.t3token="",this.t3userid="",this.t3extra="",this.t3expire=0,t)&&(this.logintype=(null==(e=t.logintype)?void 0:e.toLowerCase())||"",this.zoneid=t.zoneid||1,this.userid=t.userid||"",this.tianlu_token=t.tianlu_token||"",this.token_hash=t.token_hash||"",this.expire=t.expire||0,this.email=t.email||"",this.account=t.account||"",this.t3userid=t.t3userid,this.t3extra=t.t3extra||"",this.t3token=t.t3token||"",this.t3expire=t.t3expire||0)}var e=t.prototype;return e.ClearTianluInfo=function(){this.tianlu_token="",this.token_hash="",this.expire=0,this.email=""},e.isTianluValid=function(){if(null==this.tianlu_token||""==this.tianlu_token)return!1;if(null==this.token_hash||""==this.token_hash)return!1;if(this.logintype!==a[a.guest]){var t=(new Date).getTime();if(this.expire<t)return!1}return!0},e.ClearT3Info=function(){this.t3token="",this.t3userid="",this.t3extra="",this.t3expire=0},e.isT3Valid=function(){var t=null==this.t3userid||""==this.t3userid,e=null==this.t3extra||""==this.t3extra;if(t&&e)return!1;if(this.logintype!=a[a.guest]){var i=(new Date).getTime();if(this.t3expire<i)return!1}return!0},t}()),s=function(){function t(t){this.lastLoginType="",this.infos=null,this.serverUrls=[],this.lastLoginType="",this.infos={},t&&(this.lastLoginType=t.lastLoginType,this.infos=t.infos)}var e=t.prototype;return e.Get=function(t){return this.infos[t]},e.AddOrUpdate=function(t,e){void 0===e&&(e=!1),this.infos[t.logintype]=t,e&&(this.lastLoginType=t.logintype)},e.SetGameServerUrls=function(t){this.serverUrls=t},e.GetGameServerUrls=function(){return this.serverUrls},e.Last=function(){return null==this.lastLoginType||""==this.lastLoginType?null:this.infos[this.lastLoginType]},e.Delete=function(t){null!=t&&""!=t&&this.infos[t]&&delete this.infos[t]},e.Clear=function(){this.lastLoginType="",this.infos={}},t}(),r=function(){function t(){this.loginData=null}var i=t.prototype;return i.Clean=function(){this.loginData=new s},i.Get=function(t){return this.loginData.Get(t)},i.Load=function(){var t=n.localStorage.Get("login_history_table_"+n.gameCfg.game_appcode);console.log("load json str -> "+t),null==t||t.length<1?this.loginData=new s:this.loginData=new s(JSON.parse(t)),o.printObj("load login data ->",this.loginData)},i.UpdateRecord=function(t){null!=t&&(this.loginData.AddOrUpdate(t),this.SaveToLocal())},i.SetGameServerURLs=function(t){null==t||t.length<=0||this.loginData.SetGameServerUrls(t)},i.GetGameServerURLs=function(){return this.loginData.GetGameServerUrls()},i.SaveToLocal=function(){if(null!=this.loginData){var t=JSON.stringify(this.loginData);n.localStorage.Set("login_history_table_"+n.gameCfg.game_appcode,t),console.log("SaveToLocal ... ")}},i.SaveEmailInfoToLocal=function(t,e){var i=JSON.stringify({email:t,password:e});n.localStorage.Set("login_email_history_"+n.gameCfg.game_appcode,i),console.log("SaveLastEmaikInfo ... ")},i.GetEmailInfoFromLocal=function(){var t=n.localStorage.Get("login_email_history_"+n.gameCfg.game_appcode);return JSON.parse(t)},i.ClearEmailInfoFromLocal=function(){n.localStorage.Del("login_email_history_")},i.SaveT3LoginData=function(t){console.log("SaveT3LoginData -> "+t);var e=JSON.parse(t);if(e){var i,n;console.log("save t3 login ");var o=this.loginData.Get(null==(i=e.logintype)?void 0:i.toLowerCase());null==o&&(o=new l),o.logintype=null==(n=e.logintype)?void 0:n.toLowerCase(),o.t3token=e.t3token,o.t3userid=e.t3userid,o.t3extra=e.t3extra,o.t3expire=e.t3expire,this.loginData.AddOrUpdate(o,!0),this.SaveToLocal()}},i.GetLastLoginRecord=function(){return this.loginData?this.loginData.Last():null},i.GetLastLoginType=function(){var t;return null==(t=this.loginData)?void 0:t.lastLoginType},i.SetLastLoginType=function(t){this.loginData.lastLoginType=a[t]},i.DeleteDataByLoginType=function(t){this.loginData.Delete(a[t])},i.ClearLastLoginType=function(){this.loginData.Clear();var t=JSON.stringify(this.loginData);n.localStorage.Set("login_history_table_"+n.gameCfg.game_appcode,t),console.log("SaveToLocal ... ")},i.ExitCurrentAccount=function(){this.loginData&&(this.loginData.lastLoginType="",this.SaveToLocal())},i.isT3Valid=function(t){if(null==t)return!1;if(null==t.t3token||""==t.t3token)return!1;if(t.logintype!=a[a.guest]){var e=(new Date).getTime();if(t.t3expire<e)return!1}return!0},i.ClearTianluInfo=function(t){t.zoneid=1,t.tianlu_token="",t.token_hash="",t.expire=0},i.isTianluValid=function(t){if(null==t)return!1;if(null==t.tianlu_token||""==t.tianlu_token)return!1;if(null==t.token_hash||""==t.token_hash)return!1;var e=Date.now();return!(t.expire>0&&t.expire<e)},i.ClearT3Info=function(t){t.t3token="",t.t3userid="",t.t3extra="",t.t3expire=0},e(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}();r._instance=null;t("default",r.instance);i._RF.pop()}}}));

System.register("chunks:///_virtual/LoginDefine.ts",["cc","./Device.ts","./GameStatic.ts"],(function(e){var a,n,i,o;return{setters:[function(e){a=e.cclegacy},function(e){n=e.device,i=e.ERunPlat},function(e){o=e.default}],execute:function(){a._RF.push({},"346daNJ2pZJQ5gzVS7mHCJB","LoginDefine",void 0);var l=e("LoginType",function(e){return e[e.none=0]="none",e[e.guest=1]="guest",e[e.tianlu=2]="tianlu",e[e.googleplay=3]="googleplay",e[e.huawei=4]="huawei",e[e.xiaomi=5]="xiaomi",e[e.oppo=6]="oppo",e[e.vivo=7]="vivo",e[e.apple=8]="apple",e[e.facebook=9]="facebook",e[e.telegram=10]="telegram",e[e.whatsapp=11]="whatsapp",e[e.instagram=12]="instagram",e[e.vk=13]="vk",e[e.kakao=14]="kakao",e[e.line=15]="line",e[e.weixin=16]="weixin",e[e.qq=17]="qq",e[e.alipay=18]="alipay",e[e.amazon=19]="amazon",e[e.telegramweb=20]="telegramweb",e[e.Max=21]="Max",e}({}));e("LoginConfig",{guest:{bundle_name:"startup",icon:"login_res/ui_img_guest"},apple:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_apple"},googleplay:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_Google"},facebook:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_Facebook"},telegram:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_telegram"},telegramweb:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_telegram"},whatsapp:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_whatsapp"},instagram:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_instagram"},vk:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_vk"},kakao:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_kakao"},line:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_line"},weixin:{bundle_name:"startup",icon:"login_res/ui_img_logo_wechat"},qq:{bundle_name:"startup",icon:"login_res/ui_img_logo_qq"},alipay:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_alipay"},weibo:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_weibo"},tianlu:{bundle_name:"startup",icon:"login_res/ui_dljm_tubiao_email"}}),e("LoginBtnLangueage",{guest:{zh:{name:"游客"},en:{name:"guest"},ru:{name:"guest"},jp:{name:"guest"},kr:{name:"guest"},other:{name:"guest"}},tianlu:{zh:{name:"天渌"},en:{name:"TianLu"},ru:{name:"TianLu"},jp:{name:"TianLu"},kr:{name:"TianLu"},other:{name:"TianLu"}},apple:{zh:{name:"苹果"},en:{name:"apple"},ru:{name:"appleid"},jp:{name:"appleid"},kr:{name:"appleid"},other:{name:"appleid"}},googleplay:{zh:{name:"谷歌"},en:{name:"google"},ru:{name:"google"},jp:{name:"google"},kr:{name:"google"},other:{name:"google"}},facebook:{zh:{name:"脸书"},en:{name:"facebook"},ru:{name:"facebook"},jp:{name:"facebook"},kr:{name:"facebook"},other:{name:"facebook"}},vk:{en:{name:"Vk"},ru:{name:"vk"}},kakao:{en:{name:"Kakao"},kr:{name:"kakao"}},line:{en:{name:"Line"},jp:{name:"line"}},weixin:{zh:{name:"微信"},en:{name:"weixin"}},qq:{zh:{name:"QQ"},en:{name:"QQ"}},alipay:{zh:{name:"支付宝"},en:{name:"Alipay"}},weibo:{zh:{name:"微博"},en:{name:"weibo"}},email:{zh:{name:"邮件"},en:{name:"email"}}}),e("LoginTools",function(){function e(){}return e.GetPreferLoginType=function(e,a){return null!=e&&0!=e.length||null!=(e=o.Country)&&0!=e.length||(e="other"),null!=a&&0!=a.length||(a="other",n.platform==i.ios||n.platform==i.macos?a="apple":n.platform==i.android&&(a="android")),"cn"==e?"apple"==a?[l.tianlu,l.weixin,l.apple,l.qq]:"android"==a?[l.tianlu,l.weixin,l.qq]:[l.tianlu]:"ru"==e?"apple"==a?[l.tianlu,l.vk,l.apple]:"android"==a?[l.tianlu,l.vk,l.googleplay]:[l.tianlu]:"apple"==a?[l.tianlu,l.facebook,l.apple]:"android"==a?[l.tianlu,l.facebook,l.googleplay]:[l.tianlu]},e.GetLoginTypeByTypeName=function(e){for(var a=e.toLowerCase(),n=1;n<l.Max;n++){var i=l[n];if((i=i.toLowerCase())==a)return n}return l.guest},e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/LoginModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts","./FrameDefine.ts","./GameStatic.ts","./ModuleBase.ts","./StringToModule.ts","./UIManager.ts","./G.ts","./GameCmdIDs.ts","./LoadingHelper.ts","./LoadingMask.ts","./NetMessageHub.ts","./SdkHelper.ts","./ServerErrorCode.ts","./TGame.ts","./TLDataPoints.ts","./HttpUtils.ts","./Base64.ts","./Tips.ts","./Tool2.ts","./LoginDataHelper.ts","./LoginDefine.ts"],(function(e){var o,n,t,i,r,s,a,l,c,u,g,d,f,v,L,p,m,S,_,h,T,C,G,y,k,N,I;return{setters:[function(e){o=e.inheritsLoose,n=e.createClass},function(e){t=e.cclegacy,i=e.sys},function(e){r=e.default},function(e){s=e.GameEvent},function(e){a=e.default},function(e){l=e.ModuleBase},function(e){c=e.default},function(e){u=e.default},function(e){g=e.default,d=e.ServerConnectInfo},function(e){f=e.default},function(e){v=e.default},function(e){L=e.default},function(e){p=e.default},function(e){m=e.SdkHelper},function(e){S=e.ServerErrorCode},function(e){_=e.EGameStage},function(e){h=e.TLDataPoints},function(e){T=e.EResponseType,C=e.HttpUtils},function(e){G=e.Base64},function(e){y=e.Tips},function(e){k=e.default},function(e){N=e.default},function(e){I=e.LoginType}],execute:function(){t._RF.push({},"fdd87MCTvVNL6MzaAYsYW+6","LoginModule",void 0);var O=e("LoginModule",function(e){function t(){var o;return(o=e.call(this,t.sTag)||this).isFromSetting=!1,o._isSaveUserInfo=0,o}o(t,e);var l=t.prototype;return l.UseConfig=function(e){},l.regGameEvents=function(){var e=this;this.regGameEvent("Evt_T3LoginVerify",(function(o){N.SaveT3LoginData(o.str);var n=JSON.parse(o.str);e.T3dLoginVerify(n)})),this.regGameEvent("Evt_T3LoginVerify_Err",(function(o){e.T3dLoginVerifyErr(o.str)}))},l.unRegGameEvents=function(){},l.regNetCmds=function(){this.regNetMsgHandler(f.Defs.S2C_LOGIN_ON.id,this.onMsg_LOGIN_ON),this.regNetMsgHandler(f.Defs.S2C_LOGIN.id,this.onMsg_LOGIN)},l.unRegNetCmds=function(){this.unRegNetMsgHandler(f.Defs.S2C_LOGIN_ON.id),this.unRegNetMsgHandler(f.Defs.S2C_LOGIN.id)},l.onMsg_LOGIN_ON=function(e){if(L.Hide(),null!=e&&null!=e.msgObj)if(0===e.msgObj.errCode){var o=p.NetEncode(f.Defs.C2S_LOGIN.id,"");g.netClientGame.SendData(o)}else console.log("login_on error, errcode="+e.msgObj.errCode);else console.log("login_on error")},l.onMsg_LOGIN=function(e){var o,n,t,i;if(L.Hide(),null==e||null==e.msgObj)return console.log("login error"),void h.submit("login_game_server_2",{success:!1,desc:"login error",userid:null==(o=g.curLoginRecord)?void 0:o.t3userid,zoneid:null==(n=g.curLoginRecord)?void 0:n.zoneid});if(0!==e.msgObj.errCode)return console.log("login error, errcode="+e.msgObj.errCode),h.submit("login_game_server_2",{success:!1,errCode:e.msgObj.errCode,desc:"login error",userid:null==(t=g.curLoginRecord)?void 0:t.t3userid,zoneid:null==(i=g.curLoginRecord)?void 0:i.zoneid}),y.instance.ShowTips(e.msgObj.errCode),void(e.msgObj.errCode==S.RoleForbid&&g.tlGame.stage==_.Play&&(u.HideALL(),this.DoWork({from:"Settings"})));var r,s,a=e.msgObj.strData;if(null==a||a.length<=0)return console.log("failed to login, no data"),void h.submit("login_game_server_2",{success:!1,errCode:e.msgObj.errCode,desc:"failed to login, no data",userid:null==(r=g.curLoginRecord)?void 0:r.t3userid,zoneid:null==(s=g.curLoginRecord)?void 0:s.zoneid});1==JSON.parse(a).newPlayer&&h.submit("role_create",{success:!0}),h.submit("login_game_server_suc",{success:!0}),g.netClientGame.StartHeart(5e3,(function(){g.server.DoHeart()})),g.server.LoginData(),console.log("LOGIN, client role data -> "+a),L.Show()},l.ShowTips=function(e){var o=this._viewCtrl;null==o||o.ShowTips(e)},l.DoWork=function(e){void 0===e&&(e=null),console.log("login module do work"),this.isFromSetting=!1,e&&e.from&&(this.isFromSetting="Settings"===e.from),r.OpenUI("Login"),g.tlGame.SetStage(_.Login)},l.setAccount=function(e,o){var n={logintype:I[I.tianlu],t3token:e,t3userid:"",t3extra:a.tianluDevID,t3expire:-99999,email:o};JSON.stringify(n)},l.getT3LoginData=function(e){var o=g.localStorage.Get("player_userid");return null!=o&&""!=o||(o=""+k.randNumber(999999,1e5)),{logintype:I[e],zoneid:1,userid:o,tianlu_token:"",token_hash:"",expire:0,email:"",account:"",t3token:"",t3userid:"",t3extra:"",t3expire:0}},l.EmailLogin=function(e,o){var n=this;console.log("Email login ....."),N.SetLastLoginType(I.tianlu),N.SaveToLocal();var t=N.Get(I[I.tianlu]);if(N.isT3Valid(t))this.LoginToGameServer();else{var i={appid:a.appcode,account:"",email:e,pwd:o,verifyCode:"",plat:a.runPlat,minigame_plat:g.gameCfg.GamePlat},r={responseType:T.JSON,headers:{"Content-Type":"application/json"}};C.POST(g.gameCfg.TargetPlatfromUrl+"/tianlu_account/login",r,i,(function(t){var i;if(console.log("cb complete......."),L.Hide(),console.log("errCode -> "+t.errCode+",msg->"+t.msg),t.errCode&&0!==t.errCode)y.instance.ShowTips(204);else{console.log("邮箱登录返回的数据:",t);var r=t.data;if(null==r||r.length<=0)y.instance.ShowTips(204);else{N.SaveT3LoginData(r),r=JSON.parse(r);var s=N.Get(null==(i=r.logintype)?void 0:i.toLowerCase());if(s){if(s.tianlu_token=r.tianlu_token,s.token_hash=r.token_hash,s.expire=r.expire,s.t3userid=r.openid,N.UpdateRecord(s),r.servers&&r.servers.length>0){var a=JSON.parse(r.servers);N.SetGameServerURLs(a)}g.curLoginRecord=s,N.SaveEmailInfoToLocal(e,o),n.LoginToGameServer()}}}}),(function(e,o){console.log("cb error......."),L.Hide()}))}},l.GuestLogin=function(){if(console.log("GuestLogin ....."),h.submit("t3_login_1",{type:I[I.guest]}),N.SetLastLoginType(I.guest),N.SaveToLocal(),null==N.Get(I[I.guest])){var e=8999999*Math.random()+1e6;e=Math.floor(e);var o=Date.now(),n=e+";"+a.tianluDevID+";"+o,t=G.encode(n);console.log("str->"+n+", base64 -> "+t);var i={logintype:I[I.guest],t3token:t,t3userid:"",t3extra:a.tianluDevID,t3expire:-99999},r=JSON.stringify(i);N.SaveT3LoginData(r),this.LoginToAccountCenter()}else this.LoginToAccountCenter()},l.T3Login=function(e){console.log("T3Login: "+e),h.submit("t3_login_1",{type:e}),N.SetLastLoginType(I[e]),N.SaveToLocal();var o=N.Get(I[e]);if(!(g.gameCfg.specLoginType>I.tianlu))return N.isTianluValid(o)?(g.curLoginRecord=o,void this.LoginToAccountCenter()):void m.CallSdkNative("TLSdk","Login",e);o&&""!=o.tianlu_token&&""!=o.token_hash&&""!=o.userid?(g.curLoginRecord=o,g.leader.NoWifiGameStart(g.curLoginRecord.userid),this.onMsg_LoginDataBack()):m.CallSdkNative("TLSdk","Login",e)},l.T3dLoginVerify=function(e){if(void 0===e&&(e=null),console.log("T3dLoginVerify........."),null==N.GetLastLoginRecord())return console.log("record is null"),void this.ShowTips("please login first ...");this.LoginToAccountCenter(e)},l.T3dLoginVerifyErr=function(e){if(console.log("T3dLoginVerify Err ="+e),this._isSaveUserInfo>0)y.instance.ShowTips(10166),this._isSaveUserInfo=0;else{g.curLoginRecord=null;var o=N.Get(I[g.gameCfg.specLoginType]);if(o&&(g.curLoginRecord=o),null==g.curLoginRecord||""==g.curLoginRecord.tianlu_token||""==g.curLoginRecord.token_hash||""==g.curLoginRecord.userid){g.curLoginRecord=this.getT3LoginData(g.gameCfg.specLoginType);var n=JSON.stringify(g.curLoginRecord);N.SaveT3LoginData(n),N.SetLastLoginType(g.gameCfg.specLoginType)}g.leader.NoWifiGameStart(g.curLoginRecord.userid),this.onMsg_LoginDataBack(),h.submit("login_not_account",{})}L.Hide()},l.LoginToAccountCenter=function(e){var o=this;void 0===e&&(e=null);var n=N.GetLastLoginRecord();if(null!=n){var t=function(){o.LoginToAccountCenter(e)},l=new s("");l.cb=function(){o.LoginToGameServer()};L.Show("Logging into account server ...");var c={bundleid:a.bundleID,plat:a.runPlat,country:a.Country,lan:a.Lan,channel:a.channelID,subchannel:a.subChannelID,minigame_plat:g.gameCfg.GamePlat,logintype:n.logintype,appcode:a.appcode,version:a.version,zoneid:n.zoneid,dev_os:i.os,t3token:e&&e.t3token?e.t3token:"",t3userid:e&&e.t3userid?e.t3userid:"",t3extra:e&&e.amazonappid?e.amazonappid:n.t3extra},u={responseType:T.JSON,headers:{"Content-Type":"application/json"}};C.POST(g.gameCfg.TargetPlatfromUrl+"/"+n.logintype.toLowerCase()+"/login",u,c,(function(n){var i;console.log("cb complete LoginToAccountCenter ......."),L.Hide();var s="errCode -> "+n.errCode+",msg->"+n.msg;if(-1===n.errCode)return g.gameCfg.audit_status=!0,void setTimeout(t,20);if(n.errCode&&0!==n.errCode)return console.log("cb complete err LoginToAccountCenter ......."),console.log(s),y.instance.ShowTips(204),o._isSaveUserInfo=0,void h.submit("account_login_err",{success:!1,errcode:n.errCode,desc:"failed to login tianlu gate"});var a=n.data;if(null==a||a.length<=0)return y.instance.ShowTips(204),o._isSaveUserInfo=0,console.log("resp.data -> null"),void h.submit("account_login_err",{success:!1,errcode:n.errCode,desc:"failed to login tianlu gate, resp.data -> null"});console.log(a),a=JSON.parse(a);var c=N.Get(null==(i=a.logintype)?void 0:i.toLowerCase());if(c){if(c.tianlu_token=a.tianlu_token,c.token_hash=a.token_hash,c.expire=a.expire,c.t3token=e&&e.t3token?e.t3token:"",c.t3userid=e&&e.t3userid?e.t3userid:"",c.userid=a.openid,N.UpdateRecord(c),a.servers&&a.servers.length>0){var u=JSON.parse(a.servers);N.SetGameServerURLs(u)}g.curLoginRecord=c,o._isSaveUserInfo>0?(o._isSaveUserInfo=1)?g.server.SaveUserInfo():(o._isSaveUserInfo=2)&&g.server.LoadUserInfo():r.PostGameEvent(l),o._isSaveUserInfo=0,h.submit("account_login_suc",{success:!0,t3userid:c.t3userid,userid:c.t3userid,zoneid:c.zoneid}),null!=a.create&&1==a.create&&h.submit("account_login_create",{t3userid:c.t3userid,userid:c.userid,zoneid:c.zoneid})}else h.submit("account_login_err",{success:!1,errcode:n.errCode,desc:"failed to login tianlu gate"})}),(function(e,n){console.log("cb error LoginToAccountCenter ......."),L.Hide(),y.instance.ShowTips(10166),h.submit("account_login_err",{success:!1,errcode:e,desc:"http error"}),o._isSaveUserInfo=0}))}else this.ShowTips("please login first ...")},l.LoginToGameServer=function(){console.log("LoginToGameServer.........");var e=N.GetLastLoginRecord();if(null==e)return L.Hide(),void console.log("登录失败");console.log("last login ->",JSON.stringify(e));var o={tianlu_token:e.tianlu_token,token_hash:e.token_hash,channelID:a.channelID},n=N.GetGameServerURLs();if(console.log(n),n&&n.length>0){var t=n[0];console.log("last login ->"+t.host+"---"+t.port),g.serverInfo=new d(t.host,t.port,e.tianlu_token,e.token_hash),g.ConnectToServer(t.host,t.port);var i=p.NetEncode(f.Defs.C2S_LOGIN_ON.id,o);g.netClientGame.SendData(i),h.submit("login_connect_server")}else g.leader.NoWifiGameStart(e.userid),this.onMsg_LoginDataBack()},l.onMsg_LoginDataBack=function(){setTimeout((function(){r.CloseUI("Login")}),200),L.Hide(),v.startLoginLoading("",(function(){r.OpenUI("MainUI"),g.tlGame.SetStage(_.Play)}))},n(t,[{key:"isSaveUserInfo",get:function(){return this._isSaveUserInfo},set:function(e){this._isSaveUserInfo=e}}]),t}(l));O.sTag="Login",c.Set("LoginModule",O),t._RF.pop()}}}));

System.register("chunks:///_virtual/LoginUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteHelper.ts","./ClassConfig.ts","./Facade.ts","./GameStatic.ts","./UIControler.ts","./UIPrefabSlots.ts","./G.ts","./LanLabel.ts","./LanSprite.ts","./LoginDataHelper.ts","./LoginDefine.ts","./UITools.ts","./Tool2.ts"],(function(t){var n,i,e,o,s,a,l,u,r,g,h,c,d,f,p,L,m,v,y,T,C,B,b,S,_;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t.find,o=t.sys,s=t.Label,a=t.Color,l=t.Button,u=t.Layout,r=t.instantiate},function(t){g=t.SpriteHelper},function(t){h=t.ClassConfig},function(t){c=t.default},function(t){d=t.default},function(t){f=t.UIControler},function(t){p=t.UIPrefabSlots},function(t){L=t.default},function(t){m=t.LanLabel},function(t){v=t.LanSprite},function(t){y=t.default},function(t){T=t.LoginType,C=t.LoginTools,B=t.LoginBtnLangueage,b=t.LoginConfig},function(t){S=t.UITools},function(t){_=t.default}],execute:function(){i._RF.push({},"94ab3aRx5lEALfqT2ATB9Ba","LoginUICtrl",void 0);var M=t("LoginViewCtrl",function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).contents=void 0,n.fullStatus=!1,n.uiTypeMoreBtn=void 0,n.uiLoginTypeWin=void 0,n.uiLoginAccBtn=void 0,n.fabBtn=void 0,n.prefabSlots=void 0,n.nodeTips=void 0,n.btn_sound=void 0,n}n(i,t);var h=i.prototype;return h._onLoad=function(){this.btn_sound=e("top/btn_sound",this.node),this.nodeTips=e("tips",this.node),this.prefabSlots=this.node.getComponent(p),this.fabBtn=this.prefabSlots.Get("fabbtn"),this.contents=e("best/recommand/more",this.node),this.uiTypeMoreBtn=e("best/recommand/btn_more",this.node),this.uiLoginAccBtn=e("loginAccBtn",this.node),this.uiLoginTypeWin=e("best",this.node),this.checkTiShen()},h.checkTiShen=function(){},h._onEnable=function(){this.setLoginTypeShow(),this.updateLan(),this.setLoginWinShow()},h._onUpdate=function(t){},h._onDisable=function(){},h._onStart=function(){console.log("login ui start ....."),console.log("language code -> "+o.languageCode+","+o.languageCode),this.fullStatus=!1,this.setLoginTypeBtnList(),this._regHanlders(),this.updateLan()},h._regHanlders=function(){var t=this;this.RegClickHanlder("*",(function(n,i,e,o){t.Login(n)})),this.RegClickHanlder("more",(function(n,i,e,o){t.clickMore()})),this.RegClickHanlder("loginAccBtn",(function(n,i,e,o){var s=T[L.gameCfg.specLoginType];t.Login(s)}))},h.updateLan=function(){for(var t=this.node.getComponentsInChildren(v),n=0;n<t.length;n++)t[n].language();for(var i=this.node.getComponentsInChildren(m),e=0;e<i.length;e++)i[e].language()},h.ShowTips=function(t){var n,i=null==(n=this.nodeTips)?void 0:n.getComponent(s);i&&(i.string=t)},h.setLoginWinShow=function(){var t=this,n=this.module.isFromSetting,i=y.GetLastLoginType(),e=y.Get(i);if(!n&&y.isTianluValid(e))return L.curLoginRecord=e,void this.module.LoginToGameServer();if(!n&&e&&i&&i.length>0)return i==T[T.guest]?void this.module.GuestLogin():i==T[T.tianlu]?void c.OpenUI("EmailLogin"):void setTimeout((function(){t.module.T3Login(i)}),100);if(0==L.gameCfg.specLoginType){var o=L.localStorage.Get("player_userid");return null!=o&&""!=o||(o=""+_.randNumber(999999,1e5)),L.leader.NoWifiGameStart(""+o),void this.scheduleOnce((function(){t.module.onMsg_LoginDataBack()}),0)}var s=T[L.gameCfg.specLoginType];this.Login(s)},h.setLoginTypeShow=function(){if(L.gameCfg.specLoginType>0)this.uiLoginAccBtn.active=!0,this.uiLoginTypeWin.active=!1,this.uiTypeMoreBtn.active=!1;else{this.uiLoginAccBtn.active=!1,this.uiLoginTypeWin.active=!0,this.uiTypeMoreBtn.active=!0;var t=C.GetPreferLoginType(),n=this.uiLoginTypeWin.getChildByPath("recommand/line/method0"),i=this.uiLoginTypeWin.getChildByPath("recommand/line/method1"),e=this.uiLoginTypeWin.getChildByPath("recommand/line/method2");if(this.initLoginButton(n,t[0]),this.initLoginButton(i,t[1]),this.initLoginButton(e,t[2]),t.length<=3)this.uiTypeMoreBtn.active=!1;else{var o,l;null==(o=this.contents)||o.removeAllChildren(),this.uiTypeMoreBtn.active=!0;var u=null==(l=this.uiTypeMoreBtn.getChildByName("Label"))?void 0:l.getComponent(s);if(u){var r=new a(0,0,0,0);a.fromHEX(r,"2E3047"),u.color=r}}}},h.loginTypeWinShow=function(){this.uiLoginTypeWin.active=!0},h.setLoginTypeBtnList=function(){var t=e("best/recommand/line/method0",this.node),n=e("best/recommand/line/method1",this.node),i=e("best/recommand/line/method2",this.node),o=C.GetPreferLoginType();if(this.initLoginButton(t,o[0]),this.initLoginButton(n,o[1]),this.initLoginButton(i,o[2]),o.length<=3){var u;this.uiTypeMoreBtn.getComponent(l).interactable=!1,this.uiTypeMoreBtn.active=!1;var r=null==(u=this.uiTypeMoreBtn.getChildByName("Label"))?void 0:u.getComponent(s);if(r){var g=new a(0,0,0,0);a.fromHEX(g,"7f7f7fff"),r.color=g}}},h.initLoginButton=function(t,n){if(null!=n){var i=T[n],e=b[i];S.setButtonClick(t,i,this.node);var o=t.getChildByName("icon");g.loadTexture(o,e.icon,1,e.bundle_name||null);var a=t.getChildByName("name").getComponent(s),l=d.Lan;if(null!=l&&0!=l.length||(l="en"),B.hasOwnProperty(i)){0==B[i].hasOwnProperty(l)&&(l="en");var u=B[i][l];u.name&&u.name.length>0?a.string=u.name:a.string=""}t.active=!0}else t.active=!1},h.clickMore=function(){var t,n,i;null==(t=this.contents)||t.removeAllChildren();var e=this.contents.getComponent(u),o=d.Lan;null!=o&&0!=o.length||(o="en");var s=C.GetPreferLoginType();if(0==this.fullStatus)for(var a=3;a<s.length;a++){var l=r(this.fabBtn);l&&(this.initLoginButton(l,s[a]),this.contents.addChild(l))}e.updateLayout(),null==(n=this.node.getChildByPath("best/recommand"))||null==(n=n.getComponent(u))||n.updateLayout(),null==(i=this.node.getChildByName("best"))||null==(i=i.getComponent(u))||i.updateLayout(),this.fullStatus=!this.fullStatus},h.Login=function(t){console.log("T3Login: "+t),t==T[T.tianlu]?c.OpenUI("EmailLogin"):t==T[T.guest]?this.module.GuestLogin():this.module.T3Login(t)},i}(f));h.addClass("LoginViewCtrl",M),i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AdManager.ts","./MiniGameManager.ts","./WXManager.ts","./ZJManager.ts","./ConfigLoading.ts","./ConstantDef.ts","./MainDef.ts","./PrefabLoading.ts","./RankDef.ts","./TableDefine.ts","./ErrorCode.ts","./AudioManager.ts","./ClassConfig.ts","./EventManager.ts","./Facade.ts","./FlyTween.ts","./FrameDefine.ts","./FullScreenAdapter.ts","./GameStatic.ts","./GuiAdapter.ts","./LayerManager.ts","./ModuleBase.ts","./ModuleManager.ts","./Navigator.ts","./NetMsgManager.ts","./StringToModule.ts","./TweenBoy.ts","./TweenLib.ts","./TweenManager.ts","./TweenPack.ts","./UIControler.ts","./UIManager.ts","./UIOperator.ts","./UIPrefabSlots.ts","./G.ts","./GameApp.ts","./GameCmdIDs.ts","./GameCmdRawDescs.ts","./GameConfig.ts","./mapManager.ts","./GameUILayers.ts","./GameUpdateSys.ts","./HotUpdate.ts","./HotUpdateManager.ts","./UpdatePanel.ts","./Leader.ts","./Loading.ts","./LoadingCtrl.ts","./LoadingHelper.ts","./LoadingMask.ts","./ModuleConfig.ts","./ModuleDef.ts","./MainUICtrl.ts","./MainUIModule.ts","./QuickDifficultyUICtrl.ts","./QuickDifficultyUIModule.ts","./ResCheckModule.ts","./ResCheckUICtrl.ts","./SaveManager.ts","./ScoreCenter.ts","./BattleUICtrl.ts","./BattleUIModule.ts","./CameraImageCapturer.ts","./CaptureByBoundingBox.ts","./Card.ts","./CardBoard.ts","./Cell.ts","./GameEndUICtrl.ts","./GameEndUIModule.ts","./GamePassUICtrl.ts","./GamePassUIModule.ts","./GamePauseUICtrl.ts","./GamePauseUIModule.ts","./GridBoard.ts","./GridHelper.ts","./Notes.ts","./selectCenter.ts","./CommandHelper.ts","./CommandManager.ts","./EarseCommand.ts","./FillCommand.ts","./NotesCommand.ts","./Calendar%20copy%202.ts","./Calendar%20copy%203.ts","./Calendar%20copy.ts","./Calendar.ts","./DailyChallengeUICtrl.ts","./DailyChallengeUIModule.ts","./PrizeUICtrl.ts","./PrizeUIModule.ts","./EffectSequencePlayer.ts","./LevelChallengeUICtrl.ts","./LevelChallengeUIModule.ts","./LevelItem.ts","./PaintUICtrl.ts","./PaintUIModule.ts","./EmailLoginUICtrl.ts","./LoginDataHelper.ts","./LoginDefine.ts","./LoginModule.ts","./LoginUICtrl.ts","./CaptureByBoundingBox%20copy.ts","./SettingManager.ts","./IapDef.ts","./Pay.ts","./PayUtils.ts","./ColorPaletteUICtrl.ts","./ColorPaletteUIModule.ts","./LanguageUICtrl.ts","./PlayHelpUICtrl.ts","./PlayHelpUIModule.ts","./SettingUICtrl.ts","./SettingsModule.ts","./StatisticsUICtrl.ts","./StatisticsUIModule.ts","./SudokuStatistics.ts","./UserCenterUICtrl.ts","./sudokuCommandManager.ts","./sudokuGenreator.ts","./ThemeColorPicker.ts","./ThemeDef.ts","./ThemeLabel%20copy.ts","./ThemeLabel.ts","./ThemeManager.ts","./ThemeSprite%20copy.ts","./ThemeSprite.ts","./EventEmitter.ts","./ExpansionIterator.ts","./FlexLayout.ts","./ThrouthInput.ts","./VerticalDistributionComponent.ts","./VortexTraverser.ts","./WindmillIterator.ts","./NavigatorConfig.ts","./NetMessageHub.ts","./NetMsgCode.ts","./PlatformCmdIDs.ts","./PreloadResConfig.ts","./RandomName.ts","./RedPointDefault.ts","./RedPointSys.ts","./SDKInterface.ts","./SdkHelper.ts","./ServerErrorCode.ts","./ServerStub.ts","./TGame.ts","./TLDataPoints.ts","./TLSDK.ts","./ResLoader.ts","./InputRawStream.ts","./OutputRawStream.ts","./RawStreamDef.ts","./StorageManager.ts","./BTreeNode.ts","./BehaviorTree.ts","./BranchNode.ts","./Decorator.ts","./IControl.ts","./Priority.ts","./Selector.ts","./Sequence.ts","./Task.ts","./index2.ts","./AudioController.ts","./FreeFlightCamera.ts","./GlobalAudios.ts","./OrbitCamera.ts","./ResolutionAutoFit.ts","./RtToModel.ts","./RtToSprite.ts","./TLBazierFly.ts","./ClickEffect.ts","./TLColorFlash.ts","./TLDelay.ts","./TLIntervalDo.ts","./ECS.ts","./ECSComp.ts","./ECSEntity.ts","./ECSGroup.ts","./ECSMask.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts","./EventDispatcher.ts","./EventMessage.ts","./MessageEventData.ts","./MessageManager.ts","./LanLabel.ts","./LanManager.ts","./LanPack.ts","./LanSprite.ts","./Language.ts","./LanguageData.ts","./LanguageLabel.ts","./LanguagePack.ts","./LanguageSprite.ts","./HttpUtils.ts","./MyNetNode.ts","./NetClient.ts","./NetCmdSerialID.ts","./NetInterface.ts","./NetProtocolPako.ts","./PacketHeler.ts","./PakoBuilder.ts","./ProtoBuilder.ts","./ProtobufUtil.ts","./RawBuilder.ts","./WebSock.ts","./pako.min.mjs_cjs=&original=.js","./tlg.ts","./ArrayUtil.ts","./Base64.ts","./CameraUtil.ts","./EncryptUtil.ts","./FileMgr.ts","./ImageUtil.ts","./JsonUtil.ts","./LayerUtil.ts","./Logger.ts","./MathUtil.ts","./ObjectUtil.ts","./PhysicsUtil.ts","./PlatformUtil.ts","./RandomManager.ts","./RegexUtil.ts","./RotateUtil.ts","./StringUtil.ts","./Timer.ts","./TimerManager.ts","./Utf8Util.ts","./Vec3Util.ts","./URLConfig.ts","./BlockInput.ts","./IDManager.ts","./LocalStorage.ts","./MsgBox.ts","./Notices.ts","./Tips%20copy.ts","./Tips.ts","./Tool2.ts","./Tools.ts","./UITools.ts","./WebViewJsBridge.ts","./DataStorageManager%20copy.ts","./DataStorageManager.ts","./InterfaceDefine.ts","./KeyManager.ts","./LocalStorageDataSource.ts","./PropConfig.ts","./SettingConfig.ts","./SudokuConfig.ts","./index.ts","./ButtonHelper.ts","./ConfigResolver.ts","./ConfigManager.ts","./ConfigReader.ts","./Device.ts","./EngineGlobal.ts","./LabelHelper.ts","./NodeHelper.ts","./ResManager.ts","./RichText2.ts","./Spine.ts","./SpriteHelper.ts","./TinyXml2.ts","./display.ts","./richText.ts","./Tool.ts","./VirtualItem.ts","./VirtualLayout.ts","./VirtualList.ts","./TLComLink.ts","./TLWord.ts","./TLWords.ts","./WWNode.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainDef.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"e3d15r404JEsqUzZHgOAFbR","MainDef",void 0);e("EWinType",function(e){return e[e.Unknown=0]="Unknown",e[e.Shop=1]="Shop",e[e.Weapon=2]="Weapon",e[e.Main=3]="Main",e[e.Role=4]="Role",e[e.Camp=5]="Camp",e[e.Challenge=6]="Challenge",e[e.Arena=7]="Arena",e[e.Chapter=8]="Chapter",e[e.ActGift=9]="ActGift",e[e.ActTime=10]="ActTime",e[e.ChapterWar=11]="ChapterWar",e[e.ActMain=12]="ActMain",e[e.Menu=13]="Menu",e[e.Onhook=14]="Onhook",e[e.Sweep=15]="Sweep",e[e.ActFuLi=16]="ActFuLi",e[e.DailyTask=17]="DailyTask",e[e.EMail=18]="EMail",e[e.Friend=19]="Friend",e[e.Bag=20]="Bag",e[e.Setting=21]="Setting",e[e.TryOut=22]="TryOut",e[e.Association=23]="Association",e[e.SignIn=24]="SignIn",e[e.DailyGift=25]="DailyGift",e[e.Recharge=26]="Recharge",e[e.MonthCard=27]="MonthCard",e[e.NewWar=28]="NewWar",e[e.FirstPay=29]="FirstPay",e[e.Gift=30]="Gift",e[e.SevenChallenge=31]="SevenChallenge",e[e.EquipCompose=32]="EquipCompose",e[e.XinPianDraw=33]="XinPianDraw",e[e.EquipDraw=34]="EquipDraw",e[e.ShopDaily=35]="ShopDaily",e[e.ShopDiamod=36]="ShopDiamod",e[e.ShopGold=37]="ShopGold",e[e.Hero=38]="Hero",e[e.Pet=39]="Pet",e[e.PetDraw=40]="PetDraw",e[e.Equip=41]="Equip",e[e.Head=42]="Head",e[e.Buytili=43]="Buytili",e[e.Max=44]="Max",e}({})),e("EGenerateWay",function(e){return e[e.Unknown=0]="Unknown",e[e.GM=1]="GM",e[e.SystemReward=2]="SystemReward",e}({})),e("EMoneyType",function(e){return e[e.CNY=1]="CNY",e[e.HKD=2]="HKD",e[e.MOP=3]="MOP",e[e.TWD=4]="TWD",e[e.USD=5]="USD",e[e.JPY=6]="JPY",e[e.KRW=7]="KRW",e[e.EUR=8]="EUR",e[e.GBP=9]="GBP",e[e.RUB=10]="RUB",e[e.IDR=11]="IDR",e[e.INR=12]="INR",e[e.AUD=13]="AUD",e[e.THB=14]="THB",e[e.VND=15]="VND",e[e.MMK=16]="MMK",e[e.CAD=17]="CAD",e[e.CHF=18]="CHF",e[e.SEK=19]="SEK",e[e.NOK=20]="NOK",e[e.NZD=21]="NZD",e[e.MXN=22]="MXN",e}({})),e("ESetType",function(e){return e[e.None=0]="None",e[e.Timer=1]="Timer",e[e.HideFilled=2]="HideFilled",e[e.PrioritySelect=3]="PrioritySelect",e[e.AutoFill=4]="AutoFill",e[e.HighlightNotes=5]="HighlightNotes",e[e.HighlightRegion=6]="HighlightRegion",e[e.HideExcludable=7]="HideExcludable",e[e.HighlightNumbers=8]="HighlightNumbers",e[e.Autocomplete=9]="Autocomplete",e[e.NumberCount=10]="NumberCount",e[e.Shake=11]="Shake",e[e.Notice=12]="Notice",e[e.FontSizeType=13]="FontSizeType",e[e.ColorType=14]="ColorType",e[e.Max=15]="Max",e}({})),e("EAttrType",function(e){return e[e.Diamond=0]="Diamond",e[e.MagicStick=1]="MagicStick",e[e.NextTips=2]="NextTips",e[e.Revocation=3]="Revocation",e[e.RandomCard=4]="RandomCard",e[e.Max=5]="Max",e}({})),e("ESudokuType",function(e){return e[e.DailyChallenge=0]="DailyChallenge",e[e.LevelChallenge=1]="LevelChallenge",e[e.QuickChallenge=2]="QuickChallenge",e}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/MainUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./Facade.ts","./UIControler.ts","./G.ts","./UITools.ts","./DailyChallengeUIModule.ts","./QuickDifficultyUIModule.ts","./SettingsModule.ts","./StatisticsUIModule.ts","./LevelChallengeUIModule.ts","./LanLabel.ts"],(function(e){var t,n,l,i,a,o,s,c,u,r,f,d,g,h,p;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,l=e._decorator,i=e.find},function(e){a=e.ClassConfig},function(e){o=e.default},function(e){s=e.UIControler},function(e){c=e.default},function(e){u=e.UITools},function(e){r=e.DailyChallengeModule},function(e){f=e.QuickDifficultyModule},function(e){d=e.SettingsModule},function(e){g=e.StatisticsModule},function(e){h=e.LevelChallengeModule},function(e){p=e.LanLabel}],execute:function(){n._RF.push({},"73fd8XYO+hGEpPk4enWpzKj","MainUICtrl",void 0);l.ccclass,l.property;var C=e("MainUIViewCtrl",function(e){function n(){for(var t,n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=e.call.apply(e,[this].concat(l))||this).labelDaily=void 0,t.labelLevel=void 0,t}t(n,e);var l=n.prototype;return l._onLoad=function(){this.initUI(),this.regClickHandlers()},l._onEnable=function(){this.setup(),this.updateLanShow()},l._onDisable=function(){},l._onStart=function(){},l._onUpdate=function(e){},l.refreshUI=function(){this.setup()},l.initUI=function(){this.labelDaily=i("gametypes/dailyChallenge/desc",this.node),this.labelLevel=i("gametypes/levelChallenge/desc",this.node)},l.updateLanShow=function(){for(var e=this.node.getComponentsInChildren(p),t=0;t<e.length;t++)e[t].language()},l.regClickHandlers=function(){this.RegClickHanlder("*",(function(e,t,n,l){c.navigator.Go(e)})),this.RegClickHanlder("daily-challenge",(function(e,t,n,l){o.OpenUI(r.sTag)})),this.RegClickHanlder("level-challenge",(function(e,t,n,l){o.OpenUI(h.sTag)})),this.RegClickHanlder("quick-challenge",(function(e,t,n,l){o.OpenUI(f.sTag)})),this.RegClickHanlder("statistics",(function(e,t,n,l){o.OpenUI(g.sTag)})),this.RegClickHanlder("color-palette",(function(e,t,n,l){var i=n.target;u.openColorPelette(i.worldPosition)})),this.RegClickHanlder("setting",(function(e,t,n,l){o.OpenUI(d.sTag)}))},l.setup=function(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),l=c.GetLanStr(10280+t)+c.GetLanStr(10300+n);u.SetLabelText(this.labelDaily,l);var i=c.leader.roleData.chapterId,a=c.GetLanStr(10227).replace(/\%s/,""+i);u.SetLabelText(this.labelLevel,a)},n}(s));a.addClass("MainUIViewCtrl",C),n._RF.pop()}}}));

System.register("chunks:///_virtual/MainUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts","./LanManager.ts"],(function(n){var e,t,u,i,o,a;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){u=n.ModuleBase},function(n){i=n.default},function(n){o=n.default},function(n){a=n.LanEvent}],execute:function(){t._RF.push({},"616edwrm21H16IG/w9UhpSE","MainUIModule",void 0);var r=n("MainUIModule",function(n){function t(){return n.call(this,t.sTag)||this}e(t,n);var u=t.prototype;return u.regNetCmds=function(){},u.unRegNetCmds=function(){},u.regGameEvents=function(){var n=this;this.regGameEvent(a.CHANGE_END,(function(e){var t=n.GetViewCtrl("MainUI");null==t||t.MarkRefresh()}))},u.unRegGameEvents=function(){this.unRegGameEvent(a.CHANGE_END)},u.DoWork=function(n){o.OpenUI("MainUI")},t}(u));r.sTag="MainUI",i.Set("MainUIModule",r),t._RF.pop()}}}));

System.register("chunks:///_virtual/mapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var a,n,r,t;return{setters:[function(e){a=e.createClass},function(e){n=e.cclegacy,r=e.find,t=e.Node}],execute:function(){n._RF.push({},"618d47tXs9IJ5Jj4iZjI28n","mapManager",void 0);var i=e("MapManager",function(){function e(){this.groundLayer=null,this.mapLayer=null,this.aboveLayer=null}var n=e.prototype;return n.init=function(){this.loadLayers()},n.loadLayers=function(){var e=r("Canvas");if(null==e)throw new Error("there is not canvas in scene.");var a=!1;this.groundLayer=r("MapGround",e),null==this.groundLayer&&(this.groundLayer=new t("MapGround"),e.addChild(this.groundLayer),a=!0),this.mapLayer=r("MapLayer",e),null==this.mapLayer&&(this.mapLayer=new t("MapLayer"),e.addChild(this.mapLayer),a=!0),this.aboveLayer=r("AboveLayer",e),null==this.aboveLayer&&(this.aboveLayer=new t("AboveLayer"),e.addChild(this.aboveLayer),a=!0),a&&(this.groundLayer.setSiblingIndex(0),this.mapLayer.setSiblingIndex(1),this.aboveLayer.setSiblingIndex(2))},a(e,null,[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),e._instance}}]),e}());i._instance=void 0;e("default",i.instance);n._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"a0e30szqk5CMKWo3UIwZ7y9","MathUtil",void 0);var r=t("MathUtil",function(){function t(){}return t.sign=function(t){return t>0?1:t<0?-1:0},t.progress=function(t,n,r){return t+(n-t)*r},t.lerp=function(t,n,r){return r>1?r=1:r<0&&(r=0),t*(1-r)+n*r},t.lerpAngle=function(n,r,e){var u=(r%=360)-(n%=360);return u>180?r=n-(360-u):u<-180&&(r=n+(360+u)),(t.lerp(n,r,e)%360+360)%360},t.angleTowards=function(t,n,r){var e=(n%=360)-(t%=360);e>180?n=t-(360-e):e<-180&&(n=t+(360+e));var u=n-t;return r>Math.abs(u)?n:((t+r*Math.sign(u))%360+360)%360},t.clamp=function(t,n,r){return t<n?n:t>r?r:t},t.probability=function(t){return Math.random()<t},t}());r.deg2Rad=Math.PI/180,r.rad2Deg=180/Math.PI,n._RF.pop()}}}));

System.register("chunks:///_virtual/MessageEventData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MessageManager.ts"],(function(e){var t,n,i;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy},function(e){i=e.MessageManager}],execute:function(){n._RF.push({},"e8449ErgfZKNa0FS6/XRq9b","MessageEventData",void 0);var s=function(){this.event=void 0,this.listener=void 0,this.object=void 0,this.once=void 0};e("MessageEventData",function(){function e(){this.events={}}var n=e.prototype;return n.on=function(e,t,n){var r=this.events[e];null==r&&(r=[],this.events[e]=r);var a=new s;a.event=e,a.listener=t,a.object=n,r.push(a),i.instance.on(e,t,n)},n.off=function(e){var n=this.events[e];if(n){for(var s,r=t(n);!(s=r()).done;){var a=s.value;i.instance.off(e,a.listener,a.object)}delete this.events[e]}},n.dispatchEvent=function(e,t){void 0===t&&(t=null),i.instance.dispatchEvent(e,t)},n.clear=function(){for(var e in this.events)this.off(e)},e}()),e("MessageEventDataSelf",function(){function e(){this.events={},this.canDuplicated=void 0,this.canDuplicated=!1}var t=e.prototype;return t.on=function(e,t,n,i){if(void 0===i&&(i=!1),e&&t){var r=this.events[e];null==r&&(r=[],this.events[e]=r);var a=r.length;if(a>0&&0==this.canDuplicated)for(var o=0;o<a;o++){var l=r[o];if(l.listener==t&&l.object==n)return}var v=new s;v.event=e,v.object=n,v.listener=t,v.once=i,r.push(v)}},t.off=function(e,t,n){var i=this.events[e];if(i)if(null!=t||null!=n){for(var s=i.length-1;s>=0;s--){var r=i[s];if(null==n){if(r.listener==t){i.splice(s,1);break}}else if(r.listener==t&&r.object==n){i.splice(s,1);break}}0==i.length&&delete this.events[e]}else delete this.events[e]},t.dispatchEvent=function(e,t){void 0===t&&(t=null);var n=this.events[e];if(null!=n){for(var i=null,s=n.length,r=0;r<s;r++){var a=n[r];a.listener.call(a.object,e,t),a.once&&(null==i&&(i=[]),i.push(r))}if(i&&i.length>0)for(var o=i.length-1;o>=0;o--)n.splice(i[o],1);0==n.length&&delete this.events[e]}},t.clear=function(){for(var e in this.events)this.off(e)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/MessageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MessageEventData.ts"],(function(n){var e,t,s;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy},function(n){s=n.MessageEventDataSelf}],execute:function(){t._RF.push({},"fcfd30x8vtInKvubqFupSVf","MessageManager",void 0),n("MessageManager",function(){function n(){this.mgr=void 0,this.mgr=new s}var t=n.prototype;return t.on=function(n,e,t,s){void 0===s&&(s=!1),this.mgr.on(n,e,t,s)},t.off=function(n,e,t){this.mgr.off(n,e,t)},t.dispatchEvent=function(n,e){void 0===e&&(e=null),this.mgr.dispatchEvent(n,e)},e(n,null,[{key:"instance",get:function(){return null==n._instance&&(n._instance=new n),n._instance}}]),n}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameManager.ts",["cc","./WXManager.ts","./ZJManager.ts"],(function(t){var o,a,r,n;return{setters:[function(t){o=t.cclegacy,a=t.sys},function(t){r=t.WXManager},function(t){n=t.ZJManager}],execute:function(){o._RF.push({},"53d744H/wJLnqsN7dQkyp9q","MiniGameManager",void 0),t("MiniGameManager",function(){function t(){}return t.initAds=function(){},t.loadAds=function(){this.isLoadAd||(a.platform==a.Platform.WECHAT_GAME?r._ins.loadAllAd():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.loadAllAd(),this.isLoadAd=!0)},t.showBanner=function(){a.platform==a.Platform.WECHAT_GAME?r._ins.showBanner():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.showBanner()},t.hideBanner=function(){a.platform==a.Platform.WECHAT_GAME?r._ins.hideBanner():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.hideBanner()},t.showIntersAd=function(){a.platform==a.Platform.WECHAT_GAME?r._ins.showIntersAd():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.showIntersAd()},t.showVideoAd=function(t,o){a.platform==a.Platform.WECHAT_GAME||a.platform==a.Platform.BYTEDANCE_MINI_GAME?a.platform==a.Platform.WECHAT_GAME?t&&t():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&t&&t():t&&t()},t.setStorage=function(t,o,r){return void 0===r&&(r=!1),a.platform==a.Platform.BYTEDANCE_MINI_GAME?tt.setStorageSync(t,o):a.platform==a.Platform.WECHAT_GAME?wx.setStorageSync(t,o):(r&&(o=JSON.stringify(o)),void a.localStorage.setItem(t,o))},t.getStorage=function(t,o){void 0===o&&(o=!1);var r=null;return a.platform==a.Platform.BYTEDANCE_MINI_GAME?r=tt.getStorageSync(t):a.platform==a.Platform.WECHAT_GAME?r=wx.getStorageSync(t):(r=a.localStorage.getItem(t),o&&(r=!r||Number.isNaN(r)||"null"==r.toString()?null:JSON.parse(r))),r},t.Login=function(){console.log("当前小游戏平台",a.platform),a.platform==a.Platform.WECHAT_GAME?r._ins.Login():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.login()},t.SetClipboardData=function(t){a.platform==a.Platform.WECHAT_GAME?r._ins.setClipboard(t):a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.setClipboard(t)},t.OpenSidebar=function(){a.platform==a.Platform.WECHAT_GAME||a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.openSidebar()},t.shareScreenVideo=function(){a.platform==a.Platform.WECHAT_GAME?r._ins.shareFriends():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.shareScreenVideo()},t.createVideoScreen=function(){a.platform==a.Platform.WECHAT_GAME||a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.createVideoScreen()},t.StopVideoScreen=function(){a.platform==a.Platform.WECHAT_GAME||a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.stopVideoScreen()},t.addTable=function(){a.platform==a.Platform.WECHAT_GAME||a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.addTable()},t.vibrateLong=function(){a.platform==a.Platform.WECHAT_GAME?r._ins.vibrateLong():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.vibrateLong()},t.vibrateShort=function(){a.platform==a.Platform.WECHAT_GAME?r._ins.vibrateShort():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.vibrateShort()},t.shareFriends=function(){a.platform==a.Platform.WECHAT_GAME?r._ins.shareFriends():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.shareFriends()},t.getRankFriend=function(){a.platform==a.Platform.WECHAT_GAME||a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.getRankFrend()},t.setRankData=function(){a.platform==a.Platform.WECHAT_GAME||a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.setRankData()},t.downLoadFile=function(t){console.log("开始下载"),a.platform==a.Platform.WECHAT_GAME?r._ins.downLoadFile(t):a.platform==a.Platform.BYTEDANCE_MINI_GAME&&n._ins.downLoadFile(t)},t}()).isLoadAd=!1,o._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts"],(function(e){var t,n,i,s;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){i=e.cclegacy},function(e){s=e.default}],execute:function(){i._RF.push({},"e80917DLv1JxJvR6DnWhpWf","ModuleBase",void 0),e("ModuleBase",function(){function e(t){this.ID=void 0,this.Tag=void 0,this._eventHandlers=void 0,this._netMsgHandlers=void 0,this._viewCtrl=void 0,this._viewCtrls=void 0,this._canUpdate=!1,this.ID=e.GenModelID,this.Tag=t,this._eventHandlers=new Map,this._netMsgHandlers=new Map,this._viewCtrls=new Map}var i=e.prototype;return i.OnChangedTag=function(e,t,n){},i.OnTextChanged=function(e,t,n,i){},i.OnEditDidEnded=function(e,t,n){},i.regNetMsgHandler=function(e,t){this._netMsgHandlers.set(e,t.bind(this)),s.RegNetMsgHandler(e,this)},i.unRegNetMsgHandler=function(e){this._netMsgHandlers.delete(e),s.UnRegNetMsgHandler(e,this)},i.regGameEvent=function(e,t){this._eventHandlers.set(e,t.bind(this)),s.RegGameEventHandler(e,this)},i.unRegGameEvent=function(e){if(Array.isArray(e))for(var n,i=t(e);!(n=i()).done;){var r=n.value;this._eventHandlers.delete(r)}else this._eventHandlers.delete(e);s.UnRegGameEventHandler(e,this)},i.setup=function(){this.regGameEvents(),this.regNetCmds()},i.unInstall=function(){this.unRegNetCmds(),this.unRegGameEvents(),s.UnInstallModule(this)},i.CanUpdate=function(){return this._canUpdate},i.Update=function(e){},i.DoWork=function(e){},i.DoNetMsg=function(e){var t=this._netMsgHandlers.get(e.cmdID);t&&t(e)},i.DoGameEvent=function(e){var t=this._eventHandlers.get(e.name);return!t||t(e)},i.DoGameEvent2=function(e,t){void 0===t&&(t=null);var n=this._eventHandlers.get(e);return!n||n(t)},i.SendGameEvent=function(e){s.SendGameEvent(e)},i.SendGameEvent2=function(e,t){void 0===t&&(t=null),s.SendGameEvent2(e,t)},i.PostGameEvent=function(e){s.PostGameEvent(e)},i.GetViewCtrl=function(e){return this._viewCtrls.get(e)},i.AddViewCtrl=function(e,t){null==this._viewCtrl&&(this._viewCtrl=t),this._viewCtrls.set(e,t)},i.RemoveViewCtrl=function(e){this._viewCtrl&&this._viewCtrl.uiName===e&&(this._viewCtrl=null),this._viewCtrls.delete(e),console.info("remove viewctrl",e)},n(e,null,[{key:"GenModelID",get:function(){return e._autoMODEL_ID+=1,e._autoMODEL_ID}}]),e}())._autoMODEL_ID=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleConfig.ts",["cc","./FrameDefine.ts","./LayerManager.ts"],(function(e){var o,t,a,u;return{setters:[function(e){o=e.cclegacy},function(e){t=e.EUIShowMode,a=e.EUIRouteType},function(e){u=e.UILayerDef}],execute:function(){o._RF.push({},"a71f8n8tEhIDaMfWVYu/oiy","ModuleConfig",void 0);e("default",{modules:["LoginModule","MainUIModule","ResCheckModule","BattleModule","GamePassModule","GamePauseModule","GameEndModule","StatisticsModule","ColorPeletteModule","SettingsModule","DailyChallengeModule","PrizeModule","LevelChallengeModule","PaintModule","QuickDifficultyModule","PlayHelpModule"],guis:[{uiName:"ResCheck",res_bundle:"startup",res_path:"login_ui/res_check",layerType:u.Main,showMode:t.HideOther,routeMode:a.None},{uiName:"Login",res_bundle:"startup",res_path:"login_ui/login",layerType:u.Main,showMode:t.HideOther,routeMode:a.None,enter_tween:"tw1",leave_tween:"tw3"},{uiName:"MainUI",res_bundle:"gui",res_path:"ui_main",layerType:u.Main,showMode:t.HideOther,routeMode:a.None},{uiName:"Battle",res_bundle:"gui",res_path:"ui_battle",layerType:u.Main,showMode:t.HideOther,routeMode:a.None},{uiName:"GamePass",res_bundle:"gui",res_path:"ui_game_pass",layerType:u.Main,showMode:t.Normal,routeMode:a.None},{uiName:"GamePause",res_bundle:"gui",res_path:"ui_game_pause",layerType:u.Main,showMode:t.Normal,routeMode:a.None},{uiName:"GameEnd",res_bundle:"gui",res_path:"ui_game_end",layerType:u.Main,showMode:t.Normal,routeMode:a.None},{uiName:"Statistics",res_bundle:"gui",res_path:"ui_statistics",layerType:u.Main,showMode:t.HideOther,routeMode:a.None},{uiName:"ColorPelette",res_bundle:"gui",res_path:"ui_color_palette",layerType:u.Main,showMode:t.Normal,routeMode:a.None},{uiName:"Settings",res_bundle:"gui",res_path:"ui_setting",layerType:u.Main,showMode:t.Normal,routeMode:a.None},{uiName:"UserCenter",module_tag:"Settings",res_bundle:"gui",res_path:"user_center",layerType:u.Popup,showMode:t.Normal,routeMode:a.None},{uiName:"Language",module_tag:"Settings",res_bundle:"gui",res_path:"language_select",layerType:u.Popup,showMode:t.Normal,routeMode:a.None},{uiName:"DailyChallenge",res_bundle:"gui",res_path:"ui_daily_challenge",layerType:u.Main,showMode:t.HideOther,routeMode:a.None},{uiName:"Prize",res_bundle:"gui",res_path:"ui_prize",layerType:u.Main,showMode:t.HideOther,routeMode:a.None},{uiName:"LevelChallenge",res_bundle:"gui",res_path:"ui_level_challenge",layerType:u.Main,showMode:t.HideOther,routeMode:a.None},{uiName:"Paint",res_bundle:"gui",res_path:"ui_paint",layerType:u.Main,showMode:t.HideOther,routeMode:a.None},{uiName:"QuickDifficulty",res_bundle:"gui",res_path:"ui_quick_difficulty",layerType:u.Main,showMode:t.HideOther,routeMode:a.None},{uiName:"PlayHelp",res_bundle:"gui",res_path:"ui_play_help",layerType:u.Main,showMode:t.HideOther,routeMode:a.None}],audios:{},tweens:{fly_in_left:{template:"fly_in_left",duration:.2},fly_out_left:{template:"fly_out_left",duration:.2},fly_in_right:{template:"fly_in_right",duration:.2},fly_out_right:{template:"fly_out_right",duration:.2},fly_in_top:{template:"fly_in_top",duration:.12},fly_out_top:{template:"fly_out_top",duration:.2},fly_in_bottom:{template:"fly_in_bottom",duration:.12},fly_out_bottom:{template:"fly_out_bottom",duration:.2},fly_in_scale:{template:"fly_in_scale",duration:.12,duration2:.08},fly_out_scale:{template:"fly_out_scale",duration:.2}}});o._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleDef.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"6cdc84XjYpIJZs1++qgwn4Z","ModuleDef",void 0);var t=e("AssetBundleDef",(function(){}));t.DEMO_ROOSTER="module_demo_rooster",t.DEMO_TANK="module_demo_tank",t.EXTRA="module_extra",t.SFX="sfx",t.SOUND="sound",t.GAMERES="gameres",t.GUI="gui",t.GUISEC="gui_second",t.RES="resources",t.Cfgs="cfgs",t.StartUp="startup",s._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"a468f2pGhFD0qdF6h6r5q9H","ModuleManager",void 0);e("ModuleManager",function(){function e(){this.mapID2Tags=void 0,this.mapName2Modules=void 0,this._modulesDirty=!0,this.tmpModules=void 0,this._startUpdated=!1,this.mapID2Tags=new Map,this.mapName2Modules=new Map,this.tmpModules=[]}var s=e.prototype;return s.RegModule=function(e){this.mapName2Modules.get(e.Tag)||(this.mapID2Tags.set(e.ID,e.Tag),this.mapName2Modules.set(e.Tag,e),e.setup(),this._modulesDirty=!0)},s.UnRegModule=function(e){this.mapID2Tags.get(e.ID)===e.Tag&&this.mapID2Tags.delete(e.ID),this.mapName2Modules.get(e.Tag)===e&&this.mapName2Modules.delete(e.Tag),this._modulesDirty=!0},s.GetModuleByID=function(e){var t=this.mapID2Tags.get(e);return this.mapName2Modules.get(t)},s.GetModule=function(e){return this.mapName2Modules.get(e)},s.Update=function(e){if(1==this._modulesDirty){this._modulesDirty=!1,this.tmpModules=[];for(var s,a=t(this.mapName2Modules.values());!(s=a()).done;){var o=s.value;o&&o.CanUpdate()&&this.tmpModules.push(o)}}for(var u,i=t(this.tmpModules);!(u=i()).done;){u.value.Update(e)}},e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/MsgBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIOperator.ts","./Facade.ts","./FrameDefine.ts","./LayerManager.ts","./ModuleDef.ts"],(function(t){var n,e,i,o,s,a,c,l,r,u,g,h;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t.assetManager,o=t.Prefab,s=t.instantiate,a=t.Label},function(t){c=t.UIOperator},function(t){l=t.default},function(t){r=t.NoticeBtnType},function(t){u=t.UILayerManager,g=t.UILayerDef},function(t){h=t.AssetBundleDef}],execute:function(){e._RF.push({},"aba6ch1BoRPuY8L35qaOzO0","MsgBox",void 0);var f=t("EMsgBoxSize",function(t){return t[t.Normal=1]="Normal",t[t.Big=2]="Big",t}({}));t("MsgBox",function(){function t(){this._inModal=!1,this._modalReqs=[],this.msgBoxPrefab=null,this._inited=!1,this._isInitMsgBox=!1,this.msgboxPrefabPath="msgbox"}var e=t.prototype;return e.init=function(t){this._inited?t():this.prepareRes(t)},e.prepareRes=function(t){var n=this,e=i.getBundle(h.GUI);e&&null==this.msgBoxPrefab&&e.load(this.msgboxPrefabPath,o,(function(e,i){e?console.log(e):(n.msgBoxPrefab=i,n._isInitMsgBox=!0,t())}))},e.checkInit=function(){this._isInitMsgBox&&(this._inited=!0)},e.ShowMsgBox=function(t,n,e,i,o,s){var a=this;void 0===n&&(n=""),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=f.Normal),this.init((function(){a.checkInit(),a._inited&&(a._inModal?a._modalReqs.push({szTp:s,btnTp:t,strTitle:n,strText:e,cbok:i,cbcancel:o}):a._showMsgBox(t,n,e,i,o,s))}))},e._showMsgBox=function(t,n,e,i,o,l){void 0===o&&(o=null),void 0===l&&(l=f.Normal);var r=this.msgBoxPrefab;if(null!=r){var h=s(r);if(this.setMsgBoxType(h,t),h){var d=h.getComponent(c);if(null==d)return;d.callback=this.onClick.bind(this),d.callbackArg={cbok:i,cbCancel:o}}if(null!=h)this._inModal=!0,h.getChildByPath("bg/title").getComponent(a).string=n,h.getChildByPath("bg/text").getComponent(a).string=e,u.instance.addToLayer(g.Popup,h)}},e.onClick=function(t,n,e,i){null==t||"cancel"==t?i&&i.cbCancel&&i.cbCancel():"ok"==t&&i&&i.cbok&&i.cbok(),this._inModal=!1;var o=e.node;if(o){var s={name:"",cb:(null,function(){o.destroy()})};l.PostGameEvent(s)}if(this._modalReqs.length>0){var a=this._modalReqs.shift();this.ShowMsgBox(a.btnTp,a.strTitle,a.strText,a.cbok,a.cbcancel,a.szTp)}},e.setMsgBoxType=function(t,n){var e=t.getChildByPath("bg/Node/OKBtn"),i=t.getChildByPath("bg/Node/cancel");n==r.OK_CANCEL?(e.active=!0,i.active=!0):(e.active=!0,i.active=!1)},n(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/MyNetNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"a6099qHccNBH6tEd9RqtxEb","MyNetNode",void 0);var s=t("NetNodeState",function(t){return t[t.Closed=0]="Closed",t[t.Connecting=1]="Connecting",t[t.Checking=2]="Checking",t[t.Working=3]="Working",t}({})),i=t("ENetStatusChanged",function(t){return t[t.None=0]="None",t[t.Connecting=1]="Connecting",t[t.ReConnecting=2]="ReConnecting",t[t.Working=3]="Working",t[t.Closing=4]="Closing",t[t.Closed=5]="Closed",t[t.Error=6]="Error",t}({}));t("MyNetNode",function(){function t(){this._connectOptions=null,this._autoReconnect=0,this._state=s.Closed,this._socket=null,this._requests=Array(),this._isSocketInit=!1,this._isSocketOpen=!1,this._reconnectTimer=null,this._reconnetTimeOut=8e6,this._receiveMsgTimer=null,this._receiveTime=6e6,this.cbConnectedCheck=null,this.disconnectCallback=null,this.cbNetStatusChanged=null,this.packetHeler=void 0}var n=t.prototype;return n.isAutoReconnect=function(){return 0!=this._autoReconnect},n.Clean=function(){this.cbConnectedCheck=null,this.disconnectCallback=null,this.cbNetStatusChanged=null},n.refuseReconnect=function(){this._autoReconnect=0,this.clearTimer()},n.CanHeart=function(){return null!=this._socket&&this._state==s.Working},n.IsConnecting=function(){var t=this._state;return null!=this._socket&&(t==s.Connecting||t==s.Checking)},n.IsWorking=function(){return null!=this._socket&&this._state==s.Working},n.IsClosed=function(){return null==this._socket||this._state==s.Closed},n.init=function(t){this._socket=t},n.connect=function(t){return!(!this._socket||this._state!=s.Closed)&&(this._isSocketInit||this.initSocket(),this._state=s.Connecting,this.cbNetStatusChanged&&this.cbNetStatusChanged(i.Connecting),!!this._socket.connect(t)&&(null==this._connectOptions&&"number"==typeof t.autoReconnect&&(this._autoReconnect=t.autoReconnect),this._connectOptions=t,!0))},n.initSocket=function(){var t=this;this._socket&&(this._socket.onConnected=function(e){t.onConnected(e)},this._socket.onMessage=function(e){t.onMessage(e)},this._socket.onError=function(e){t.onError(e)},this._socket.onClosed=function(e){t.onClosed(e)},this._isSocketInit=!0)},n.onConnected=function(t){var e=this;console.log("网络已连接"),this._isSocketOpen=!0,null!==this.cbConnectedCheck?(this._state=s.Checking,this.cbConnectedCheck((function(){e.onChecked()}))):this.onChecked()},n.onChecked=function(){if(this._state=s.Working,this.cbNetStatusChanged&&this.cbNetStatusChanged(i.Working),this._requests&&this._requests.length>0)for(var t,n=e(this._requests);!(t=n()).done;){var o=t.value;this.send(o)}this._requests.length=0},n.onError=function(t){this.cbNetStatusChanged&&this.cbNetStatusChanged(i.Error,t)},n.onClosed=function(t){var e=this;this.clearTimer(),!this.disconnectCallback||this.disconnectCallback()?this.isAutoReconnect()?(this.cbNetStatusChanged&&this.cbNetStatusChanged(i.ReConnecting),this._reconnectTimer=setTimeout((function(){e._socket.close(),e._state=s.Closed,e.connect(e._connectOptions),e._autoReconnect>0&&(e._autoReconnect-=1)}),this._reconnetTimeOut)):(this._state=s.Closed,this.cbNetStatusChanged&&this.cbNetStatusChanged(i.Closed,t)):console.log("断开连接")},n.close=function(t,e){this.clearTimer(),this._requests.length=0,this._socket?this._socket.close(t,e):(this._state=s.Closed,this.cbNetStatusChanged&&this.cbNetStatusChanged(i.Closed))},n.closeSocket=function(t,e){var n;null==(n=this._socket)||n.close(t,e)},n.send=function(t,e){return void 0===e&&(e=!1),this._state==s.Working||e?this._socket.send(t):this._state==s.Checking||this._state==s.Connecting?(this._requests.push(t),0):-1},n.onMessage=function(t){this.packetHeler.Recv(t)},n.resetReceiveMsgTimer=function(){var t=this;null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),this._receiveMsgTimer=setTimeout((function(){t._socket.close()}),this._receiveTime)},n.clearTimer=function(){null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),null!==this._reconnectTimer&&clearTimeout(this._reconnectTimer)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Navigator.ts",["cc","./Facade.ts"],(function(t){var e,a;return{setters:[function(t){e=t.cclegacy},function(t){a=t.default}],execute:function(){e._RF.push({},"5d758i0NQVLRJRzY3ASA+yR","Navigator",void 0);var o=function(){this.viewCtrlName=void 0,this.moduleTag=void 0,this.data=void 0};t("TLNavigator",function(){function t(){this.router=void 0,this.router=new Map}var e=t.prototype;return e.Add=function(t,e,a,r){var i=new o;i.viewCtrlName=e,i.moduleTag=a,i.data=r,this.router.set(t,i)},e.Go=function(t){var e,o=this.router.get(t);return null==o?0:o.moduleTag&&o.moduleTag.length>0?(null==(e=a.GetModule(o.moduleTag))||e.DoWork(o.data),1):o.viewCtrlName&&o.viewCtrlName.length>0?(a.OpenUI(o.viewCtrlName),1):0},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/NavigatorConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"28ee1E3r8NI0YZbD0FxpCiF","NavigatorConfig",void 0);n("NavigatorConfig",function(){function n(){}return n.RegRules=function(n){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/NetClient.ts",["cc","./MyNetNode.ts","./NetInterface.ts","./PacketHeler.ts","./WebSock.ts"],(function(e){var t,n,i,s,o,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.ENetStatusChanged,i=e.MyNetNode},function(e){s=e.NetMessageCmd},function(e){o=e.PacketHelper},function(e){c=e.WebSock}],execute:function(){t._RF.push({},"e0d55MySTJD3I2JZgquJyAh","NetClient",void 0);e("ENetPacketType",function(e){return e[e.ProtoBuf=0]="ProtoBuf",e[e.Pako=1]="Pako",e[e.RawSerial=2]="RawSerial",e[e.Json=3]="Json",e[e.String=4]="String",e[e.Bytes=5]="Bytes",e}({}));var a=e("ENetClientOperation",function(e){return e[e.None=0]="None",e[e.AuthCheck=1]="AuthCheck",e[e.DisConnect=2]="DisConnect",e[e.Dispatch=3]="Dispatch",e[e.NetStatusChanged=4]="NetStatusChanged",e[e.Max=5]="Max",e}({}));e("NetClient",function(){function e(){this.noetNde=null,this.cbs=void 0,this.protoBuilder=void 0,this.packetHeler=void 0,this._keepAliveTimer=null,this.packetHeler=new o,this.packetHeler.cbDispatch=this.OnMessage.bind(this),this.noetNde=new i,this.noetNde.packetHeler=this.packetHeler,this.cbs=[]}var t=e.prototype;return t.Init=function(){this.noetNde.init(new c),this.noetNde.cbNetStatusChanged=this.statusChanged.bind(this)},t.Connect=function(e,t,n){var i="";i=!0===e?"wss://"+t+":"+n:"ws://"+t+":"+n,console.log(i),this.noetNde.connect({url:i,autoReconnect:0})},t.IsClosed=function(){return null==this.noetNde||this.noetNde.IsClosed()},t.IsConnecting=function(){var e;return null==(e=this.noetNde)?void 0:e.IsConnecting()},t.Close=function(){this.noetNde.close(void 0,void 0)},t.SendData=function(e,t){return this.noetNde.send(e,t)},t.OnMessage=function(e,t){var n=new s(e,t),i=this.cbs[a.Dispatch];i&&i(n)},t.statusChanged=function(e,t){var i=this.cbs[a.NetStatusChanged];i?i(e,t):console.log("net status change to: "+n[e]+", "+(t||""))},t.On=function(e,t){this.cbs[e]=t,e==a.AuthCheck?this.noetNde.cbConnectedCheck=t:e==a.DisConnect&&(this.noetNde.disconnectCallback=t)},t.Clean=function(){var e;this.cbs.length=0,null==(e=this.noetNde)||e.Clean()},t.StartHeart=function(e,t){var n=this;this._keepAliveTimer=setInterval((function(){var e;null==n.noetNde||n.noetNde.IsClosed()?null!=n._keepAliveTimer&&clearInterval(n._keepAliveTimer):null!=(e=n.noetNde)&&e.CanHeart()&&t()}),e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/NetCmdSerialID.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"328e3hJs6VCe7ntl69n0hPy","NetCmdSerialID",void 0),t("NetCmdSerialID",function(){function t(){}return t.Gen=function(){return t._autoID+=1,t._autoID},t}())._autoID=0,e._RF.pop()}}}));

System.register("chunks:///_virtual/NetInterface.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7181fygIdJGQ6nzmzWjVtr2","NetInterface",void 0);t("NetMessageCmd",(function(t,e){this.cmdID=void 0,this.msgBuffer=void 0,this.msgObj=void 0,this.cmdID=t,this.msgBuffer=e}));e._RF.pop()}}}));

System.register("chunks:///_virtual/NetMessageHub.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts","./G.ts","./GameCmdIDs.ts","./NetClient.ts","./Utf8Util.ts"],(function(e){var t,n,r,a,i,u,f;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy},function(e){r=e.default},function(e){a=e.default},function(e){i=e.default},function(e){u=e.ENetPacketType},function(e){f=e.Utf8Utils}],execute:function(){var s;n._RF.push({},"0477fIRQelOc7B62dW8zr+c","NetMessageHub",void 0);var c=function(){function e(){}var n=e.prototype;return n.NetEncode=function(e,t){var n=i.GetDef(e);if(n.tpPacket==u.RawSerial)return a.gameRawBuilder.Encode(e,t);if(n.tpPacket==u.Json){var r=JSON.stringify(t),s=f.parse(r),c=new ArrayBuffer(4+(null==s?0:s.length));return new DataView(c).setInt32(0,e,!0),new Uint8Array(c,4).set(s),new Uint8Array(c)}if(n.tpPacket==u.String){var l=f.parse(t),o=new ArrayBuffer(4+(null==l?0:l.length));return new DataView(o).setInt32(0,e,!0),new Uint8Array(o,4).set(l),new Uint8Array(o)}if(n.tpPacket==u.Bytes){if(t instanceof Uint8Array){var g=new ArrayBuffer(4+t.length);return new DataView(g,0).setInt32(0,e,!0),new Uint8Array(g,4).set(t),new Uint8Array(g)}if(t instanceof ArrayBuffer){var y=new ArrayBuffer(4+t.byteLength);return new DataView(y,0).setInt32(0,e,!0),new Uint8Array(y,4).set(new Uint8Array(t,0)),new Uint8Array(y)}console.log("cmdid="+e+", rcv obj type= "+typeof t)}else n.tpPacket,u.ProtoBuf;return null},n.NetDecode=function(e,t){var n=i.GetDef(e);if(n.tpPacket==u.RawSerial)return a.gameRawBuilder.Decode(e,t);if(n.tpPacket!=u.ProtoBuf){if(n.tpPacket==u.String)return f.stringify(t);if(n.tpPacket==u.Bytes)return t;var r=f.stringify(t);return null==r||r.length<=0?null:JSON.parse(r)}},n.OnRcvMsg=function(e){null==e.msgObj&&null!=e.msgBuffer&&(e.msgObj=this.NetDecode(e.cmdID,e.msgBuffer)),e.msgBuffer=null;var t=JSON.stringify(e.msgObj);console.log("网络消息: cmdid="+e.cmdID+", content="+t),r.OnNetMsgRecv(e)},t(e,null,[{key:"Instance",get:function(){return this._instance}}]),e}();s=c,c._instance=new s;e("default",c.Instance);n._RF.pop()}}}));

System.register("chunks:///_virtual/NetMsgCode.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b8c95YQdmRNSI8D0FyQh7gG","NetMsgCode",void 0);var c=e("NetMsgCode",(function(){}));c.C2S_LOGIN=1,c.S2C_LOGIN=2,c.S2C_CHENGJIU_STATUS=111,t._RF.pop()}}}));

System.register("chunks:///_virtual/NetMsgManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){var e,t;return{setters:[function(s){e=s.createForOfIteratorHelperLoose},function(s){t=s.cclegacy}],execute:function(){t._RF.push({},"c10c7FJCw1HwICJDxtX4Zgb","NetMsgManager",void 0);s("NetMsgManager",function(){function s(){this._mapCode2Sensors=null,this._msgs=null,this._mapCode2Sensors=new Map,this._msgs=[]}var t=s.prototype;return t.Push=function(s){this._msgs.push(s)},t.ClearALL=function(){this._mapCode2Sensors.clear()},t.RegNetMsgHandler=function(s,e){this._mapCode2Sensors.get(s);this._mapCode2Sensors.set(s,e)},t.UnRegNetMsgHandler=function(s,e){var t=this._mapCode2Sensors.get(s);t&&t==e&&this._mapCode2Sensors.delete(s)},t.Dispatch=function(s){var e=this._mapCode2Sensors.get(s.cmdID);e&&e.DoNetMsg(s)},t.Update=function(){if(this._msgs&&this._msgs.length>0){for(var s,t=e(this._msgs);!(s=t()).done;){var n=s.value;null!=n&&this.Dispatch(n)}this._msgs.length=0}},s}());t._RF.pop()}}}));

System.register("chunks:///_virtual/NetProtocolPako.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"da704+ti85CULY/1ip9lunl","NetProtocolPako",void 0);t("NetProtocolPako",function(){function t(){}var e=t.prototype;return e.getHeadlen=function(){return 0},e.getHearbeat=function(){return""},e.getPackageLen=function(t){return t.toString().length},e.checkResponsePackage=function(t){return!0},e.handlerResponsePackage=function(t){return 1==t.code&&(t.isCompress&&(t.data=(e=t.data,n=e.split("").map((function(t){return t.charCodeAt(0)})),a=new Uint8Array(n),pako.inflate(a,{to:"string"}))),t.data=JSON.parse(t.data),!0);var e,n,a},e.handlerRequestPackage=function(t){var e,n=t.action+"_"+t.method;return t.callback=n,t.isCompress&&(t.data=(e=t.data,pako.gzip(e,{to:"string"}))),n},e.getPackageId=function(t){return t.callback},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/NodeHelper.ts",["cc"],(function(n){var e,t,o,i,r,c,a,h,s,u;return{setters:[function(n){e=n.cclegacy,t=n.Node,o=n.UITransform,i=n.instantiate,r=n.Vec3,c=n.Vec2,a=n.Size,h=n.warn,s=n.approx,u=n.EPSILON}],execute:function(){e._RF.push({},"201212xo2JA7LmyBqe7I4u7","NodeHelper",void 0);n("NodeHelper",function(){function n(){}return n.create=function(n){var e=new t(n||"Node"),i=e.addComponent(o);return i.setAnchorPoint(.5,.5),i.setContentSize(0,0),e},n.clone=function(n){var e=i(n);return e},n.convertToNodeSpace=function(n,e,t){var i=n.getComponent(o);null==i&&(i=n.addComponent(o));var a=i.convertToNodeSpaceAR(new r(e.x,e.y,0));return t&&(a.x+=i.anchorX*i.width,a.y+=i.anchorY*i.height),new c(a.x,a.y)},n.convertToWorldSpace=function(n,e){var t=n.getComponent(o);null==t&&(t=n.addComponent(o));var i=t.convertToWorldSpaceAR(new r(e.x,e.y,0));return new c(i.x,i.y)},n.isVisible=function(n){return n&&n.active},n.setVisible=function(n,e){n.active=e},n.getContentSize=function(n){var e=n.getComponent(o);return e?new a(e.contentSize):new a},n.setContentSize=function(n,e,t){var i=n.getComponent(o);if(i){var r=i.contentSize.width,a=i.contentSize.height,f=0,d=0;if(void 0===t){if(s((e=e).width,r,u)&&s(e.height,a,u))return;i.setContentSize(e),f=e.x-r,d=e.y-a}else{if(s(e,r,u)&&s(t,a,u))return;i.setContentSize(e,t),f=e-r,d=t-a}if(0!=i.anchorPoint.x||0!=i.anchorPoint.y){var v=new c(f*i.anchorPoint.x,d*i.anchorPoint.y);if(0!=v.x||0!=v.y)for(var l=0;l<n.children.length;l++){var p=n.children[l],m=p.position;p.setPosition(m.x-v.x,m.y-v.y)}}}else h("setContentSize failed, node has no UITransform component",this.name)},n.getAnchorPoint=function(n){var e=n.getComponent(o);return e?new c(e.anchorPoint):new c},n.setAnchorPoint=function(n,e,t){var i=n.getComponent(o);if(i){var r=i.anchorX,c=i.anchorY,a=i.contentSize,s=0,u=0;if(void 0===t){if((e=e).x===r&&e.y===c)return;i.setAnchorPoint(e.x,e.y),s=a.width*(e.x-r),u=a.height*(e.y-c)}else{if(e===r&&t===c)return;i.setAnchorPoint(e,t),s=a.width*(e-r),u=a.height*(t-c)}for(var f=0;f<n.children.length;f++){var d=n.children[f],v=d.position;d.setPosition(v.x-s,v.y-u)}}else h("setAnchorPoint failed, node has no UITransform component",this.name)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Notes.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"95bccdA6QBEebfEuQG+GpC4","Notes",void 0);t("Notes",function(){function t(){this.numSet=new Set}var e=t.prototype;return e.hasNum=function(t){return!(!t||Number.isNaN(t))&&this.numSet.has(t)},e.appendNum=function(t){this.numSet.add(t)},e.removeNum=function(t){this.numSet.delete(t)},e.getAllNum=function(){return Array.from(this.numSet)},e.clearAllNum=function(){this.numSet.clear()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/NotesCommand.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"0f17aTpYDFKMLSadqV2sPnq","NotesCommand",void 0);t("NotesCommend",function(){function t(t,i,o){this.cell=void 0,this.gridBoard=void 0,this.numList=void 0,this.gridBoard=t,this.cell=i,this.numList=o}var i=t.prototype;return i.execute=function(){var t=this.cell.RowCol,i=t[0],o=t[1];this.gridBoard.setNotes(i,o,this.numList)},i.undo=function(){var t=this.cell.RowCol,i=t[0],o=t[1];this.gridBoard.setNotes(i,o,this.numList)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/Notices.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIOperator.ts","./FrameDefine.ts","./Facade.ts","./ModuleDef.ts"],(function(n){var t,e,i,o,s,a,l,c,r,u,f;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,i=n.assetManager,o=n.Prefab,s=n.instantiate,a=n.Label,l=n.find},function(n){c=n.UIOperator},function(n){r=n.NoticeBtnType},function(n){u=n.default},function(n){f=n.AssetBundleDef}],execute:function(){e._RF.push({},"a1194hrV7xLZa25nRJ64bFX","Notices",void 0),n("Notices",function(){function n(){this._modalReqs=[],this._normalPrefab=null,this._normalPrefab2=null,this._inited=!1,this._showing=!1}var e=n.prototype;return e.init=function(){this.prepareRes(),this._inited=!0},e.prepareRes=function(){var n=this,t=i.getBundle(f.GUI);t&&(null==this._normalPrefab&&t.load("notice_normal",o,(function(t,e){t?console.log(t):n._normalPrefab=e})),null==this._normalPrefab2&&t.load("notice_normal2",o,(function(t,e){t?console.log(t):n._normalPrefab2=e})))},e.AddMsg=function(n,t,e,i,o){if(void 0===t&&(t=""),void 0===i&&(i=null),void 0===o&&(o=null),0==this._inited&&this.init(),this._showing)this._modalReqs.push({btnTp:n,strTitle:t,strText:e,cbok:i,cbcancel:o});else{var u=n==r.ONLY_OK?this._normalPrefab:this._normalPrefab2;if(null!=u){var f=s(u);if(f){var h=f.getComponent(c);if(null==h)return;h.callback=this.onClick.bind(this),h.callbackArg={cbok:i,cbcancel:o}}if(null!=f){this._showing=!0,f.getChildByName("title").getComponent(a).string=t,f.getChildByName("text").getComponent(a).string=e,f.setPosition(0,0);var d=l("Canvas/GameUI/popup/notices");f.parent=d}}}},e.onClick=function(n,t,e,i){null==t||"cancel"==t?i&&i.cbCancel&&i.cbCancel():"ok"==t&&i&&i.cbok&&i.cbok();var o=e.node;if(o){var s={name:"",cb:(null,function(){o.destroy()})};u.PostGameEvent(s)}if(this._showing=!1,this._modalReqs.length>0){var a=this._modalReqs.shift();this.AddMsg(a.btnTp,a.strTitle,a.strText,a.cbok,a.cbcancel)}},t(n,null,[{key:"instance",get:function(){return null==n._instance&&(n._instance=new n),n._instance}}]),n}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"18adffmEHNPiYcbM4pe2nRh","ObjectUtil",void 0);t("ObjectUtil",function(){function t(){}return t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;var e=null;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=this.deepCopy(t[n]);return e}if(t instanceof Object){for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=this.deepCopy(t[c]));return e}console.warn("不支持的类型："+e)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/OrbitCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,a,n,s,u,l,h,c,p,g,R,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){n=t.cclegacy,s=t._decorator,u=t.Vec3,l=t.Quat,h=t.Node,c=t.input,p=t.Input,g=t.lerp,R=t.Component,d=t.Vec2}],execute:function(){var _,f,b,y,w,m,S,T,v,x,z,E,O,C,M,D,P,Y,k,A,W,H,j,F,L,Q,U,I,V,N,X;n._RF.push({},"7033dhvpMdJ/5aOWYILpQPo","OrbitCamera",void 0);var B=s.ccclass,J=s.property,q=new u,G=new u,K=new l;t("OrbitCamera",(_=B("OrbitCamera"),f=J({tooltip:"是否启动触摸控制"}),b=J({tooltip:"是否开启启用缩放半径（鼠标滚轮控制摄像机与目标距离）"}),y=J({tooltip:"摄像机与目标的半径缩放速度",visible:function(){return!0===this.enableScaleRadius}}),w=J({tooltip:"摄像机与目标的半径最小值",visible:function(){return!0===this.enableScaleRadius}}),m=J({tooltip:"摄像机与目标的半径最大值",visible:function(){return!0===this.enableScaleRadius}}),S=J({tooltip:"自动旋转是否开启"}),T=J({tooltip:"自动旋转速度",visible:function(){return!0===this.autoRotate}}),v=J({tooltip:"旋转速度"}),x=J({tooltip:"跟随速度"}),z=J({tooltip:"X轴旋转范围（人物上下看的角度控制）"}),E=J({tooltip:"摄像机与目标的距离（以玩家为中心环绕球半径）"}),O=J({type:h,tooltip:"跟随目标"}),C=J({type:u,tooltip:"目标旋转偏移量（初始旋转向量）"}),M=J({tooltip:"是否跟随目标 Y 轴旋转"}),_((Y=e((P=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,o(e,"enableTouch",Y,r(e)),o(e,"enableScaleRadius",k,r(e)),o(e,"radiusScaleSpeed",A,r(e)),o(e,"minRadius",W,r(e)),o(e,"maxRadius",H,r(e)),o(e,"autoRotate",j,r(e)),o(e,"autoRotateSpeed",F,r(e)),o(e,"rotateSpeed",L,r(e)),o(e,"followSpeed",Q,r(e)),o(e,"xRotationRange",U,r(e)),o(e,"_targetRadius",I,r(e)),o(e,"_target",V,r(e)),o(e,"_startRotation",N,r(e)),o(e,"followTargetRotationY",X,r(e)),e._center=new u,e._targetCenter=new u,e._touched=!1,e._targetRotation=new u,e._rotation=new l,e._radius=10,e}i(e,t);var n=e.prototype;return n.start=function(){this.enableTouch&&(c.on(p.EventType.TOUCH_START,this.onTouchStart,this),c.on(p.EventType.TOUCH_MOVE,this.onTouchMove,this),c.on(p.EventType.TOUCH_END,this.onTouchEnd,this)),this.enableScaleRadius&&c.on(p.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.target&&this.resetTargetRotation(),l.fromEuler(this._rotation,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),this.target&&(this._targetCenter.set(this.target.worldPosition),this._center.set(this._targetCenter)),this._radius=this.radius,this.limitRotation()},n.resetTargetRotation=function(){var t=this._targetRotation.set(this._startRotation);this.followTargetRotationY&&(t=G.set(t),l.toEuler(q,this.target.worldRotation),t.add(q))},n.limitRotation=function(){var t=this._targetRotation;t.x<this.xRotationRange.x?t.x=this.xRotationRange.x:t.x>this.xRotationRange.y&&(t.x=this.xRotationRange.y),t.z=0},n.onTouchStart=function(){this._touched=!0},n.onTouchMove=function(t){if(this._touched){var e=t.touch.getDelta();l.fromEuler(K,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),l.rotateX(K,K,.005*-e.y),l.rotateY(K,K,.005*-e.x),l.toEuler(this._targetRotation,K),this.limitRotation()}},n.onTouchEnd=function(){this._touched=!1},n.onMouseWheel=function(t){var e=t.getScrollY();this._targetRadius+=this.radiusScaleSpeed*-Math.sign(e),this._targetRadius=Math.min(this.maxRadius,Math.max(this.minRadius,this._targetRadius))},n.update=function(t){var e=this._targetRotation;this.autoRotate&&!this._touched&&(e.y+=this.autoRotateSpeed*t),this.target&&(this._targetCenter.set(this.target.worldPosition),this.followTargetRotationY&&(e=G.set(e),l.toEuler(q,this.target.worldRotation),e.y+=q.y)),l.fromEuler(K,e.x,e.y,e.z),l.slerp(this._rotation,this._rotation,K,7*t*this.rotateSpeed),u.lerp(this._center,this._center,this._targetCenter,5*t*this.followSpeed),this._radius=g(this._radius,this._targetRadius,5*t),u.transformQuat(q,u.FORWARD,this._rotation),u.multiplyScalar(q,q,this._radius),q.add(this._center),this.node.position=q,this.node.lookAt(this._center)},n.follow=function(){var t=this._targetRotation;this.target&&(this._targetCenter.set(this.target.worldPosition),this.followTargetRotationY&&(t=G.set(t),l.toEuler(q,this.target.worldRotation),t.y+=q.y)),l.fromEuler(K,t.x,t.y,t.z),this._rotation=K,this._center=this._targetCenter,this._radius=this._targetRadius,u.transformQuat(q,u.FORWARD,this._rotation),u.multiplyScalar(q,q,this._radius),q.add(this._center),this.node.position=q,this.node.lookAt(this._center)},a(e,[{key:"radius",get:function(){return this._targetRadius},set:function(t){this._targetRadius=t}},{key:"target",get:function(){return this._target},set:function(t){this._target=t,this._targetRotation.set(this._startRotation),this._targetCenter.set(t.worldPosition)}},{key:"targetRotation",get:function(){return this._startRotation.set(this._targetRotation),this._startRotation},set:function(t){this._targetRotation.set(t),this._startRotation.set(t)}}]),e}(R)).prototype,"enableTouch",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=e(P.prototype,"enableScaleRadius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=e(P.prototype,"radiusScaleSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),W=e(P.prototype,"minRadius",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),H=e(P.prototype,"maxRadius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),j=e(P.prototype,"autoRotate",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=e(P.prototype,"autoRotateSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),L=e(P.prototype,"rotateSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Q=e(P.prototype,"followSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=e(P.prototype,"xRotationRange",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(5,70)}}),I=e(P.prototype,"_targetRadius",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(P.prototype,"radius",[E],Object.getOwnPropertyDescriptor(P.prototype,"radius"),P.prototype),V=e(P.prototype,"_target",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(P.prototype,"target",[O],Object.getOwnPropertyDescriptor(P.prototype,"target"),P.prototype),N=e(P.prototype,"_startRotation",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),e(P.prototype,"targetRotation",[C],Object.getOwnPropertyDescriptor(P.prototype,"targetRotation"),P.prototype),X=e(P.prototype,"followTargetRotationY",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=P))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/OutputRawStream.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utf8Util.ts"],(function(t){var i,e,n;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){n=t.Utf8Utils}],execute:function(){e._RF.push({},"a0842euuGRNFaVmttUolQjd","OutputRawStream",void 0);t("ERawSerializeType",function(t){return t[t.BOOL=0]="BOOL",t[t.INT8=1]="INT8",t[t.UINT8=2]="UINT8",t[t.INT16=3]="INT16",t[t.UINT16=4]="UINT16",t[t.INT32=5]="INT32",t[t.UINT32=6]="UINT32",t[t.STR=7]="STR",t[t.BYTES=8]="BYTES",t}({})),t("OutputRawStream",function(){function t(t){void 0===t&&(t=!0),this._data=void 0,this._wp=void 0,this._bp=void 0,this._ep=void 0,this._canExp=!1,this._littleEndian=!0,this._view=void 0,this._bp=this._wp=0,this._ep=0,this._canExp=!1,this._littleEndian=t}var e=t.prototype;return e.Setup=function(t,i,e){void 0===i&&(i=0),void 0===e&&(e=!0),this._data=new ArrayBuffer(t),this._bp=this._wp=i,this._ep=this._data.byteLength,this._canExp=e,this._view=new DataView(this._data,this._bp)},e.SetupEx=function(t,i,e){this._data=t.buffer;var n=void 0===i?0:i,s=null==e?t.byteLength-n:e;this._bp=t.byteOffset+n,this._wp=this._bp,this._ep=this._bp+s,this._view=new DataView(this._data,this._bp)},e.Reset=function(){this._wp=0},e.Position=function(){return this._wp},e.EnsureCapacity=function(t){if(this._wp+t>this._ep)if(this._canExp){var i=new ArrayBuffer(2*this._data.byteLength);new Uint8Array(i).set(new Uint8Array(this._data)),this._ep=i.byteLength,this._data=i,this._view=new DataView(i),i=null}else console.error("_wp:"+this._wp+" + count:"+t+" >= _ep:"+this._ep)},e.WriteBool=function(t){this.WriteInt8(1==t?1:0)},e.WriteInt8=function(t){this.EnsureCapacity(1),this._view.setInt8(this._wp,t),this._wp+=1},e.WriteUint8=function(t){this.EnsureCapacity(1),this._view.setUint8(this._wp,t),this._wp+=1},e.WriteInt16=function(t){this.EnsureCapacity(2),this._view.setInt16(this._wp,t,this._littleEndian),this._wp+=2},e.WriteUint16=function(t){this.EnsureCapacity(2),this._view.setUint16(this._wp,t,this._littleEndian),this._wp+=2},e.WriteInt32=function(t){this.EnsureCapacity(4),this._view.setInt32(this._wp,t,this._littleEndian),this._wp+=4},e.WriteUint32=function(t){this.EnsureCapacity(4),this._view.setUint32(this._wp,t,this._littleEndian),this._wp+=4},e.writeInt32=function(t,i){i+4>this._ep&&this.EnsureCapacity(4);var e=this._bp+i;this._view.setInt32(e,t,this._littleEndian)},e.writeUint32=function(t,i){i+4>this._ep&&this.EnsureCapacity(4);var e=this._bp+i;this._view.setUint32(e,t,this._littleEndian)},e.WriteBytes=function(t){if(null==t||0==t.length)return this.EnsureCapacity(4),void this.WriteInt32(0);var i=t.length;this.EnsureCapacity(4+i),this.WriteInt32(i),new Uint8Array(this._data,this._wp).set(t),this._wp+=i},e.writeBytes=function(t,i,e){if(null==t||0==t.length)return this.EnsureCapacity(4),void this.WriteInt32(0);this.EnsureCapacity(4+e),this.WriteInt32(e),new Uint8Array(this._data,this._wp).set(new Uint8Array(t,i,e)),this._wp+=e},e.WriteString=function(t){if(null==t||t.length<=0)return this.EnsureCapacity(4),void this.WriteInt32(0);var i=n.parse(t);this.writeBytes(i,0,i.length)},i(t,[{key:"length",get:function(){return this._wp-this._bp}},{key:"Buffer",get:function(){return this._data}},{key:"Data",get:function(){return new Uint8Array(this._data,this._bp,this._wp-this._bp)}},{key:"OffsetStart",get:function(){return this._bp}},{key:"RemainRead",get:function(){return this._wp-this._bp}},{key:"RemainWrite",get:function(){return this._ep-this._wp}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/PacketHeler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"097e5ippDFBa6lgC//VI6de","PacketHeler",void 0);t("PacketHelper",function(){function t(){this.HeadLen=12,this.curHeadLen=void 0,this.headBuffer=void 0,this.memBuffer=void 0,this.curWrPos=void 0,this.thisCmdID=void 0,this.thisSerialID=void 0,this.thisPacketTotalLen=void 0,this.thisBodyLen=void 0,this.protocolHelper=void 0,this.cbDispatch=void 0,this.headBuffer=new Uint8Array(12),this.memBuffer=new Uint8Array(307200),this.curHeadLen=0,this.curWrPos=0}var i=t.prototype;return i.Process=function(t,e){this.cbDispatch(t,e)},i.Recv=function(t){var e=new DataView(t);this.thisCmdID=e.getInt32(0,!0),this.Process(this.thisCmdID,new Uint8Array(t,4))},e(t,[{key:"LastCmdID",get:function(){return this.thisCmdID}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/PaintUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./UIControler.ts","./G.ts","./UITools.ts","./LanLabel.ts"],(function(t){var e,i,n,a,o,l,s,r,c,u,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.find,a=t.ScrollView,o=t.Sprite,l=t.instantiate},function(t){s=t.ClassConfig},function(t){r=t.UIControler},function(t){c=t.default},function(t){u=t.UITools},function(t){h=t.LanLabel}],execute:function(){i._RF.push({},"ebbcclAL1VGH6bHyCgs9HuA","PaintUICtrl",void 0);var d=t("PaintViewCtrl",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).scrollView=void 0,e.uiContent=void 0,e.uiDefaultPaintItem=void 0,e.uiPaintPanel=void 0,e.uiPaintDesc=void 0,e.paintInfoList=[],e.selectIndex=void 0,e}e(i,t);var s=i.prototype;return s._onLoad=function(){this.initUI(),this.regClickHandlers()},s._onEnable=function(){this.setup(),this.setPaintPanelShow(!1),this.updateLanShow()},s._onDisable=function(){},s._onStart=function(){},s._onUpdate=function(){},s.refreshUI=function(){},s.initUI=function(){this.scrollView=n("mid/ScrollView",this.node).getComponent(a),this.uiContent=n("mid/ScrollView/view/content",this.node),this.uiDefaultPaintItem=n("mid/ScrollView/view/content/paintItem",this.node),this.uiDefaultPaintItem.active=!0,this.uiDefaultPaintItem.removeFromParent(),this.uiPaintPanel=n("paintShow",this.node),this.uiPaintDesc=n("mid/noPaintDesc",this.node)},s.updateLanShow=function(){for(var t=this.node.getComponentsInChildren(h),e=0;e<t.length;e++)t[e].language()},s.regClickHandlers=function(){var t=this;this.RegClickHanlder("*",(function(t,e,i,n){c.navigator.Go(t)})),this.RegClickHanlder("show-paint",(function(e,i,n,a){var l=parseInt(i);t.selectIndex=l;var s=n.target.getChildByName("icon").getComponent(o);t.setPaintPanelShow(!0,null==s?void 0:s.spriteFrame)})),this.RegClickHanlder("close-paint",(function(e,i,n,a){t.setPaintPanelShow(!1)})),this.RegClickHanlder("share-paint",(function(t,e,i,n){}))},s.setup=function(){this.selectIndex=-1;var t=c.gameCfg.guan_config_level,e=c.leader.roleData.chapterId;1==c.leader.roleData.chapterState&&e++;for(var i=[],n=0;n<t.length;n++){var a,o=t[n];o.level<e&&(null==(a=o.reward)?void 0:a.length)>0&&i.push({paintPath:o.reward,level:o.level})}i.length>0?(this.paintInfoList=i.map((function(t){return{paintPath:t.paintPath,receive_time:c.leader.passLevelChallenges[t.level]}})),this.uiPaintDesc.active=!1):this.uiPaintDesc.active=!0,this.uiContent.removeAllChildren();for(var s=0;s<this.paintInfoList.length;s++){var r=l(this.uiDefaultPaintItem);r.active=!0,this.uiContent.addChild(r);var h=r.getChildByName("icon");u.SetSpriteFrame(h,this.paintInfoList[s].paintPath),u.setButtonClick(r,"show-paint,"+s,this.node),u.setButtonScaleTransition(r,.95)}},s.formatDate=function(t){return t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")},s.setPaintPanelShow=function(t,e){if(this.uiPaintPanel.active=t,t&&e){var i,n,a=null==(i=this.uiPaintPanel.getChildByPath("mainIcon/icon"))?void 0:i.getComponent(o);a&&(a.spriteFrame=e);var l=(null==(n=this.paintInfoList[this.selectIndex])?void 0:n.receive_time)||"",s=this.uiPaintPanel.getChildByName("desc");u.SetLabelText(s,""+c.GetLanStr(10064)+l);var r=this.uiPaintPanel.getChildByName("paintName");if(r){var h="",d=parseInt(e.name.split("_").pop(),10);Number.isInteger(d)&&d>0&&d<=29&&(h="《"+c.GetLanStr(10360+d)+"》"),u.SetLabelText(r,h)}}},i}(r));s.addClass("PaintViewCtrl",d),i._RF.pop()}}}));

System.register("chunks:///_virtual/PaintUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(t){var n,e,u,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){u=t.ModuleBase},function(t){o=t.default},function(t){i=t.default}],execute:function(){e._RF.push({},"25be8HQzRNJjLxY9kXY/ctV","PaintUIModule",void 0);var c=t("PaintModule",function(t){function e(){return t.call(this,e.sTag)||this}n(e,t);var u=e.prototype;return u.regNetCmds=function(){},u.unRegNetCmds=function(){},u.regGameEvents=function(){},u.unRegGameEvents=function(){},u.DoWork=function(t){i.OpenUI("Paint")},e}(u));c.sTag="Paint",o.Set("PaintModule",c),e._RF.pop()}}}));

System.register("chunks:///_virtual/pako.min.js",["./cjs-loader.mjs"],(function(t,e){var a;return{setters:[function(t){a=t.default}],execute:function(){t("default",void 0);var n=t("__cjsMetaURL",e.meta.url);a.define(n,(function(e,a,n,i,r){!function(t){"object"==typeof e&&void 0!==n?n.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=t()}((function(){return function t(e,n,i){function r(o,l){if(!n[o]){if(!e[o]){var h="function"==typeof a&&a;if(!l&&h)return h(o,!0);if(s)return s(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[o]={exports:{}};e[o][0].call(f.exports,(function(t){return r(e[o][1][t]||t)}),f,f.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof a&&a,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,a){var n=t("./zlib/deflate"),i=t("./utils/common"),r=t("./utils/strings"),s=t("./zlib/messages"),o=t("./zlib/zstream"),l=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var a=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==a)throw new Error(s[a]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var d;if(d="string"==typeof e.dictionary?r.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(a=n.deflateSetDictionary(this.strm,d)))throw new Error(s[a]);this._dict_set=!0}}function d(t,e){var a=new h(e);if(a.push(t,!0),a.err)throw a.msg||s[a.err];return a.result}h.prototype.push=function(t,e){var a,s,o=this.strm,h=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=r.string2buf(t):"[object ArrayBuffer]"===l.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(h),o.next_out=0,o.avail_out=h),1!==(a=n.deflate(o,s))&&0!==a)return this.onEnd(a),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(r.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==a);return 4===s?(a=n.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,0===a):2!==s||(this.onEnd(0),!(o.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=h,a.deflate=d,a.deflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},a.gzip=function(t,e){return(e=e||{}).gzip=!0,d(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,a){var n=t("./zlib/inflate"),i=t("./utils/common"),r=t("./utils/strings"),s=t("./zlib/constants"),o=t("./zlib/messages"),l=t("./zlib/zstream"),h=t("./zlib/gzheader"),d=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var a=n.inflateInit2(this.strm,e.windowBits);if(a!==s.Z_OK)throw new Error(o[a]);if(this.header=new h,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=r.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=n.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(o[a])}function _(t,e){var a=new f(e);if(a.push(t,!0),a.err)throw a.msg||o[a.err];return a.result}f.prototype.push=function(t,e){var a,o,l,h,f,_=this.strm,u=this.options.chunkSize,c=this.options.dictionary,b=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?_.input=r.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?_.input=new Uint8Array(t):_.input=t,_.next_in=0,_.avail_in=_.input.length;do{if(0===_.avail_out&&(_.output=new i.Buf8(u),_.next_out=0,_.avail_out=u),(a=n.inflate(_,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&c&&(a=n.inflateSetDictionary(this.strm,c)),a===s.Z_BUF_ERROR&&!0===b&&(a=s.Z_OK,b=!1),a!==s.Z_STREAM_END&&a!==s.Z_OK)return this.onEnd(a),!(this.ended=!0);_.next_out&&(0!==_.avail_out&&a!==s.Z_STREAM_END&&(0!==_.avail_in||o!==s.Z_FINISH&&o!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=r.utf8border(_.output,_.next_out),h=_.next_out-l,f=r.buf2string(_.output,l),_.next_out=h,_.avail_out=u-h,h&&i.arraySet(_.output,_.output,l,h,0),this.onData(f)):this.onData(i.shrinkBuf(_.output,_.next_out)))),0===_.avail_in&&0===_.avail_out&&(b=!0)}while((0<_.avail_in||0===_.avail_out)&&a!==s.Z_STREAM_END);return a===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH?(a=n.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===s.Z_OK):o!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(_.avail_out=0))},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=f,a.inflate=_,a.inflateRaw=function(t,e){return(e=e||{}).raw=!0,_(t,e)},a.ungzip=_},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,a){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e,a,n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)e=i,a=r,Object.prototype.hasOwnProperty.call(e,a)&&(t[r]=i[r])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,a,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+n),i);else for(var r=0;r<n;r++)t[i+r]=e[a+r]},flattenChunks:function(t){var e,a,n,i,r,s;for(e=n=0,a=t.length;e<a;e++)n+=t[e].length;for(s=new Uint8Array(n),e=i=0,a=t.length;e<a;e++)r=t[e],s.set(r,i),i+=r.length;return s}},r={arraySet:function(t,e,a,n,i){for(var r=0;r<n;r++)t[i+r]=e[a+r]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,i)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,r))},a.setTyped(n)},{}],4:[function(t,e,a){var n=t("./common"),i=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var s=new n.Buf8(256),o=0;o<256;o++)s[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function l(t,e){if(e<65534&&(t.subarray&&r||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var a="",s=0;s<e;s++)a+=String.fromCharCode(t[s]);return a}s[254]=s[254]=1,a.string2buf=function(t){var e,a,i,r,s,o=t.length,l=0;for(r=0;r<o;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(i-56320),r++),l+=a<128?1:a<2048?2:a<65536?3:4;for(e=new n.Buf8(l),r=s=0;s<l;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(i-56320),r++),a<128?e[s++]=a:(a<2048?e[s++]=192|a>>>6:(a<65536?e[s++]=224|a>>>12:(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63),e[s++]=128|a>>>6&63),e[s++]=128|63&a);return e},a.buf2binstring=function(t){return l(t,t.length)},a.binstring2buf=function(t){for(var e=new n.Buf8(t.length),a=0,i=e.length;a<i;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,n,i,r,o=e||t.length,h=new Array(2*o);for(a=n=0;a<o;)if((i=t[a++])<128)h[n++]=i;else if(4<(r=s[i]))h[n++]=65533,a+=r-1;else{for(i&=2===r?31:3===r?15:7;1<r&&a<o;)i=i<<6|63&t[a++],r--;1<r?h[n++]=65533:i<65536?h[n++]=i:(i-=65536,h[n++]=55296|i>>10&1023,h[n++]=56320|1023&i)}return l(h,n)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;0<=a&&128==(192&t[a]);)a--;return a<0||0===a?e:a+s[t[a]]>e?a:e}},{"./common":3}],5:[function(t,e,a){e.exports=function(t,e,a,n){for(var i=65535&t|0,r=t>>>16&65535|0,s=0;0!==a;){for(a-=s=2e3<a?2e3:a;r=r+(i=i+e[n++]|0)|0,--s;);i%=65521,r%=65521}return i|r<<16|0}},{}],6:[function(t,e,a){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,a){var n=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=function(t,e,a,i){var r=n,s=i+a;t^=-1;for(var o=i;o<s;o++)t=t>>>8^r[255&(t^e[o])];return-1^t}},{}],8:[function(t,e,a){var n,i=t("../utils/common"),r=t("./trees"),s=t("./adler32"),o=t("./crc32"),l=t("./messages"),h=-2,d=258,f=262,_=113;function u(t,e){return t.msg=l[e],e}function c(t){return(t<<1)-(4<t?9:0)}function b(t){for(var e=t.length;0<=--e;)t[e]=0}function g(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(i.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function m(t,e){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,g(t.strm)}function w(t,e){t.pending_buf[t.pending++]=e}function p(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function v(t,e){var a,n,i=t.max_chain_length,r=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-f?t.strstart-(t.w_size-f):0,h=t.window,_=t.w_mask,u=t.prev,c=t.strstart+d,b=h[r+s-1],g=h[r+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(a=e)+s]===g&&h[a+s-1]===b&&h[a]===h[r]&&h[++a]===h[r+1]){r+=2,a++;do{}while(h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&r<c);if(n=d-(c-r),r=c-d,s<n){if(t.match_start=e,o<=(s=n))break;b=h[r+s-1],g=h[r+s]}}}while((e=u[e&_])>l&&0!=--i);return s<=t.lookahead?s:t.lookahead}function k(t){var e,a,n,r,l,h,d,_,u,c,b=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=b+(b-f)){for(i.arraySet(t.window,t.window,b,b,0),t.match_start-=b,t.strstart-=b,t.block_start-=b,e=a=t.hash_size;n=t.head[--e],t.head[e]=b<=n?n-b:0,--a;);for(e=a=b;n=t.prev[--e],t.prev[e]=b<=n?n-b:0,--a;);r+=b}if(0===t.strm.avail_in)break;if(h=t.strm,d=t.window,_=t.strstart+t.lookahead,c=void 0,(u=r)<(c=h.avail_in)&&(c=u),a=0===c?0:(h.avail_in-=c,i.arraySet(d,h.input,h.next_in,c,_),1===h.state.wrap?h.adler=s(h.adler,d,c,_):2===h.state.wrap&&(h.adler=o(h.adler,d,c,_)),h.next_in+=c,h.total_in+=c,c),t.lookahead+=a,t.lookahead+t.insert>=3)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<f&&0!==t.strm.avail_in)}function y(t,e){for(var a,n;;){if(t.lookahead<f){if(k(t),t.lookahead<f&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-f&&(t.match_length=v(t,a)),t.match_length>=3)if(n=r._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function x(t,e){for(var a,n,i;;){if(t.lookahead<f){if(k(t),t.lookahead<f&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-f&&(t.match_length=v(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-3,n=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(m(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=r._tr_tally(t,0,t.window[t.strstart-1]))&&m(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function z(t,e,a,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=i}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),b(this.dyn_ltree),b(this.dyn_dtree),b(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),b(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),b(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function S(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:_,t.adler=2===e.wrap?0:1,e.last_flush=0,r._tr_init(e),0):u(t,h)}function E(t){var e,a=S(t);return 0===a&&((e=t.state).window_size=2*e.w_size,b(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a}function A(t,e,a,n,r,s){if(!t)return h;var o=1;if(-1===e&&(e=6),n<0?(o=0,n=-n):15<n&&(o=2,n-=16),r<1||9<r||8!==a||n<8||15<n||e<0||9<e||s<0||4<s)return u(t,h);8===n&&(n=9);var l=new B;return(t.state=l).strm=t,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=a,E(t)}n=[new z(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(k(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,m(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-f&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(m(t,!1),t.strm.avail_out),1)})),new z(4,4,8,4,y),new z(4,5,16,8,y),new z(4,6,32,32,y),new z(4,4,16,16,x),new z(8,16,32,32,x),new z(8,16,128,128,x),new z(8,32,128,256,x),new z(32,128,258,1024,x),new z(32,258,258,4096,x)],a.deflateInit=function(t,e){return A(t,e,8,15,8,0)},a.deflateInit2=A,a.deflateReset=E,a.deflateResetKeep=S,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?h:(t.state.gzhead=e,0):h},a.deflate=function(t,e){var a,i,s,l;if(!t||!t.state||5<e||e<0)return t?u(t,h):h;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return u(t,0===t.avail_out?-5:h);if(i.strm=t,a=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=o(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),w(i,3),i.status=_);else{var f=8+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=_,p(i,f),0!==i.strstart&&(p(i,t.adler>>>16),p(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(t.adler=o(t.adler,i.pending_buf,i.pending-s,s)),g(t),s=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(t.adler=o(t.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=o(t.adler,i.pending_buf,i.pending-s,s)),g(t),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}w(i,l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(t.adler=o(t.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=o(t.adler,i.pending_buf,i.pending-s,s)),g(t),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}w(i,l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(t.adler=o(t.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&g(t),i.pending+2<=i.pending_buf_size&&(w(i,255&t.adler),w(i,t.adler>>8&255),t.adler=0,i.status=_)):i.status=_),0!==i.pending){if(g(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&c(e)<=c(a)&&4!==e)return u(t,-5);if(666===i.status&&0!==t.avail_in)return u(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var v=2===i.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(k(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var a,n,i,s,o=t.window;;){if(t.lookahead<=d){if(k(t),t.lookahead<=d&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(n=o[i=t.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){s=t.strstart+d;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);t.match_length=d-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=r._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==v&&4!==v||(i.status=666),1===v||3===v)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===e?r._tr_align(i):5!==e&&(r._tr_stored_block(i,0,0,!1),3===e&&(b(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),g(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&t.adler),w(i,t.adler>>8&255),w(i,t.adler>>16&255),w(i,t.adler>>24&255),w(i,255&t.total_in),w(i,t.total_in>>8&255),w(i,t.total_in>>16&255),w(i,t.total_in>>24&255)):(p(i,t.adler>>>16),p(i,65535&t.adler)),g(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},a.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==_&&666!==e?u(t,h):(t.state=null,e===_?u(t,-3):0):h},a.deflateSetDictionary=function(t,e){var a,n,r,o,l,d,f,_,u=e.length;if(!t||!t.state)return h;if(2===(o=(a=t.state).wrap)||1===o&&42!==a.status||a.lookahead)return h;for(1===o&&(t.adler=s(t.adler,e,u,0)),a.wrap=0,u>=a.w_size&&(0===o&&(b(a.head),a.strstart=0,a.block_start=0,a.insert=0),_=new i.Buf8(a.w_size),i.arraySet(_,e,u-a.w_size,a.w_size,0),e=_,u=a.w_size),l=t.avail_in,d=t.next_in,f=t.input,t.avail_in=u,t.next_in=0,t.input=e,k(a);a.lookahead>=3;){for(n=a.strstart,r=a.lookahead-2;a.ins_h=(a.ins_h<<a.hash_shift^a.window[n+3-1])&a.hash_mask,a.prev[n&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=n,n++,--r;);a.strstart=n,a.lookahead=2,k(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=2,a.match_available=0,t.next_in=d,t.input=f,t.avail_in=l,a.wrap=o,0},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,a){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,a){e.exports=function(t,e){var a,n,i,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S;a=t.state,n=t.next_in,B=t.input,i=n+(t.avail_in-5),r=t.next_out,S=t.output,s=r-(e-t.avail_out),o=r+(t.avail_out-257),l=a.dmax,h=a.wsize,d=a.whave,f=a.wnext,_=a.window,u=a.hold,c=a.bits,b=a.lencode,g=a.distcode,m=(1<<a.lenbits)-1,w=(1<<a.distbits)-1;t:do{c<15&&(u+=B[n++]<<c,c+=8,u+=B[n++]<<c,c+=8),p=b[u&m];e:for(;;){if(u>>>=v=p>>>24,c-=v,0==(v=p>>>16&255))S[r++]=65535&p;else{if(!(16&v)){if(0==(64&v)){p=b[(65535&p)+(u&(1<<v)-1)];continue e}if(32&v){a.mode=12;break t}t.msg="invalid literal/length code",a.mode=30;break t}k=65535&p,(v&=15)&&(c<v&&(u+=B[n++]<<c,c+=8),k+=u&(1<<v)-1,u>>>=v,c-=v),c<15&&(u+=B[n++]<<c,c+=8,u+=B[n++]<<c,c+=8),p=g[u&w];a:for(;;){if(u>>>=v=p>>>24,c-=v,!(16&(v=p>>>16&255))){if(0==(64&v)){p=g[(65535&p)+(u&(1<<v)-1)];continue a}t.msg="invalid distance code",a.mode=30;break t}if(y=65535&p,c<(v&=15)&&(u+=B[n++]<<c,(c+=8)<v&&(u+=B[n++]<<c,c+=8)),l<(y+=u&(1<<v)-1)){t.msg="invalid distance too far back",a.mode=30;break t}if(u>>>=v,c-=v,(v=r-s)<y){if(d<(v=y-v)&&a.sane){t.msg="invalid distance too far back",a.mode=30;break t}if(z=_,(x=0)===f){if(x+=h-v,v<k){for(k-=v;S[r++]=_[x++],--v;);x=r-y,z=S}}else if(f<v){if(x+=h+f-v,(v-=f)<k){for(k-=v;S[r++]=_[x++],--v;);if(x=0,f<k){for(k-=v=f;S[r++]=_[x++],--v;);x=r-y,z=S}}}else if(x+=f-v,v<k){for(k-=v;S[r++]=_[x++],--v;);x=r-y,z=S}for(;2<k;)S[r++]=z[x++],S[r++]=z[x++],S[r++]=z[x++],k-=3;k&&(S[r++]=z[x++],1<k&&(S[r++]=z[x++]))}else{for(x=r-y;S[r++]=S[x++],S[r++]=S[x++],S[r++]=S[x++],2<(k-=3););k&&(S[r++]=S[x++],1<k&&(S[r++]=S[x++]))}break}}break}}while(n<i&&r<o);n-=k=c>>3,u&=(1<<(c-=k<<3))-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<o?o-r+257:257-(r-o),a.hold=u,a.bits=c}},{}],11:[function(t,e,a){var n=t("../utils/common"),i=t("./adler32"),r=t("./crc32"),s=t("./inffast"),o=t("./inftrees"),l=-2;function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):l}function _(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,f(t)):l}function u(t,e){var a,n;return t&&t.state?(n=t.state,e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?l:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=a,n.wbits=e,_(t))):l}function c(t,e){var a,n;return t?(n=new d,(t.state=n).window=null,0!==(a=u(t,e))&&(t.state=null),a):l}var b,g,m=!0;function w(t){if(m){var e;for(b=new n.Buf32(512),g=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,b,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,g,0,t.work,{bits:5}),m=!1}t.lencode=b,t.lenbits=9,t.distcode=g,t.distbits=5}function p(t,e,a,i){var r,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),i>=s.wsize?(n.arraySet(s.window,e,a-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(r=s.wsize-s.wnext)&&(r=i),n.arraySet(s.window,e,a-i,r,s.wnext),(i-=r)?(n.arraySet(s.window,e,a-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}a.inflateReset=_,a.inflateReset2=u,a.inflateResetKeep=f,a.inflateInit=function(t){return c(t,15)},a.inflateInit2=c,a.inflate=function(t,e){var a,d,f,_,u,c,b,g,m,v,k,y,x,z,B,S,E,A,Z,R,C,N,O,D,I=0,U=new n.Buf8(4),T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;12===(a=t.state).mode&&(a.mode=13),u=t.next_out,f=t.output,b=t.avail_out,_=t.next_in,d=t.input,c=t.avail_in,g=a.hold,m=a.bits,v=c,k=b,N=0;t:for(;;)switch(a.mode){case 1:if(0===a.wrap){a.mode=13;break}for(;m<16;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if(2&a.wrap&&35615===g){U[a.check=0]=255&g,U[1]=g>>>8&255,a.check=r(a.check,U,2,0),m=g=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg="incorrect header check",a.mode=30;break}if(8!=(15&g)){t.msg="unknown compression method",a.mode=30;break}if(m-=4,C=8+(15&(g>>>=4)),0===a.wbits)a.wbits=C;else if(C>a.wbits){t.msg="invalid window size",a.mode=30;break}a.dmax=1<<C,t.adler=a.check=1,a.mode=512&g?10:12,m=g=0;break;case 2:for(;m<16;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if(a.flags=g,8!=(255&a.flags)){t.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=g>>8&1),512&a.flags&&(U[0]=255&g,U[1]=g>>>8&255,a.check=r(a.check,U,2,0)),m=g=0,a.mode=3;case 3:for(;m<32;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}a.head&&(a.head.time=g),512&a.flags&&(U[0]=255&g,U[1]=g>>>8&255,U[2]=g>>>16&255,U[3]=g>>>24&255,a.check=r(a.check,U,4,0)),m=g=0,a.mode=4;case 4:for(;m<16;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}a.head&&(a.head.xflags=255&g,a.head.os=g>>8),512&a.flags&&(U[0]=255&g,U[1]=g>>>8&255,a.check=r(a.check,U,2,0)),m=g=0,a.mode=5;case 5:if(1024&a.flags){for(;m<16;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}a.length=g,a.head&&(a.head.extra_len=g),512&a.flags&&(U[0]=255&g,U[1]=g>>>8&255,a.check=r(a.check,U,2,0)),m=g=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&(c<(y=a.length)&&(y=c),y&&(a.head&&(C=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),n.arraySet(a.head.extra,d,_,y,C)),512&a.flags&&(a.check=r(a.check,d,y,_)),c-=y,_+=y,a.length-=y),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===c)break t;for(y=0;C=d[_+y++],a.head&&C&&a.length<65536&&(a.head.name+=String.fromCharCode(C)),C&&y<c;);if(512&a.flags&&(a.check=r(a.check,d,y,_)),c-=y,_+=y,C)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===c)break t;for(y=0;C=d[_+y++],a.head&&C&&a.length<65536&&(a.head.comment+=String.fromCharCode(C)),C&&y<c;);if(512&a.flags&&(a.check=r(a.check,d,y,_)),c-=y,_+=y,C)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;m<16;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if(g!==(65535&a.check)){t.msg="header crc mismatch",a.mode=30;break}m=g=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=12;break;case 10:for(;m<32;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}t.adler=a.check=h(g),m=g=0,a.mode=11;case 11:if(0===a.havedict)return t.next_out=u,t.avail_out=b,t.next_in=_,t.avail_in=c,a.hold=g,a.bits=m,2;t.adler=a.check=1,a.mode=12;case 12:if(5===e||6===e)break t;case 13:if(a.last){g>>>=7&m,m-=7&m,a.mode=27;break}for(;m<3;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}switch(a.last=1&g,m-=1,3&(g>>>=1)){case 0:a.mode=14;break;case 1:if(w(a),a.mode=20,6!==e)break;g>>>=2,m-=2;break t;case 2:a.mode=17;break;case 3:t.msg="invalid block type",a.mode=30}g>>>=2,m-=2;break;case 14:for(g>>>=7&m,m-=7&m;m<32;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if((65535&g)!=(g>>>16^65535)){t.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&g,m=g=0,a.mode=15,6===e)break t;case 15:a.mode=16;case 16:if(y=a.length){if(c<y&&(y=c),b<y&&(y=b),0===y)break t;n.arraySet(f,d,_,y,u),c-=y,_+=y,b-=y,u+=y,a.length-=y;break}a.mode=12;break;case 17:for(;m<14;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if(a.nlen=257+(31&g),g>>>=5,m-=5,a.ndist=1+(31&g),g>>>=5,m-=5,a.ncode=4+(15&g),g>>>=4,m-=4,286<a.nlen||30<a.ndist){t.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;m<3;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}a.lens[T[a.have++]]=7&g,g>>>=3,m-=3}for(;a.have<19;)a.lens[T[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,O={bits:a.lenbits},N=o(0,a.lens,0,19,a.lencode,0,a.work,O),a.lenbits=O.bits,N){t.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;S=(I=a.lencode[g&(1<<a.lenbits)-1])>>>16&255,E=65535&I,!((B=I>>>24)<=m);){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if(E<16)g>>>=B,m-=B,a.lens[a.have++]=E;else{if(16===E){for(D=B+2;m<D;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if(g>>>=B,m-=B,0===a.have){t.msg="invalid bit length repeat",a.mode=30;break}C=a.lens[a.have-1],y=3+(3&g),g>>>=2,m-=2}else if(17===E){for(D=B+3;m<D;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}m-=B,C=0,y=3+(7&(g>>>=B)),g>>>=3,m-=3}else{for(D=B+7;m<D;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}m-=B,C=0,y=11+(127&(g>>>=B)),g>>>=7,m-=7}if(a.have+y>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=30;break}for(;y--;)a.lens[a.have++]=C}}if(30===a.mode)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,O={bits:a.lenbits},N=o(1,a.lens,0,a.nlen,a.lencode,0,a.work,O),a.lenbits=O.bits,N){t.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,O={bits:a.distbits},N=o(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,O),a.distbits=O.bits,N){t.msg="invalid distances set",a.mode=30;break}if(a.mode=20,6===e)break t;case 20:a.mode=21;case 21:if(6<=c&&258<=b){t.next_out=u,t.avail_out=b,t.next_in=_,t.avail_in=c,a.hold=g,a.bits=m,s(t,k),u=t.next_out,f=t.output,b=t.avail_out,_=t.next_in,d=t.input,c=t.avail_in,g=a.hold,m=a.bits,12===a.mode&&(a.back=-1);break}for(a.back=0;S=(I=a.lencode[g&(1<<a.lenbits)-1])>>>16&255,E=65535&I,!((B=I>>>24)<=m);){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if(S&&0==(240&S)){for(A=B,Z=S,R=E;S=(I=a.lencode[R+((g&(1<<A+Z)-1)>>A)])>>>16&255,E=65535&I,!(A+(B=I>>>24)<=m);){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}g>>>=A,m-=A,a.back+=A}if(g>>>=B,m-=B,a.back+=B,a.length=E,0===S){a.mode=26;break}if(32&S){a.back=-1,a.mode=12;break}if(64&S){t.msg="invalid literal/length code",a.mode=30;break}a.extra=15&S,a.mode=22;case 22:if(a.extra){for(D=a.extra;m<D;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}a.length+=g&(1<<a.extra)-1,g>>>=a.extra,m-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;S=(I=a.distcode[g&(1<<a.distbits)-1])>>>16&255,E=65535&I,!((B=I>>>24)<=m);){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if(0==(240&S)){for(A=B,Z=S,R=E;S=(I=a.distcode[R+((g&(1<<A+Z)-1)>>A)])>>>16&255,E=65535&I,!(A+(B=I>>>24)<=m);){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}g>>>=A,m-=A,a.back+=A}if(g>>>=B,m-=B,a.back+=B,64&S){t.msg="invalid distance code",a.mode=30;break}a.offset=E,a.extra=15&S,a.mode=24;case 24:if(a.extra){for(D=a.extra;m<D;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}a.offset+=g&(1<<a.extra)-1,g>>>=a.extra,m-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(0===b)break t;if(y=k-b,a.offset>y){if((y=a.offset-y)>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=30;break}y>a.wnext?(y-=a.wnext,x=a.wsize-y):x=a.wnext-y,y>a.length&&(y=a.length),z=a.window}else z=f,x=u-a.offset,y=a.length;for(b<y&&(y=b),b-=y,a.length-=y;f[u++]=z[x++],--y;);0===a.length&&(a.mode=21);break;case 26:if(0===b)break t;f[u++]=a.length,b--,a.mode=21;break;case 27:if(a.wrap){for(;m<32;){if(0===c)break t;c--,g|=d[_++]<<m,m+=8}if(k-=b,t.total_out+=k,a.total+=k,k&&(t.adler=a.check=a.flags?r(a.check,f,k,u-k):i(a.check,f,k,u-k)),k=b,(a.flags?g:h(g))!==a.check){t.msg="incorrect data check",a.mode=30;break}m=g=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;m<32;){if(0===c)break t;c--,g+=d[_++]<<m,m+=8}if(g!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=30;break}m=g=0}a.mode=29;case 29:N=1;break t;case 30:N=-3;break t;case 31:return-4;case 32:default:return l}return t.next_out=u,t.avail_out=b,t.next_in=_,t.avail_in=c,a.hold=g,a.bits=m,(a.wsize||k!==t.avail_out&&a.mode<30&&(a.mode<27||4!==e))&&p(t,t.output,t.next_out,k-t.avail_out)?(a.mode=31,-4):(v-=t.avail_in,k-=t.avail_out,t.total_in+=v,t.total_out+=k,a.total+=k,a.wrap&&k&&(t.adler=a.check=a.flags?r(a.check,f,k,t.next_out-k):i(a.check,f,k,t.next_out-k)),t.data_type=a.bits+(a.last?64:0)+(12===a.mode?128:0)+(20===a.mode||15===a.mode?256:0),(0===v&&0===k||4===e)&&0===N&&(N=-5),N)},a.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},a.inflateGetHeader=function(t,e){var a;return t&&t.state?0==(2&(a=t.state).wrap)?l:((a.head=e).done=!1,0):l},a.inflateSetDictionary=function(t,e){var a,n=e.length;return t&&t.state?0!==(a=t.state).wrap&&11!==a.mode?l:11===a.mode&&i(1,e,n,0)!==a.check?-3:p(t,e,n,n)?(a.mode=31,-4):(a.havedict=1,0):l},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,a){var n=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,l,h,d,f,_){var u,c,b,g,m,w,p,v,k,y=_.bits,x=0,z=0,B=0,S=0,E=0,A=0,Z=0,R=0,C=0,N=0,O=null,D=0,I=new n.Buf16(16),U=new n.Buf16(16),T=null,F=0;for(x=0;x<=15;x++)I[x]=0;for(z=0;z<l;z++)I[e[a+z]]++;for(E=y,S=15;1<=S&&0===I[S];S--);if(S<E&&(E=S),0===S)return h[d++]=20971520,h[d++]=20971520,_.bits=1,0;for(B=1;B<S&&0===I[B];B++);for(E<B&&(E=B),x=R=1;x<=15;x++)if(R<<=1,(R-=I[x])<0)return-1;if(0<R&&(0===t||1!==S))return-1;for(U[1]=0,x=1;x<15;x++)U[x+1]=U[x]+I[x];for(z=0;z<l;z++)0!==e[a+z]&&(f[U[e[a+z]]++]=z);if(0===t?(O=T=f,w=19):1===t?(O=i,D-=257,T=r,F-=257,w=256):(O=s,T=o,w=-1),x=B,m=d,Z=z=N=0,b=-1,g=(C=1<<(A=E))-1,1===t&&852<C||2===t&&592<C)return 1;for(;;){for(p=x-Z,f[z]<w?(v=0,k=f[z]):f[z]>w?(v=T[F+f[z]],k=O[D+f[z]]):(v=96,k=0),u=1<<x-Z,B=c=1<<A;h[m+(N>>Z)+(c-=u)]=p<<24|v<<16|k|0,0!==c;);for(u=1<<x-1;N&u;)u>>=1;if(0!==u?(N&=u-1,N+=u):N=0,z++,0==--I[x]){if(x===S)break;x=e[a+f[z]]}if(E<x&&(N&g)!==b){for(0===Z&&(Z=E),m+=B,R=1<<(A=x-Z);A+Z<S&&!((R-=I[A+Z])<=0);)A++,R<<=1;if(C+=1<<A,1===t&&852<C||2===t&&592<C)return 1;h[b=N&g]=E<<24|A<<16|m-d|0}}return 0!==N&&(h[m+N]=x-Z<<24|64<<16|0),_.bits=E,0}},{"../utils/common":3}],13:[function(t,e,a){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,a){var n=t("../utils/common");function i(t){for(var e=t.length;0<=--e;)t[e]=0}var r=256,s=286,o=30,l=15,h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var c=new Array(60);i(c);var b=new Array(512);i(b);var g=new Array(256);i(g);var m=new Array(29);i(m);var w,p,v,k=new Array(o);function y(t,e,a,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function x(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function z(t){return t<256?b[t]:b[256+(t>>>7)]}function B(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function S(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,B(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function E(t,e,a){S(t,a[2*e],a[2*e+1])}function A(t,e){for(var a=0;a|=1&t,t>>>=1,a<<=1,0<--e;);return a>>>1}function Z(t,e,a){var n,i,r=new Array(16),s=0;for(n=1;n<=l;n++)r[n]=s=s+a[n-1]<<1;for(i=0;i<=e;i++){var o=t[2*i+1];0!==o&&(t[2*i]=A(r[o]++,o))}}function R(t){var e;for(e=0;e<s;e++)t.dyn_ltree[2*e]=0;for(e=0;e<o;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function C(t){8<t.bi_valid?B(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function N(t,e,a,n){var i=2*e,r=2*a;return t[i]<t[r]||t[i]===t[r]&&n[e]<=n[a]}function O(t,e,a){for(var n=t.heap[a],i=a<<1;i<=t.heap_len&&(i<t.heap_len&&N(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!N(e,n,t.heap[i],t.depth));)t.heap[a]=t.heap[i],a=i,i<<=1;t.heap[a]=n}function D(t,e,a){var n,i,s,o,l=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],i=t.pending_buf[t.l_buf+l],l++,0===n?E(t,i,e):(E(t,(s=g[i])+r+1,e),0!==(o=h[s])&&S(t,i-=m[s],o),E(t,s=z(--n),a),0!==(o=d[s])&&S(t,n-=k[s],o)),l<t.last_lit;);E(t,256,e)}function I(t,e){var a,n,i,r=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,d=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<h;a++)0!==r[2*a]?(t.heap[++t.heap_len]=d=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)r[2*(i=t.heap[++t.heap_len]=d<2?++d:0)]=1,t.depth[i]=0,t.opt_len--,o&&(t.static_len-=s[2*i+1]);for(e.max_code=d,a=t.heap_len>>1;1<=a;a--)O(t,r,a);for(i=h;a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],O(t,r,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,r[2*i]=r[2*a]+r[2*n],t.depth[i]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,r[2*a+1]=r[2*n+1]=i,t.heap[1]=i++,O(t,r,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,i,r,s,o,h=e.dyn_tree,d=e.max_code,f=e.stat_desc.static_tree,_=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,b=e.stat_desc.max_length,g=0;for(r=0;r<=l;r++)t.bl_count[r]=0;for(h[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)b<(r=h[2*h[2*(n=t.heap[a])+1]+1]+1)&&(r=b,g++),h[2*n+1]=r,d<n||(t.bl_count[r]++,s=0,c<=n&&(s=u[n-c]),o=h[2*n],t.opt_len+=o*(r+s),_&&(t.static_len+=o*(f[2*n+1]+s)));if(0!==g){do{for(r=b-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[b]--,g-=2}while(0<g);for(r=b;0!==r;r--)for(n=t.bl_count[r];0!==n;)d<(i=t.heap[--a])||(h[2*i+1]!==r&&(t.opt_len+=(r-h[2*i+1])*h[2*i],h[2*i+1]=r),n--)}}(t,e),Z(r,d,t.bl_count)}function U(t,e,a){var n,i,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)i=s,s=e[2*(n+1)+1],++o<l&&i===s||(o<h?t.bl_tree[2*i]+=o:0!==i?(i!==r&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,r=i,(o=0)===s?(l=138,h=3):i===s?(l=6,h=3):(l=7,h=4))}function T(t,e,a){var n,i,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),n=0;n<=a;n++)if(i=s,s=e[2*(n+1)+1],!(++o<l&&i===s)){if(o<h)for(;E(t,i,t.bl_tree),0!=--o;);else 0!==i?(i!==r&&(E(t,i,t.bl_tree),o--),E(t,16,t.bl_tree),S(t,o-3,2)):o<=10?(E(t,17,t.bl_tree),S(t,o-3,3)):(E(t,18,t.bl_tree),S(t,o-11,7));r=i,(o=0)===s?(l=138,h=3):i===s?(l=6,h=3):(l=7,h=4)}}i(k);var F=!1;function L(t,e,a,i){var r,s,o;S(t,0+(i?1:0),3),s=e,o=a,C(r=t),B(r,o),B(r,~o),n.arraySet(r.pending_buf,r.window,s,o,r.pending),r.pending+=o}a._tr_init=function(t){F||(function(){var t,e,a,n,i,r=new Array(16);for(n=a=0;n<28;n++)for(m[n]=a,t=0;t<1<<h[n];t++)g[a++]=n;for(g[a-1]=n,n=i=0;n<16;n++)for(k[n]=i,t=0;t<1<<d[n];t++)b[i++]=n;for(i>>=7;n<o;n++)for(k[n]=i<<7,t=0;t<1<<d[n]-7;t++)b[256+i++]=n;for(e=0;e<=l;e++)r[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,r[8]++;for(;t<=255;)u[2*t+1]=9,t++,r[9]++;for(;t<=279;)u[2*t+1]=7,t++,r[7]++;for(;t<=287;)u[2*t+1]=8,t++,r[8]++;for(Z(u,287,r),t=0;t<o;t++)c[2*t+1]=5,c[2*t]=A(t,5);w=new y(u,h,257,s,l),p=new y(c,d,0,o,l),v=new y(new Array(0),f,0,19,7)}(),F=!0),t.l_desc=new x(t.dyn_ltree,w),t.d_desc=new x(t.dyn_dtree,p),t.bl_desc=new x(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,R(t)},a._tr_stored_block=L,a._tr_flush_block=function(t,e,a,n){var i,s,o=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<r;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),o=function(t){var e;for(U(t,t.dyn_ltree,t.l_desc.max_code),U(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*_[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=a+5,a+4<=i&&-1!==e?L(t,e,a,n):4===t.strategy||s===i?(S(t,2+(n?1:0),3),D(t,u,c)):(S(t,4+(n?1:0),3),function(t,e,a,n){var i;for(S(t,e-257,5),S(t,a-1,5),S(t,n-4,4),i=0;i<n;i++)S(t,t.bl_tree[2*_[i]+1],3);T(t,t.dyn_ltree,e-1),T(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),D(t,t.dyn_ltree,t.dyn_dtree)),R(t),n&&C(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(g[a]+r+1)]++,t.dyn_dtree[2*z(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){var e;S(t,2,3),E(t,256,u),16===(e=t).bi_valid?(B(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":3}],15:[function(t,e,a){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,a){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")})),t("default",n.exports)}),{})}}}));

System.register("chunks:///_virtual/pako.min.mjs_cjs=&original=.js",["./pako.min.js","./cjs-loader.mjs"],(function(e,t){var a,r;return{setters:[function(t){a=t.__cjsMetaURL;var r={};r.__cjsMetaURL=t.__cjsMetaURL,r.default=t.default,e(r)},function(e){r=e.default}],execute:function(){a||r.throwInvalidWrapper("./pako.min.js",t.meta.url),r.require(a)}}}));

System.register("chunks:///_virtual/PakoBuilder.ts",["cc","./pako.min.mjs_cjs=&original=.js","./pako.min.js"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},null,function(e){r=e.default}],execute:function(){t._RF.push({},"bdc32/MH2hKmrUQg4sVyczx","PakoBuilder",void 0);e("PakoBuilder",function(){function e(e){this._compress=!1,this._decoder=void 0,this._compress=e,this._decoder=new TextDecoder}var t=e.prototype;return t.Encode=function(e,t,n){var i,s=(i=n,r.gzip(i,{to:"string"})),o=new ArrayBuffer(12+s.byteLength),c=new DataView(o);c.setInt32(0,s.byteLength+8,!0),c.setInt32(4,e,!0),c.setInt32(8,t,!0);var u=new Uint8Array(o,12);return u.set(s),u},t.Decode=function(e,t){if(this._compress){var n=r.inflate(t,{to:"string"});return JSON.parse(n)}var i=this._decoder.decode(t);return JSON.parse(i)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Pay.ts",["cc","./G.ts","./SdkHelper.ts","./TLDataPoints.ts","./HttpUtils.ts","./Tips.ts"],(function(e){var o,i,t,r,n,a,d;return{setters:[function(e){o=e.cclegacy},function(e){i=e.default},function(e){t=e.SdkHelper},function(e){r=e.TLDataPoints},function(e){n=e.EResponseType,a=e.HttpUtils},function(e){d=e.Tips}],execute:function(){o._RF.push({},"420b95SO45IhKN795PjpQyj","Pay",void 0);e("CMD_PayOrderCreate",(function(){this.buyid=void 0,this.iapid=void 0,this.appcode=void 0,this.userid=void 0,this.zoneid=void 0,this.roleid=void 0,this.pay_type=void 0,this.channelid=void 0,this.sub_channel=void 0,this.loginToken=void 0,this.tokenHash=void 0,this.roleName=void 0,this.roleLevel=void 0,this.goodName=void 0,this.goodId=void 0,this.money=void 0,this.zoneName=void 0,this.vip=void 0}));var s=e("CMD_SubmitReceipt",(function(){this.orderid=void 0,this.appcode=void 0,this.userid=void 0,this.zoneid=void 0,this.roleid=void 0,this.buyid=void 0,this.iapid=void 0,this.receipt=void 0}));e("Pay",function(){function e(){}return e.Start=function(e,o,i){if(null!=e){console.log("send pay start buyid = "+e.buyid);this.CreatorOrder(e,(function(i){console.log("create order success, orderid = "+i.orderid),i.orderid=i.orderid,i.appcode=e.appcode,i.userid=e.userid,i.zoneid=e.zoneid,i.roleid=e.roleid,i.buyid=e.buyid,i.iapid=e.iapid,i.count=o.reward,i.createTimeUtcMills=Date.now(),i.roleName=e.roleName,i.roleLevel=e.roleLevel,i.goodName=e.goodName,i.goodId=e.goodId,i.money=e.money,i.zoneName=e.zoneName,i.vip=e.vip;var r=JSON.stringify(i);t.CallSdkNative("TLSdk","Pay",r)})),r.submit("user_charge_1",{buyid:e.buyid,pay_type:i.moneytype,pay_amount:i.value})}},e.CreatorOrder=function(e,o,t,r){r&&r();var s={responseType:n.JSON,headers:{"Content-Type":"application/json"}};a.POST(i.gameCfg.TargetPlatfromUrl+"/payorder/create",s,e,(function(e){if(console.log("CreatorOrder complete......."),t&&t(),console.log(e),e.errCode&&0!==e.errCode)return console.log("errCode -> "+e.errCode),void d.instance.ShowTips(10149);var i=e.data;if(null==i||i.length<=0)return console.log("resp.data -> null"),void d.instance.ShowTips(10149);i=JSON.parse(i),o&&o(i)}),(function(e,o){console.log("cb error......."),t&&t(),d.instance.ShowTips(10149)}))},e.PaymentReceiptVerify=function(e,o,r,s,c){s&&s();var l={responseType:n.JSON,headers:{"Content-Type":"application/json"}},p=i.gameCfg.TargetPlatfromUrl+"/"+t.channelID.toLocaleLowerCase()+"/pay/verify";1==c&&(p=i.gameCfg.TargetPlatfromUrl+"/"+t.channelID.toLocaleLowerCase()+"/pay/gmtest_verify"),a.POST(p,l,e,(function(e){if(console.log("cb complete......."),r&&r(),console.log(e),e.errCode&&0!==e.errCode)return console.log("errCode -> "+e.errCode),void d.instance.ShowTips(10150);var i=e.data;if(null==i||i.length<=0)return console.log("resp.data -> null"),void d.instance.ShowTips(10150);console.log("payment verify result: "+i),i=JSON.parse(i),o&&o()}),(function(e,o){console.log("status="+e+", err="+o),r&&r(),d.instance.ShowTips(10150)}))},e.GmStart=function(e,o,i,t){console.log("gm send pay start buyid = "+e.buyid);var r=this;this.CreatorOrder(e,(function(o){console.log("send pay start create order success orderid = "+o.orderid);var i=new s;i.appcode=e.appcode,i.userid=e.userid,i.zoneid=e.zoneid,i.roleid=e.roleid,i.buyid=e.buyid,i.iapid=e.iapid,i.orderid=o.orderid,i.receipt='{"receipt":{"receipt_type":"Production", "adam_id":837545884, "app_item_id":837545884, "bundle_id":"com.tianlu.game.bfcells", "application_version":"20.5.0", "download_id":36011387410535, "version_external_identifier":854813194, "receipt_creation_date":"2023-03-16 02:53:38 Etc/GMT", "receipt_creation_date_ms":"1678935218000", "receipt_creation_date_pst":"2023-03-15 19:53:38 America/Los_Angeles", "request_date":"2023-03-16 02:53:42 Etc/GMT", "request_date_ms":"1678935222880", "request_date_pst":"2023-03-15 19:53:42 America/Los_Angeles", "original_purchase_date":"2015-01-13 11:46:02 Etc/GMT", "original_purchase_date_ms":"1421149562000", "original_purchase_date_pst":"2015-01-13 03:46:02 America/Los_Angeles", "original_application_version":"1.2.1", "in_app":[{"quantity":"1", "product_id":"com.tianlu.diamond60", "transaction_id":"160001488847393", "original_transaction_id":"160001488847393", "purchase_date":"2023-03-16 02:53:38 Etc/GMT", "purchase_date_ms":"1678935218000", "purchase_date_pst":"2023-03-15 19:53:38 America/Los_Angeles", "original_purchase_date":"2023-03-16 02:53:38 Etc/GMT", "original_purchase_date_ms":"1678935218000", "original_purchase_date_pst":"2023-03-15 19:53:38 America/Los_Angeles", "is_trial_period":"false", "in_app_ownership_type":"PURCHASED"}]}, "environment":"Production", "status":0}',r.GmTest_SubmitReceipt(i,(function(){t&&t(i.orderid,i.buyid)}))}))},e.GmTest_SubmitReceipt=function(e,o){var t={responseType:n.JSON,headers:{"Content-Type":"application/json"}};a.POST(i.gameCfg.TargetPlatfromUrl+"/payorder/gmtest_submitReceipt",t,e,(function(e){console.log("SubmitReceipt cb complete......."),console.log(e),e.errCode&&0!==e.errCode?console.log("errCode -> "+e.errCode):o&&o()}),(function(e,o){console.log("cb error.......")}))},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/PayUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStatic.ts","./G.ts","./LoadingMask.ts","./SdkHelper.ts","./Pay.ts"],(function(e){var a,r,t,n,i,o,u,l;return{setters:[function(e){a=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy},function(e){t=e.default},function(e){n=e.default},function(e){i=e.default},function(e){o=e.SdkHelper},function(e){u=e.Pay,l=e.CMD_PayOrderCreate}],execute:function(){r._RF.push({},"f3d1cutbcxH6oIiPoeg5r8e","PayUtils",void 0);e("PayUtils",function(){function e(){}return e.GetBuyIDByGroupid=function(e){for(var r,t=n.gameCfg.gamebuyMap,i=a(t);!(r=i()).done;){var o=r.value,u=(o[0],o[1]);if(u.group&&u.group==e)return u.buyid}return-1},e.SaveOrder=function(e){if((null==e?void 0:e.length)>0){var a=JSON.parse(e);null!=a&&n.localStorage.Set(a.orderid,e,!0)}},e.GetOrderFromLocal=function(e){return n.localStorage.Get(e,!0)},e.GetGameBuyCofig=function(e){return n.gameCfg.gamebuyMap.get(e)},e.GetIapItemCofig=function(e){return n.gameCfg.iapDefMap.get(e)},e.Build_CreatePayOrder_CMD=function(e){var a,r,i,u=n.gameCfg.gamebuyMap.get(e);if(null==u)return null;if(null==n.gameCfg.iapDefMap.get(u.iapid))return null;var d=new l;return d.appcode=n.gameCfg.game_appcode,d.buyid=e,d.iapid=u.iapid,d.userid=n.leader.roleData.userid,d.zoneid=n.leader.roleData.zoneid,d.roleid=n.leader.roleData.roleid,d.channelid=t.channelID,d.sub_channel=t.subChannelID,d.pay_type=o.paytype,d.loginToken=null==(a=n.curLoginRecord)?void 0:a.tianlu_token,d.tokenHash=null==(r=n.curLoginRecord)?void 0:r.token_hash,d.roleName=n.leader.roleData.name,d.roleLevel="1",d.goodName=u.iapid,d.goodId=u.buyid+"",d.money=(null==(i=n.gameCfg.iapDefMap.get(u.iapid))?void 0:i.value)+"",d.zoneName="S-"+n.leader.roleData.zoneid,d.vip="0",d},e.Start=function(a){var r=e.Build_CreatePayOrder_CMD(a);if(null!=r){var t=this.GetGameBuyCofig(a),n=this.GetIapItemCofig(t.iapid);u.Start(r,t,n)}},e.GmStart=function(e){},e.PaymentReceiptVerify=function(e,a){console.log("PaymentResult: "+e);var r=JSON.parse(e);if(null!=r&&"success"==r.result){var t=r.orderid,o=parseInt(r.buyid),l=n.gameCfg.gamebuyMap.get(o);if(null!=l){var d={orderid:t,appcode:n.gameCfg.game_appcode,userid:n.leader.roleData.userid,zoneid:n.leader.roleData.zoneid,roleid:n.leader.roleData.roleid,buyid:o,iapid:l.iapid,count:l.reward,bundleid:r.bunleId,uid:r.userId,productId:r.productId,receipt:r.receipt};u.PaymentReceiptVerify(d,(function(){n.server.IapBuy(t,o)}),(function(){i.Hide()}),(function(){i.Show("login to tianlu account server ...")}),a)}else console.log("buyCfg is null")}},e.PaymentReceipt=function(e,a){console.log("PaymentResult: "+e);var r=JSON.parse(e);if(null!=r&&"success"==r.result){var t=r.orderid,o=parseInt(r.buyid);null!=n.gameCfg.gamebuyMap.get(o)?(n.server.IapBuy(t,o),i.Show("",5)):console.log("buyCfg is null")}},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"fefea0J4U5HtbXNztj9OlPh","PhysicsUtil",void 0);var i=e("GroupItem",function(){function e(e,t){this._name=void 0,this._value=void 0,this._value=e,this._name=t}return t(e,[{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),u=e("PhysicsUtil",function(){function e(){}return e.setNodeLayer=function(t,n){n.layer=t.mask,n.children.forEach((function(n){n.layer=t.mask,e.setNodeLayer(t,n)}))},e}());u.DEFAULT=new i(0,"DEFAULT"),u.GAME_OBJECT_SELECT=new i(1,"GAME_OBJECT_SELECT"),u.GAME_OWNER=new i(2,"GAME_OWNER"),n._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformCmdIDs.ts",["cc"],(function(t){var _;return{setters:[function(t){_=t.cclegacy}],execute:function(){_._RF.push({},"da9b3JxublPWLoSXyrUKKRu","PlatformCmdIDs",void 0);t("default",{C2S_Plat_T3Login:1,S2C_Plat_T3Login:2,C2S_Plat_Login:3,S2C_Plat_Login:4,C2S_Plat_Logout:5,S2C_Plat_Logout:6,C2S_Plat_Charge:20,S2C_Plat_Charge:21,C2S_Plat_ServerList:30,S2C_Plat_ServerList:31,C2S_Plat_AccountBind:40,S2C_Plat_AccountBind:41,C2S_Plat_AcountReg:42,S2C_Plat_AcountReg:43,C2S_Plat_FindbackPwd:44,S2C_Plat_FindbackPwd:45,C2S_Plat_ModifyPwd:46,S2C_Plat_ModifyPwd:47,C2S_Plat_GameUserList:80,S2C_Plat_GameUserList:81});_._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformUtil.ts",["cc"],(function(t){var i,n,r;return{setters:[function(t){i=t.cclegacy,n=t.native,r=t.sys}],execute:function(){i._RF.push({},"b4258X6sXtJO5TW/0ORZKZG","PlatformUtil",void 0);t("PlatformUtil",function(){function t(){}return t.isNativeAndroid=function(){return void 0!==n&&!(!r.isNative||r.platform!==r.Platform.ANDROID)},t.isNativeIOS=function(){return void 0!==n&&!(!r.isNative||r.os!==r.OS.IOS)},t.getPlateform=function(){return this.isNativeAndroid()?"android":this.isNativeIOS()?"ios":"h5"},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayHelpUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./UIControler.ts","./G.ts","./LanLabel.ts"],(function(t){var n,e,i,o,a,r,u,s,c,d,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t.find,o=t.Toggle,a=t.Button,r=t.UIOpacity,u=t.Label},function(t){s=t.ClassConfig},function(t){c=t.UIControler},function(t){d=t.default},function(t){l=t.LanLabel}],execute:function(){e._RF.push({},"5c766V+GexMZ5cZHGVptiqC","PlayHelpUICtrl",void 0);var h=t("PlayHelpViewCtrl",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).mapToggle=void 0,n.uiBtnPre=void 0,n.uiBtnNext=void 0,n.curIndex=void 0,n.maxIndex=void 0,n}n(e,t);var s=e.prototype;return s._onLoad=function(){this.initUI(),this.regClickHandlers()},s._onEnable=function(){this.setup(),this.updateLanShow()},s._onDisable=function(){},s._onStart=function(){},s._onUpdate=function(){},s.refreshUI=function(){},s.initUI=function(){var t=this;this.uiBtnPre=i("mid/buttom/leftBtn",this.node),this.uiBtnNext=i("mid/buttom/rightBtn",this.node),this.mapToggle=new Map;var n=i("mid/buttom/indicatorContainer",this.node);n&&n.children.forEach((function(n,e){var i=n.getComponent(o);i&&t.mapToggle.set(e+1,i)}))},s.updateLanShow=function(){for(var t=this.node.getComponentsInChildren(l),n=0;n<t.length;n++)t[n].language()},s.regClickHandlers=function(){var t=this;this.RegClickHanlder("*",(function(t,n,e,i){d.navigator.Go(t)})),this.RegClickHanlder("next",(function(n,e,i,o){t.curIndex=Math.min(t.curIndex+1,t.maxIndex),t.updateState()})),this.RegClickHanlder("prev",(function(n,e,i,o){t.curIndex=Math.max(t.curIndex-1,1),t.updateState()}))},s.setup=function(){this.curIndex=1,this.maxIndex=4,this.updateState()},s.updateState=function(){var t,n=this.uiBtnPre.getComponent(a);n&&(n.interactable=this.curIndex>1),(this.uiBtnPre.getComponent(r)||this.uiBtnPre.addComponent(r)).opacity=this.curIndex>1?255:128;var e=this.uiBtnNext.getComponent(a);e&&(e.interactable=this.curIndex<this.maxIndex),(this.uiBtnNext.getComponent(r)||this.uiBtnNext.addComponent(r)).opacity=this.curIndex<this.maxIndex?255:128;var o=null==(t=i("title/text",this.node))?void 0:t.getComponent(u);o&&(o.string=this.curIndex+"/"+this.maxIndex);var s=this.mapToggle.get(this.curIndex);s&&(s.isChecked=!0)},e}(c));s.addClass("PlayHelpViewCtrl",h),e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayHelpUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(e){var t,n,u,o,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){u=e.ModuleBase},function(e){o=e.default},function(e){l=e.default}],execute:function(){n._RF.push({},"a7e7dDrKvhAT7TtpXaFKuN7","PlayHelpUIModule",void 0);var a=e("PlayHelpModule",function(e){function n(){return e.call(this,n.sTag)||this}t(n,e);var u=n.prototype;return u.regNetCmds=function(){},u.unRegNetCmds=function(){},u.regGameEvents=function(){},u.unRegGameEvents=function(){},u.DoWork=function(e){l.OpenUI("PlayHelp")},n}(u));a.sTag="PlayHelp",o.Set("PlayHelpModule",a),n._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabLoading.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"359f9UNHs5Oga+ZvdScBoVh","PrefabLoading",void 0);var n=e("PrefabLoading",(function(){}));n.namesBeforeGame=[],n.namesEnterGame=[],n.spriteNamesBeforeGame=[],n.spriteNamesEnterGame=[],a._RF.pop()}}}));

System.register("chunks:///_virtual/PreloadResConfig.ts",["cc"],(function(e){var s,t,c;return{setters:[function(e){s=e.cclegacy,t=e.Prefab,c=e.Scene}],execute:function(){s._RF.push({},"4edc2C4hQtOJ4WD7jLHTp12","PreloadResConfig",void 0);e("default",{gui:{assetType:t,urls:["res_check"]},maps:{assetType:c,urls:["start"]}});s._RF.pop()}}}));

System.register("chunks:///_virtual/Priority.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){var i,c,s;return{setters:[function(t){i=t.inheritsLoose},function(t){c=t.cclegacy},function(t){s=t.BranchNode}],execute:function(){c._RF.push({},"9c244ZxtjZG45AxMV4MFcCz","Priority",void 0);t("Priority",function(t){function c(){return t.apply(this,arguments)||this}i(c,t);var s=c.prototype;return s.success=function(){t.prototype.success.call(this),this._control.success()},s.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},c}(s));c._RF.pop()}}}));

System.register("chunks:///_virtual/PrizeUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./UIControler.ts","./G.ts","./UITools.ts","./LanLabel.ts"],(function(t){var e,n,o,i,r,a,l,s,u,c,h,f,d;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,i=t.find,r=t.ScrollView,a=t.Layout,l=t.instantiate,s=t.Sprite},function(t){u=t.ClassConfig},function(t){c=t.UIControler},function(t){h=t.default},function(t){f=t.UITools},function(t){d=t.LanLabel}],execute:function(){o._RF.push({},"1d744wgPCFH46Ex7eLkNw5n","PrizeUICtrl",void 0);var p=t("PrizeViewCtrl",function(t){function o(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).startDate=new Date(2025,0,1),e.currentDate=new Date,e.passInfo={},e.scrollView=void 0,e.uiScrollContent=void 0,e.defaultYearItem=void 0,e.defaultMonthItem=void 0,e}e(o,t);var u=o.prototype;return u._onLoad=function(){this.initUI(),this.regClickHandlers()},u._onEnable=function(){this.setup(),this.updateLanShow()},u._onDisable=function(){},u._onStart=function(){},u._onUpdate=function(){},u.refreshUI=function(){},u.initUI=function(){var t;if(this.scrollView=i("mid/ScrollView",this.node).getComponent(r),this.uiScrollContent=i("mid/ScrollView/view/content",this.node),this.uiScrollContent){var e=i("yearModel",this.uiScrollContent);if(e){var n=i("content/monthModel",e);n&&(this.defaultMonthItem=n,n.parent.removeAllChildren(),this.defaultYearItem=e,e.parent.removeAllChildren())}}null==(t=this.uiScrollContent)||t.removeAllChildren()},u.updateLanShow=function(){for(var t=this.node.getComponentsInChildren(d),e=0;e<t.length;e++)t[e].language()},u.regClickHandlers=function(){this.RegClickHanlder("*",(function(t,e,n,o){h.navigator.Go(t)}))},u.setup=function(){var t;this.initPassInfo(),this.uiScrollContent.removeAllChildren();var e=this.startDate.getFullYear(),n=this.currentDate.getFullYear();if(!(n<e)){for(var o=e;o<=n;o++){var i=this.setYearItem(o);i&&this.uiScrollContent.addChild(i)}null==(t=this.uiScrollContent.getComponent(a))||t.updateLayout(),this.scrollView.scrollToTop()}},u.initPassInfo=function(){this.passInfo={};for(var t,e=h.leader.roleData.dailyChallenges,o=n(e);!(t=o()).done;){var i=t.value.split("-").map(Number),r=i[0],a=i[1],l=(i[2],r+"-"+a);this.passInfo[l]?this.passInfo[l]+=1:this.passInfo[l]=1}},u.setYearItem=function(t){if(Number.isFinite(t)&&t>0){var e,n=l(this.defaultYearItem);n.name="year-"+t;var o=i("title/text",n);f.SetLabelText(o,""+t+h.GetLanStr(10036));for(var r=i("content",n),s=1;s<=12;s++){var u=l(this.defaultMonthItem);u.name="month-"+s,this.setMonthItem(u,t,s),r.addChild(u)}return null==(e=r.getComponent(a))||e.updateLayout(),n}},u.setMonthItem=function(t,e,n){if(t){var o=i("title",t);f.SetLabelText(o,h.GetLanStr(10340+n));var r=this.getDaysInMonth(e,n-1),a=this.passInfo[e+"-"+n]||0,l=i("text",t);f.SetLabelText(l,a+"/"+r);var u=i("icon",t),c=u.getComponent(s);c.spriteFrame&&c.spriteFrame.name==="icon_prize_"+n||f.SetSpriteFrame(u,"prize/icon_prize_"+n),c.grayscale=a<r}},u.getDaysInMonth=function(t,e){return new Date(t,e+1,0).getDate()},o}(c));u.addClass("PrizeViewCtrl",p),o._RF.pop()}}}));

System.register("chunks:///_virtual/PrizeUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(e){var n,t,o,u,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.ModuleBase},function(e){u=e.default},function(e){i=e.default}],execute:function(){t._RF.push({},"897b9dUb2VFUo428CEm4OL8","PrizeUIModule",void 0);var r=e("PrizeModule",function(e){function t(){return e.call(this,t.sTag)||this}n(t,e);var o=t.prototype;return o.regNetCmds=function(){},o.unRegNetCmds=function(){},o.regGameEvents=function(){},o.unRegGameEvents=function(){},o.DoWork=function(e){i.OpenUI("Prize")},t}(o));r.sTag="Prize",u.Set("PrizeModule",r),t._RF.pop()}}}));

System.register("chunks:///_virtual/PropConfig.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"251a66aE3hDir1wxI/tLtk5","PropConfig",void 0);var e={hintCount:0,allNotesCount:0};t("propConfig",{defaultValue:function(){return Object.assign({},e)},validate:function(t){for(var n=0,e=["hintCount","allNotesCount"];n<e.length;n++){var r=e[n];if(null==t[r]||"number"!=typeof t[r]||Number.isNaN(t[r]))return!1}return!0}});n._RF.pop()}}}));

System.register("chunks:///_virtual/ProtobufUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t;return{setters:[function(o){e=o.createClass},function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"63778XUWsNFoJ6LKvrXA+R0","ProtobufUtil",void 0),o("ProtobufUtils",function(){function o(){}return o.LoadProto=function(o){},o.Add=function(e,t){o.protoFiles.set(e,t)},o.GetFileRoot=function(e){return o.protoFiles.get(e)},o.GetType=function(e,t){var n=o.protoFiles.get(e);return null==n?null:n.lookupType(t)},o.Encode=function(e,t,n){var r=o.protoFiles.get(e);return null==r?null:r.lookupType(t).encode(n).finish()},o.Decode=function(e,t,n){var r=o.protoFiles.get(e);if(null==r)return null;var u=r.lookupType(t).decode(n);return console.log(u),u},e(o,null,[{key:"Game",get:function(){return o.protoFiles.get("Game")}},{key:"Platform",get:function(){return o.protoFiles.get("Platform")}}]),o}()).protoFiles=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/ProtoBuilder.ts",["cc","./ProtobufUtil.ts"],(function(o){var t,e;return{setters:[function(o){t=o.cclegacy},function(o){e=o.ProtobufUtils}],execute:function(){t._RF.push({},"876f2Ig4d9NzKrkn2OfHb2l","ProtoBuilder",void 0);o("ProtobufBuilder",function(){function o(){this.mapID2Names=void 0,this.protoRootName=void 0,this.protoRoot=void 0,this.mapID2Names=new Map}var t=o.prototype;return t.Init=function(o){this.protoRootName=o,this.protoRoot=e.GetFileRoot(o)},t.SetupID2Names=function(o){this.mapID2Names=o},t.Encode_onlyData=function(o,t){var r=this.mapID2Names.get(o);if(null==this.protoRoot&&(this.protoRoot=e.GetFileRoot(this.protoRootName)),null==this.protoRoot)throw new Error(this.protoRootName+" is not loaded");return this.protoRoot.lookupType(r).encode(t).finish()},t.Encode=function(o,t){var r=this.mapID2Names.get(o);if(null==this.protoRoot&&(this.protoRoot=e.GetFileRoot(this.protoRootName)),null==this.protoRoot)throw new Error(this.protoRootName+" is not loaded");var i=this.protoRoot.lookupType(r).encode(t).finish(),n=new ArrayBuffer(8+i.byteLength),s=new DataView(n);return s.setInt32(0,i.byteLength+4,!0),s.setInt32(4,o,!0),new Uint8Array(n,8).set(i),new Uint8Array(n)},t.Decode=function(o,t){var r=this.mapID2Names.get(o);if(null==this.protoRoot&&(this.protoRoot=e.GetFileRoot(this.protoRootName)),null==this.protoRoot)throw new Error(this.protoRootName+" is not loaded");return this.protoRoot.lookupType(r).decode(t)},o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/QuickDifficultyUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainDef.ts","./ClassConfig.ts","./Facade.ts","./UIControler.ts","./G.ts","./UITools.ts","./QuickDifficultyUIModule.ts","./SettingsModule.ts","./StatisticsUIModule.ts","./LanLabel.ts"],(function(t){var n,i,e,o,l,c,u,a,f,s,r,d,g;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t.math},function(t){o=t.ESudokuType},function(t){l=t.ClassConfig},function(t){c=t.default},function(t){u=t.UIControler},function(t){a=t.default},function(t){f=t.UITools},function(t){s=t.EDifficulty},function(t){r=t.SettingsModule},function(t){d=t.StatisticsModule},function(t){g=t.LanLabel}],execute:function(){i._RF.push({},"afd80nQkqNP6rhuLOCRx7JN","QuickDifficultyUICtrl",void 0);var h=t("QuickDifficultyViewCtrl",function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).maxDifficultyLevel=s.MAX,n}n(i,t);var l=i.prototype;return l._onLoad=function(){this.initUI(),this.regClickHandlers()},l._onEnable=function(){this.updateLanShow()},l._onDisable=function(){},l._onStart=function(){},l._onUpdate=function(){},l.refreshUI=function(){},l.initUI=function(){},l.updateLanShow=function(){for(var t=this.node.getComponentsInChildren(g),n=0;n<t.length;n++)t[n].language()},l.regClickHandlers=function(){var t=this;this.RegClickHanlder("*",(function(t,n,i,e){a.navigator.Go(t)})),this.RegClickHanlder("difficulty",(function(n,i,l,c){var u=parseInt(i,10);u=e.clamp(u,0,t.maxDifficultyLevel-1),a.difficulty=u,f.openBattle({type:o.QuickChallenge,difficulty:u,level:a.leader.difficultyChapterMap[u]})})),this.RegClickHanlder("statistics",(function(t,n,i,e){c.OpenUI(d.sTag)})),this.RegClickHanlder("color-palette",(function(t,n,i,e){var o=i.target;f.openColorPelette(o.worldPosition)})),this.RegClickHanlder("setting",(function(t,n,i,e){c.OpenUI(r.sTag)}))},i}(u));l.addClass("QuickDifficultyViewCtrl",h),i._RF.pop()}}}));

System.register("chunks:///_virtual/QuickDifficultyUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(t){var u,e,i,n,c;return{setters:[function(t){u=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.ModuleBase},function(t){n=t.default},function(t){c=t.default}],execute:function(){e._RF.push({},"4ba2bCyC4ZJG4HJmB4/mQyp","QuickDifficultyUIModule",void 0);t("EDifficulty",function(t){return t[t.EASY=0]="EASY",t[t.MEDIUM=1]="MEDIUM",t[t.HARD=2]="HARD",t[t.EXTRA_HARD=3]="EXTRA_HARD",t[t.Best_HARD=4]="Best_HARD",t[t.MAX=5]="MAX",t}({}));var o=t("QuickDifficultyModule",function(t){function e(){return t.call(this,e.sTag)||this}u(e,t);var i=e.prototype;return i.regNetCmds=function(){},i.unRegNetCmds=function(){},i.regGameEvents=function(){},i.unRegGameEvents=function(){},i.DoWork=function(t){c.OpenUI("QuickDifficulty")},e}(i));o.sTag="QuickDifficulty",n.Set("QuickDifficultyModule",o),e._RF.pop()}}}));

System.register("chunks:///_virtual/RandomManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5bb37n/gbBHxI/VIwNPnGMy","RandomManager",void 0),t("RandomManager",function(){function t(){this.isClient=!0,this.isGlobal=!1,this.random=null}var e=t.prototype;return e.getRandom=function(){return this.isGlobal?Math.random():this.random()},e.setSeed=function(t){},e.getRandomFloat=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=1),this.getRandom()*(n-t)+t},e.getRandomInt=function(t,n,e){switch(void 0===e&&(e=2),t=Math.ceil(t),n=Math.floor(n),e){case 1:return Math.floor(this.getRandom()*(n-t))+t;case 2:return Math.floor(this.getRandom()*(n-t+1))+t;case 3:return Math.floor(this.getRandom()*(n-t-1))+t+1}return 0},e.getRandomByMinMaxList=function(t,n,e){for(var o=[],a=0;a<e;a++)o.push(this.getRandomInt(t,n));return o},e.getRandomByObjectList=function(t,n){for(var e=t.slice(),o=[],a=0;a<n;a++){var i=this.getRandomInt(0,t.length,n);o.push(e.splice(i,1)[0])}return o},e.getRandomBySumList=function(t,n){for(var e=n,o=0,a=[],i=0;i<t;i++)o=this.getRandomInt(0,e,3),i==t-1?o=e:e-=o,a.push(o);return a},n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t,this._instance.random=Math.random),this._instance}}]),t}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/RandomName.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){var n,e,s,a,i,r;return{setters:[function(t){n=t.createForOfIteratorHelperLoose,e=t.createClass,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy},function(t){r=t.JsonUtil}],execute:function(){i._RF.push({},"4f8df8a+GBDS7ZdhCIuh1l/","RandomName",void 0);var o=function(){function t(){this._firstNames=null,this._lastNames=null,this._midNames=null,this._inited=!1}var i=t.prototype;return i.init=function(t){if(null!=t){this._firstNames=[],this._midNames=[],this._lastNames=[];for(var e,s=n(t);!(e=s()).done;){var a=e.value;this._firstNames.push(a.first_name),this._midNames.push(a.middle_name),this._lastNames.push(a.last_name)}this._inited=!0}},i.GenName=function(){var t=s(a().mark((function t(){var n,e,s,i=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=this._inited){t.next=3;break}return t.next=3,r.loadAsync("random_name_config").then((function(t){null!=t?i.init(t):console.warn("....")}));case 3:if(0!=this._inited){t.next=5;break}return t.abrupt("return","");case 5:return n=Math.floor(Math.random()*this._midNames.length),e=this._lastNames[n],n=Math.floor(Math.random()*this._firstNames.length),s=this._firstNames[n],t.abrupt("return",e+s);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.getRandomName=function(){var t=Math.floor(Math.random()*this._midNames.length),n=this._lastNames[t];return t=Math.floor(Math.random()*this._firstNames.length),n+this._firstNames[t]},e(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}();o._instance=null;t("default",o.instance);i._RF.pop()}}}));

System.register("chunks:///_virtual/RankDef.ts",["cc"],(function(n){var r;return{setters:[function(n){r=n.cclegacy}],execute:function(){r._RF.push({},"e11a4uZBO9HCZPCJSXu1lpv","RankDef",void 0);n("ERankName",function(n){return n[n.val0=1]="val0",n[n.val1=2]="val1",n[n.val2=4]="val2",n}({})),n("ERankType",function(n){return n[n.None=0]="None",n[n.Being=1]="Being",n[n.gsusers=1]="gsusers",n[n.allusers=2]="allusers",n[n.cityusers=3]="cityusers",n[n.provinceusers=4]="provinceusers",n[n.countryusers=5]="countryusers",n[n.countryareausers=6]="countryareausers",n[n.countryinworld=7]="countryinworld",n[n.countryinarea=8]="countryinarea",n[n.provinceincountry=9]="provinceincountry",n[n.cityinprovince=10]="cityinprovince",n[n.Max=11]="Max",n}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/RawBuilder.ts",["cc","./InputRawStream.ts","./OutputRawStream.ts"],(function(e){var t,a,r,n;return{setters:[function(e){t=e.cclegacy},function(e){a=e.InputRawStream},function(e){r=e.ERawSerializeType,n=e.OutputRawStream}],execute:function(){t._RF.push({},"404caKff+VMypxCAaxRco9W","RawBuilder",void 0);e("RawBuilder",function(){function e(e){this.mapID2Names=void 0,this.mapName2Tpjson=void 0,this.rootName=void 0,this.rootName=e,this.mapID2Names=new Map,this.mapName2Tpjson=new Map}var t=e.prototype;return t.Setup_cmdidToNames=function(e){this.mapID2Names=e},t.SetupRawDesc=function(e){for(var t=0,a=Object.keys(e);t<a.length;t++){var r=a[t];this.mapName2Tpjson.set(r,e[r])}},t.WriteData=function(e,t,a){switch(t){case r.BOOL:e.WriteBool(a);break;case r.INT8:e.WriteInt8(a);break;case r.UINT8:e.WriteUint8(a);break;case r.INT16:e.WriteInt16(a);break;case r.UINT16:e.WriteUint16(a);break;case r.INT32:e.WriteInt32(a);break;case r.UINT32:e.WriteUint32(a);break;case r.STR:e.WriteString(a);break;case r.BYTES:e.WriteBytes(a)}},t.ReadData=function(e,t){switch(t){case r.BOOL:return e.ReadBool();case r.INT8:return e.ReadInt8();case r.UINT8:return e.ReadUint8();case r.INT16:return e.ReadInt16();case r.UINT16:return e.ReadUint16();case r.INT32:return e.ReadInt32();case r.UINT32:return e.ReadUint32();case r.STR:return e.ReadString();case r.BYTES:return e.ReadBytes()}return null},t.Encode=function(e,t){var a=this.mapID2Names.get(e),r=this.mapName2Tpjson.get(a),s=new n;s.Setup(2048),s.WriteInt32(e);for(var i=0,c=Object.keys(r);i<c.length;i++){var o=c[i];if(t.hasOwnProperty(o)){var u=t[o],p=r[o];this.WriteData(s,p,u)}}var m=s.Data;return console.log(m),s.Data},t.Decode=function(e,t){for(var r=this.mapID2Names.get(e),n=this.mapName2Tpjson.get(r),s=new a(t),i={},c=0,o=Object.keys(n);c<o.length;c++){var u=o[c],p=n[u];i[u]=this.ReadData(s,p)}return i},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RawStreamDef.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8a362NDVxFFLJtqI3NG2oQy","RawStreamDef",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RedPointDefault.ts",["cc","./RedPointSys.ts"],(function(){var t,e;return{setters:[function(e){t=e.cclegacy},function(t){e=t.default}],execute:function(){t._RF.push({},"0aaa0T1mqRETrVN5VDwC0SK","RedPointDefault",void 0);e.RegCheckMethod("Weapon",(function(t){return!1})),t._RF.pop()}}}));

System.register("chunks:///_virtual/RedPointSys.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"2207ft7xJFGHZrSJGelCy6f","RedPointSys",void 0);e("RedPiontCheckItem",function(){function e(){this._sensi_redpoint_names=[],this._sensi_redpoint_ui=null,this._sensi_redpoint_id=0}var n=e.prototype;return n.redpoint_name_push=function(e){this._sensi_redpoint_names.push(e)},n.redpoint_name_ui=function(e){null!=e&&(this._sensi_redpoint_ui=e)},n.sensi_redpoint_id=function(e){this._sensi_redpoint_id=e},n.CanShowRedPoint=function(){var e=i.Check(this._sensi_redpoint_names,this._sensi_redpoint_id);return this._sensi_redpoint_ui&&(this._sensi_redpoint_ui.active=e),e},e}());var i=e("default",new(function(){function e(){this._regs=new Map}var t=e.prototype;return t.RegCheckMethod=function(e,n){this._regs.set(e,n)},t.Check=function(e,t){if(void 0===t&&(t=0),null==e||e.length<=0)return!1;for(var i,s=!1,r=n(e);!(i=r()).done;){var o=i.value,_=this._regs.get(o);if(null!=_&&1==(s=_(t)))return s}return s},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/RegexUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"1bde3/ZKyNAsrcZ4sXyrDvG","RegexUtil",void 0);e("RegexUtil",function(){function e(){}return e.isDoubleWord=function(e){return/[^\x00-\xff]/.test(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ResCheckModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts","./ModuleBase.ts","./StringToModule.ts","./G.ts","./TGame.ts"],(function(e){var t,n,o,u,s,c,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.default},function(e){u=e.ModuleBase},function(e){s=e.default},function(e){c=e.default},function(e){i=e.EGameStage}],execute:function(){n._RF.push({},"8796dWFJwlB/JB2/VGlVDxx","ResCheckModule",void 0);var r=e("ResCheckModule",function(e){function n(){return e.call(this,n.sTag)||this}t(n,e);var u=n.prototype;return u.UseConfig=function(e){},u.regGameEvents=function(){this.regGameEvent("evt_res_chk_end",this.WorkEnd)},u.unRegGameEvents=function(){},u.regNetCmds=function(){},u.unRegNetCmds=function(){},u.Update=function(e){},u.DoWork=function(e){c.tlGame.SetStage(i.ResCheck),o.OpenUI("ResCheck")},u.WorkEnd=function(){o.CloseUI("ResCheck",!0),o.GetModule("Login").DoWork()},n}(u));r.sTag="ResCheck",s.Set("ResCheckModule",r),n._RF.pop()}}}));

System.register("chunks:///_virtual/ResCheckUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./UIControler.ts"],(function(e){var n,t,o,i,r,s,l;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e.find,i=e.ProgressBar,r=e.Label},function(e){s=e.ClassConfig},function(e){l=e.UIControler}],execute:function(){t._RF.push({},"08f7ddvYTBNsJktBK5lR3gX","ResCheckUICtrl",void 0);var u=e("ResCheckViewCtrl",function(e){function t(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).uiFileProgress=null,n.uiFileprogressLable=null,n.uiBtnReTry=null,n.uiInfoLabel=null,n}n(t,e);var s=t.prototype;return s._onLoad=function(){this.uiFileProgress=o("update_panel/fileProgress",this.node).getComponent(i),this.uiFileprogressLable=o("update_panel/fileProgress/filep",this.node).getComponent(r),this.uiBtnReTry=o("update_panel/retryBtn",this.node),this.uiInfoLabel=o("update_panel/info",this.node).getComponent(r)},s._onEnable=function(){},s._onDisable=function(){},s._onStart=function(){},s._onUpdate=function(e){},t}(l));s.addClass("ResCheckViewCtrl",u),t._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["cc"],(function(e){var n,s,t,l,r,o;return{setters:[function(e){n=e.cclegacy,s=e.assetManager,t=e.error,l=e.js,r=e.Asset,o=e.resources}],execute:function(){n._RF.push({},"3d9ac6h2jRAJr6JYKv010um","ResLoader",void 0);e("ResLoader",function(){function e(){this.defaultBundleName="resources"}var n=e.prototype;return n.loadRemote=function(e){var n=null,t=null;2==(arguments.length<=1?0:arguments.length-1)?(n=arguments.length<=1?void 0:arguments[1],t=arguments.length<=2?void 0:arguments[2]):t=arguments.length<=1?void 0:arguments[1],s.loadRemote(e,n,t)},n.loadBundle=function(e,n){return new Promise((function(l,r){s.loadBundle(e,{version:n},(function(e,n){if(e)return t(e);l(n)}))}))},n.load=function(e,n,s,t,l){var r=null;"string"==typeof n||n instanceof Array?(r=this.parseLoadResArgs(n,s,t,l)).bundle=e:(r=this.parseLoadResArgs(e,n,s,t)).bundle=this.defaultBundleName,this.loadByArgs(r)},n.loadAsync=function(e,n,s){var l=this;return new Promise((function(r,o){l.load(e,n,s,(function(e,n){e&&t(e.message),r(n)}))}))},n.loadDir=function(e,n,s,t,l){var r=null;"string"==typeof n?(r=this.parseLoadResArgs(n,s,t,l)).bundle=e:(r=this.parseLoadResArgs(e,n,s,t)).bundle=this.defaultBundleName,r.dir=r.paths,this.loadByArgs(r)},n.release=function(e,n){null==n&&(n=this.defaultBundleName);var t=s.getBundle(n);if(t){var l=t.get(e);l&&this.releasePrefabtDepsRecursively(l._uuid)}},n.releaseDir=function(e,n){var t=this;null==n&&(n=this.defaultBundleName);var l=s.getBundle(n);if(l){var r=l.getDirWithPath(e);r&&r.map((function(e){t.releasePrefabtDepsRecursively(e.uuid)})),""==e&&"resources"!=n&&s.removeBundle(l)}},n.releasePrefabtDepsRecursively=function(e){var n=s.assets.get(e);s.releaseAsset(n)},n.get=function(e,n,t){return null==t&&(t=this.defaultBundleName),s.getBundle(t).get(e,n)},n.dump=function(){s.assets.forEach((function(e,n){console.log(s.assets.get(n))})),console.log("当前资源总数:"+s.assets.count)},n.parseLoadResArgs=function(e,n,s,t){var o=e,u=n,a=s,i=t;if(void 0===t){var d=l.isChildClassOf(n,r);s?(i=s,d&&(a=null)):void 0!==s||d||(i=n,a=null,u=null),void 0===s||d||(a=n,u=null)}return{paths:o,type:u,onProgress:a,onComplete:i}},n.loadByBundleAndArgs=function(e,n){n.dir?e.loadDir(n.paths,n.type,n.onProgress,n.onComplete):(n.paths,e.load(n.paths,n.type,n.onProgress,n.onComplete))},n.loadByArgs=function(e){var n=this;if(e.bundle)if(s.bundles.has(e.bundle)){var t=s.bundles.get(e.bundle);this.loadByBundleAndArgs(t,e)}else s.loadBundle(e.bundle,(function(s,t){s||n.loadByBundleAndArgs(t,e)}));else this.loadByBundleAndArgs(o,e)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ResManager.ts",["cc","./display.ts"],(function(e){var n,t,a,s,i,r,o,l,u,c,d,f;return{setters:[function(e){n=e.cclegacy,t=e.assetManager,a=e.log,s=e.js,i=e.AssetManager,r=e.director,o=e.Node,l=e.Texture2D,u=e.SpriteFrame,c=e.Asset,d=e.NodePool},function(e){f=e.display}],execute:function(){n._RF.push({},"6dd73JJhNRP6qKhILeN1c7s","ResManager",void 0),e("ResManager",function(){function e(){}return e.getBundle=function(n){return e._bundleList.get(n)},e.removeBundle=function(n){var a=e._bundleList.get(n);a&&t.removeBundle(a)},e.loadBundle=function(n,s){var i=t.getBundle(n);i?null==s||s(null,i):t.loadBundle(n,(function(t,i){t?(a("loadBundle load bundle '%s' failed : %s",n,t.message),null==s||s(t,null)):(e._bundleList[n]=i,null==s||s(t,i))}))},e.loadResAsyn=function(n,t,s,i){var r=t;t.lastIndexOf(".")>0&&(r=t.substring(0,t.lastIndexOf("."))),s==u&&(r+="/spriteFrame"),e.loadBundle(n,(function(e,t){null!=e?(a("loadResAsyn load bundle '%s' failed : %s",n,e.message),null==i||i(e,null)):t.load(r,s,(function(e,n){null!=e&&a("load '%s' failed : %s",r,e.message),null==i||i(e,n)}))}))},e.preLoadResAsyn=function(n,t,s){var i=t;t.lastIndexOf(".")>0&&(i=t.substring(0,t.lastIndexOf("."))),s==u&&(i+="/spriteFrame"),e.loadBundle(n,(function(e,t){null!=e?a("preLoadResAsyn load bundle '%s' failed : %s",n,e.message):t.preload(i)}))},e}())._bundleList=new Map;function g(e,n){if(e._uuid)n[e._uuid]||(n[e._uuid]=!0),v(e,n);else if(e instanceof u)if(e._original){var t=e._original._texture;t&&g(t,n)}else{var a=e.texture;a&&g(a,n)}}function v(e,n){for(var t=Object.getOwnPropertyNames(e),a=0;a<t.length;a++){var s=e[t[a]];if("object"==typeof s&&s)if(s instanceof d)p(s,n);else if(Array.isArray(s))for(var i=0;i<s.length;i++){var r=s[i];r instanceof c&&g(r,n)}else if(s.constructor&&s.constructor!==Object)s instanceof c&&g(s,n);else for(var o=Object.getOwnPropertyNames(s),l=0;l<o.length;l++){var u=s[o[l]];u instanceof c&&g(u,n)}}}function h(e,n){var t=e._prefab;t&&(n[t.asset.uuid]||(n[t.asset.uuid]=!0));for(var a=0;a<e._components.length;a++)v(e._components[a],n);for(var s=0;s<e._children.length;s++)h(e._children[s],n)}function _(e,n){if(!n[e.uuid])if(e.complete){var t=e.content;t?t instanceof c?g(t,n):a("asset instanceof cc.RawAsset === false"):a("item.complete === true, but item.content  is empty"),n[e.uuid]=!0,""===e.url&&a("debug")}else{n[e.uuid]=!0,""===e.url&&a("debug");var s=e.deps;if(s&&s.length>0)for(var i=0;i<s.length;i++){_(s[i],n)}}}function p(e,n){for(var t=e._pool,a=0;a<t.length;a++){h(t[a],n)}}e("ResCleaner",function(){function e(){}return e.clean=function(){console.log("---\x3e资源释放 开始");for(var e=Date.now(),n=s.createMap(),t=i.instance.assets,a=r.getScene().children,u=0;u<a.length;u++)h(a[u],n);for(var c in t.forEach((function(e){i.instance.downloader._downloading.get(e.uuid)&&_(e,n)})),this._whiteList){var d=this._whiteList[c];d instanceof o?h(d,n):_(d,n)}var g=0,v=[];t.forEach((function(e){n[e.uuid]||-1!==i.instance._releaseManager._dontDestroyAssets.indexOf(e.uuid)||v.push(e)}));for(var p=0;p<v.length;p++){var m=v[p];if(m){var b=m;b&&b instanceof l&&(g+=b.width*b.height*4),i.instance._releaseManager.tryRelease(b)}}f.isWX();var y=Date.now()-e;console.log("<---资源释放结束。耗时："+y+"ms, 释放资源数量："+v.length+"，释放显存："+g/1048576+"MB")},e.addwhiteList=function(n){e._whiteList.push(n)},e.getTexGPUMemory=function(){var e=0,n=i.instance.assets;for(var t in n){var a=n[t].content;if(a&&a instanceof l){var s=a.getPixelFormat()==l.PixelFormat.RGBA8888?4:3;e+=a.width*a.height*s}}return e/1048576},e}())._whiteList=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/ResolutionAutoFit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,e,s,n,u,l,c;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,s=t.screen,n=t.view,u=t.ResolutionPolicy,l=t.size,c=t.Component}],execute:function(){var r;o._RF.push({},"9c38eW6fzRJQpoJjwykYEVi","ResolutionAutoFit",void 0);var a=e.ccclass;e.property,t("ResolutionAutoFit",a("tgxResolutionAutoFit")(r=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this)._oldSize=l(),i.lastCheckTime=0,i}i(o,t);var e=o.prototype;return e.start=function(){this.adjustResolutionPolicy()},e.update=function(t){this.lastCheckTime+=t,this.lastCheckTime<.1||(this.lastCheckTime=0,this.adjustResolutionPolicy())},e.adjustResolutionPolicy=function(){var t=s.windowSize;if(!this._oldSize.equals(t)){var i=t.width/t.height,o=n.getDesignResolutionSize();i>o.width/o.height?n.setResolutionPolicy(u.FIXED_HEIGHT):n.setResolutionPolicy(u.FIXED_WIDTH),this._oldSize.set(t)}},o}(c))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/richText.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts"],(function(e){var t,r,n,c,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,c=e.sys,o=e.Component},function(e){i=e.default}],execute:function(){var u;r._RF.push({},"66df18A28tBDJNHjwvNXq1Z","richText",void 0);var s=n.ccclass;n.property,e("richText",s("richText")(u=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var n=r.prototype;return n.userAgreement=function(){c.openURL(i.gameCfg.userAgreementUrl)},n.privactPolicy=function(){c.openURL(i.gameCfg.privactPolicyUrl)},r}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/RichText2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TinyXml2.ts","./NodeHelper.ts"],(function(t){var e,i,n,_,s,r,o,E,h,T,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.RichText,_=t.VerticalTextAlignment,s=t.UITransform,r=t.Node,o=t.Size,E=t.HorizontalTextAlignment,h=t.Component},function(t){T=t.tinyxml2},function(t){l=t.NodeHelper}],execute:function(){i._RF.push({},"25389QMU/BCq6tk0MUsl3XX","RichText",void 0);var f=function(t){return t[t.TEXT=0]="TEXT",t[t.IMAGE=1]="IMAGE",t[t.NEWLINE=2]="NEWLINE",t}(f||{}),a=function(){function t(){this._type=void 0,this._tag=void 0,this._color=void 0,this._opacity=void 0}var e=t.prototype;return e.equalType=function(t){return this._type==t},e.init=function(t,e,i){this._tag=t,this._color=e,this._opacity=i},e.setColor=function(t){this._color=t},t}();a.Type=f;var u=function(t){function i(){var e;return(e=t.call(this)||this)._filePath=void 0,e._width=void 0,e._height=void 0,e._url=void 0,e._type=f.IMAGE,e}e(i,t),i.create=function(t,e,n,_,s){var r=new i;return r._init(t,e,n,_,s),r};var n=i.prototype;return n._init=function(e,i,n,_,s){t.prototype.init.call(this,e,i,n),this._filePath=_,this._width=-1,this._height=-1,this._url=s},n.setWidth=function(t){this._width=t},n.setHeight=function(t){this._height=t},n.setUrl=function(t){""!=t&&""==this._url&&(this._url=t)},i}(a),c=function(t){function i(){var e;return(e=t.call(this)||this)._type=f.NEWLINE,e}return e(i,t),i.create=function(t,e,n){var _=new i;return _.init(t,e,n),_},i}(a),L=function(t){return t[t.ITALICS_FLAG=1]="ITALICS_FLAG",t[t.BOLD_FLAG=2]="BOLD_FLAG",t[t.UNDERLINE_FLAG=4]="UNDERLINE_FLAG",t[t.STRIKETHROUGH_FLAG=8]="STRIKETHROUGH_FLAG",t[t.URL_FLAG=16]="URL_FLAG",t[t.OUTLINE_FLAG=32]="OUTLINE_FLAG",t[t.SHADOW_FLAG=64]="SHADOW_FLAG",t[t.GLOW_FLAG=128]="GLOW_FLAG",t[t.PATTERN_FLAG=256]="PATTERN_FLAG",t}(L||{}),O=function(t){function i(){var e;return(e=t.call(this)||this)._text=void 0,e._flags=void 0,e._fontSize=void 0,e._url=void 0,e._outlineColor=void 0,e._outlineSize=void 0,e._type=f.TEXT,e}return e(i,t),i.create=function(t,e,n,_,s,r,o,E,h){void 0===r&&(r=0),void 0===o&&(o=null),void 0===E&&(E=null),void 0===h&&(h=0);var T=new i;return T._init(t,e,n,_,s,r,o,E,h),T},i.prototype._init=function(e,i,n,_,s,r,o,E,h){t.prototype.init.call(this,e,i,n),this._text=_,this._fontSize=s,this._flags=r,this._url=o,this._outlineColor=E,this._outlineSize=h},i}(a);O.Flag=L;var N=function(){function t(){this.color="",this.fontSize=-1,this.url="",this.outlineColor="",this.outlineSize=1,this.effect=new Map,this.hasColor=!1,this.bold=!1,this.italics=!1,this.underline=!1,this.fontOffsetX=0,this.fontOffsetY=0,this.face=""}return t.prototype.setColor=function(t){this.color=t,this.hasColor=!0},t}(),g=function(t){return t[t.FONT_STYLE_OUTLINE=0]="FONT_STYLE_OUTLINE",t[t.FONT_STYLE_SHADOW=1]="FONT_STYLE_SHADOW",t[t.FONT_STYLE_GLOW=2]="FONT_STYLE_GLOW",t[t.FONT_STYLE_PATTERN=3]="FONT_STYLE_PATTERN",t[t.FONT_STYLE_MAX=4]="FONT_STYLE_MAX",t}(g||{}),Y=function(t){function i(e){var n;return(n=t.call(this)||this)._richText=void 0,n._pushNumVec=[],n._fontElements=[],n._richText=e,i.initTagDescriptions(),n}e(i,t),i.setTagDescription=function(t,e,n){i._tagTables.set(t,{isFontElement:e,handleVisitEnter:n})},i.initTagDescriptions=function(){i._tagTables.size>0||(i.setTagDescription("font",!0,(function(t){var e=new Map;return i.parseCommonAttributes(e,t),t.has("size")&&e.set(I.KEY_FONT_SIZE,t.get("size")),t.has("color")&&e.set(I.KEY_FONT_COLOR_STRING,t.get("color")),t.has("face")&&e.set(I.KEY_FONT_FACE,t.get("face")),t.has("offsetY")&&e.set(I.KEY_FONT_OFFSET_Y,t.get("offsetY")),t.has("offsetX")&&e.set(I.KEY_FONT_OFFSET_X,t.get("offsetX")),[e,null]})),i.setTagDescription("b",!0,(function(t){var e=new Map;return i.parseCommonAttributes(e,t),e.set(I.KEY_TEXT_BOLD,1),[e,null]})),i.setTagDescription("i",!0,(function(t){var e=new Map;return i.parseCommonAttributes(e,t),e.set(I.KEY_TEXT_ITALIC,1),[e,null]})),i.setTagDescription("del",!0,(function(t){var e=new Map;return i.parseCommonAttributes(e,t),e.set(I.KEY_TEXT_LINE_DEL,1),[e,null]})),i.setTagDescription("u",!0,(function(t){var e=new Map;return i.parseCommonAttributes(e,t),e.set(I.KEY_TEXT_LINE_UNDER,1),[e,null]})),i.setTagDescription("img",!1,(function(t){var e="",n=-1,_=-1,s="";t.has("src")&&(e=t.get("src")),t.has("height")&&(n=parseInt(t.get("height"))),t.has("width")&&(_=parseInt(t.get("width"))),t.has("url")&&(s=t.get("url"));var r=null;e.length>0&&(r=u.create(0,"#ffffff",255,e,s),0<=n&&r.setHeight(n),0<=_&&r.setWidth(_));var o=new Map;return i.parseCommonAttributes(o,t),[o,r]})),i.setTagDescription("a",!0,(function(t){var e=new Map;return i.parseCommonAttributes(e,t),t.has("href")&&e.set(I.KEY_URL,t.get("href")),[e,null]})),i.setTagDescription("br",!1,(function(t){var e=c.create(0,"#ffffff",255),n=new Map;return i.parseCommonAttributes(n,t),[n,e]})),i.setTagDescription("outline",!0,(function(t){var e=new Map;return i.parseCommonAttributes(e,t),e.set(I.KEY_TEXT_STYLE_OUTLINE,1),t.has("color")&&e.set(I.KEY_TEXT_OUTLINE_COLOR,t.get("color")),t.has("size")&&e.set(I.KEY_TEXT_OUTLINE_SIZE,t.get("size")),[e,null]})),i.setTagDescription("space",!1,(function(t){var e=1;t.has("count")&&(e=parseInt(t.get("count")));for(var n="",_=0;_<e;_++)n+=" ";var s=O.create(0,"#ffffff",255,n,-1),r=new Map;return i.parseCommonAttributes(r,t),[r,s]})))},i.parseCommonAttributes=function(t,e){e.has("id")&&t.set(I.KEY_ID,e.get("id")),e.has("class")&&t.set(I.KEY_CLASS,e.get("class")),e.has("style")&&t.set(I.KEY_STYLE,e.get("style"))};var n=i.prototype;return n.getColor=function(){for(var t=this._fontElements.length-1;t>=0;t--)if(this._fontElements[t].hasColor)return this._fontElements[t].color;return"#ffffff"},n.getFontSize=function(){for(var t=this._fontElements.length-1;t>=0;t--)if(-1!=this._fontElements[t].fontSize)return this._fontElements[t].fontSize;return this._richText._richText.fontSize},n.getFace=function(){for(var t=this._fontElements.length-1;t>=0;t--)if(0!=this._fontElements[t].face.length)return this._fontElements[t].face;return"fonts/Marker Felt.ttf"},n.getURL=function(){for(var t=this._fontElements.length-1;t>=0;t--)if(0!=this._fontElements[t].url.length)return this._fontElements[t].url;return""},n.getBold=function(){for(var t=this._fontElements.length-1;t>=0;t--)if(this._fontElements[t].bold)return!0;return!1},n.getItalics=function(){for(var t=this._fontElements.length-1;t>=0;t--)if(this._fontElements[t].italics)return!0;return!1},n.getUnderline=function(){for(var t=this._fontElements.length-1;t>=0;t--)if(this._fontElements[t].underline)return!0;return!1},n.getFontOffset=function(){if(0==this._fontElements.length)return[0,0];var t=this._fontElements[this._fontElements.length-1];return t.fontOffsetX<1e4||t.fontOffsetY<1e4?[t.fontOffsetX,t.fontOffsetY]:[0,0]},n.getOutline=function(){for(var t=this._fontElements.length-1;t>=0;t--)if(this._fontElements[t].effect.has(g.FONT_STYLE_OUTLINE))return[!0,this._fontElements[t].outlineColor,this._fontElements[t].outlineSize];return[!1,"#ffffff",-1]},n.VisitEnter=function(t){var e=t.name,n=i._tagTables.get(e);if(n){var _=0;if(n.handleVisitEnter){var s=t.attributes,r=n.handleVisitEnter(s),o=r[0],E=r[1];if(o.size>0&&n.isFontElement){var h=new N;this.convertValueMapToAttributes(h,o),this.pushBackFontElement(h),_++}if(E){if(E.equalType(a.Type.IMAGE))E.setColor(this.getColor()),E.setUrl(this.getURL());else E.equalType(a.Type.NEWLINE)&&E.setColor(this.getColor());this._richText.pushBackElement(E)}}this._pushNumVec.push(_)}return!0},n.VisitExit=function(t){if(null!=i._tagTables.get(t))for(var e=this._pushNumVec.pop(),n=0;n<e;n++)this.popBackFontElement();return!0},n.Visit=function(t){var e=this.getColor(),i=this.getFontSize(),n=this.getItalics(),_=this.getUnderline(),s=this.getBold(),r=this.getURL(),o=this.getOutline(),E=(this.getFontOffset(),0);n&&(E|=O.Flag.ITALICS_FLAG),s&&(E|=O.Flag.BOLD_FLAG),_&&(E|=O.Flag.UNDERLINE_FLAG),r.length>0&&(E|=O.Flag.URL_FLAG),o[0]&&(E|=O.Flag.OUTLINE_FLAG);var h=O.create(0,e,255,t,i,E,r,o[1],o[2]);return this.pushBackElement(h),!0},n.pushBackFontElement=function(t){this._fontElements.push(t)},n.popBackFontElement=function(){this._fontElements.pop()},n.pushBackElement=function(t){this._richText.pushBackElement(t)},n.convertValueMapToAttributes=function(t,e){e.has(I.KEY_FONT_SIZE)&&(t.fontSize=Number(e.get(I.KEY_FONT_SIZE))),e.has(I.KEY_FONT_COLOR_STRING)&&t.setColor(e.get(I.KEY_FONT_COLOR_STRING)),e.has(I.KEY_URL)&&(t.url=e.get(I.KEY_URL),t.setColor(this._richText.getAnchorFontColor())),e.has(I.KEY_TEXT_STYLE_OUTLINE)&&(t.effect.set(g.FONT_STYLE_OUTLINE,!0),e.has(I.KEY_TEXT_OUTLINE_COLOR)&&(t.outlineColor=e.get(I.KEY_TEXT_OUTLINE_COLOR)),e.has(I.KEY_TEXT_OUTLINE_SIZE)&&(t.outlineSize=e.get(I.KEY_TEXT_OUTLINE_SIZE)))},i}(T.XMLVisitor);Y.FontStyle=g,Y._tagTables=new Map;var I=t("PCRichText",function(t){function i(){var e;return(e=t.call(this)||this)._richText=null,e._xmlString="",e._xmlStringDirty=!1,e._defaults=new Map,e._ignoreSize=!1,e._formatTextDirty=!1,e._isParseError=!1,e._customSize=new o(0,0),e._richElements=[],e._attrValueStack=new Array,e._defaults[i.KEY_WRAP_MODE]=0,e._defaults[i.KEY_ROW_ALIGN_MODE]=E.LEFT,e._defaults[i.KEY_COL_ALIGN_MODE]=_.BOTTOM,e._defaults[i.KEY_FONT_COLOR_STRING]="#ffffff",e._defaults[i.KEY_FONT_SIZE]=12,e._defaults[i.KEY_ANCHOR_FONT_COLOR_STRING]="#0000FF",e._defaults[i.KEY_ANCHOR_TEXT_BOLD]=!1,e._defaults[i.KEY_ANCHOR_TEXT_ITALIC]=!1,e._defaults[i.KEY_ANCHOR_TEXT_LINE_UNDER]=!1,e}e(i,t),i.createWithXML=function(t,e){void 0===e&&(e=null);var n=new r("PCRichText"),_=(n.addComponent(s).setAnchorPoint(0,0),n.addComponent(i));return _.initWithXML(t,e),_};var h=i.prototype;return h.update=function(t){this.rebuildElements(!1),this.formatText()},h.initWithXML=function(t,e){void 0===e&&(e=null),this._richText=this.node.getComponent(n),this._richText||(this._richText=this.node.addComponent(n)),this.setDefaults(e),this.setString(t)},h.getString=function(){return this._xmlString},h.setString=function(t){this._xmlString!=t&&(this._xmlString=t,this._xmlStringDirty=!0,this.renderContent())},h.rebuildElements=function(t){if(void 0===t&&(t=!1),!this._xmlStringDirty&&!t)return!1;var e=new T.XMLDocument;this._richElements=[];var i=new Y(this);return e.parse(this._xmlString,i)?(this._formatTextDirty=!0,this._xmlStringDirty=!1,this._isParseError=!1,!0):(this._isParseError=!0,!1)},h.pushBackElement=function(t){this._richElements.push(t),this._formatTextDirty=!0},h.getAnchorFontColor=function(){return this._defaults.get(i.KEY_ANCHOR_FONT_COLOR_STRING)},h.setDefaults=function(t){if(t)for(var e in t)if(this._defaults.set(e,t[e]),"KEY_WRAP_MODE"==e);else if("KEY_COL_ALIGN_MODE"==e){var i=Number(t[e]);this._richText.verticalAlign=0==i?_.BOTTOM:1==i?_.CENTER:_.TOP}},h.formatText=function(){if(this._formatTextDirty){for(var t="",e=0;e<this._richElements.length;e++){var i=this._richElements[e];if(i.equalType(f.TEXT)){var n=i,_=n._text;n._color.length>0&&(_="<color="+n._color+">"+_+"</color>"),n._fontSize>0&&(_="<size="+n._fontSize+">"+_+"</size>"),n._flags&L.OUTLINE_FLAG&&(_="<outline color="+n._outlineColor+" width="+n._outlineSize+">"+_+"</outline>"),n._flags&L.ITALICS_FLAG&&(_="<i>"+_+"</i>"),n._flags&L.BOLD_FLAG&&(_="<b>"+_+"</b>"),n._flags&L.UNDERLINE_FLAG&&(_="<u>"+_+"</u>"),t+=_}else if(i.equalType(f.IMAGE)){var s=i,r="<img src="+s._filePath;s._width>0&&(r+=" width="+s._width),s._height>0&&(r+=" height="+s._height),t+=r+="/>"}else i.equalType(f.NEWLINE)&&(t+="<br/>")}this._formatTextDirty=!1,function(t,e,i){void 0===i&&(i=!0),this.string=e,i&&(this.node._activeInHierarchy=!0,this._updateRichText())}(this._richText,t)}},h.renderContent=function(t,e,i){void 0===t&&void 0===e||(void 0===t&&(t=this.node.getComponent(s).width),void 0===e&&(e=this.node.getComponent(s).height),t<=0&&e<=0?this.ignoreContentAdaptWithSize(!0):(this.ignoreContentAdaptWithSize(!1),l.setContentSize(this.node,t,e))),this.rebuildElements(i),this.formatText()},h.ignoreContentAdaptWithSize=function(t){this._ignoreSize!=t&&(this._formatTextDirty=!0,this._ignoreSize=t,this._richText.maxWidth=t?0:this._customSize.width)},i}(h));I.KEY_ID="KEY_ID",I.KEY_CLASS="KEY_CLASS",I.KEY_STYLE="KEY_STYLE",I.KEY_WRAP_MODE="KEY_WRAP_MODE",I.KEY_LINE_HEIGHT="KEY_LINE_HEIGHT",I.KEY_SPECHAR_TYPESETTING="KEY_SPECHAR_TYPESETTING",I.KEY_LEFT_MARGIN="KEY_LEFT_MARGIN",I.KEY_RIGHT_MARGIN="KEY_RIGHT_MARGIN",I.KEY_ROW_ALIGN_MODE="KEY_ROW_ALIGN_MODE",I.KEY_COL_ALIGN_MODE="KEY_COL_ALIGN_MODE",I.KEY_TEXT_STYLE_OUTLINE="KEY_TEXT_STYLE_OUTLINE",I.KEY_TEXT_OUTLINE_COLOR="KEY_TEXT_OUTLINE_COLOR",I.KEY_TEXT_OUTLINE_SIZE="KEY_TEXT_OUTLINE_SIZE",I.KEY_URL="KEY_URL",I.KEY_FONT_SIZE="KEY_FONT_SIZE",I.KEY_FONT_COLOR_STRING="KEY_FONT_COLOR_STRING",I.KEY_FONT_FACE="KEY_FONT_FACE",I.KEY_FONT_OFFSET_Y="KEY_FONT_OFFSET_Y",I.KEY_FONT_OFFSET_X="KEY_FONT_OFFSET_X",I.KEY_TEXT_BOLD="KEY_TEXT_BOLD",I.KEY_TEXT_ITALIC="KEY_TEXT_ITALIC",I.KEY_TEXT_LINE_DEL="KEY_TEXT_LINE_DEL",I.KEY_TEXT_LINE_UNDER="KEY_TEXT_LINE_UNDER",I.KEY_ANCHOR_FONT_COLOR_STRING="KEY_ANCHOR_FONT_COLOR_STRING",I.KEY_ANCHOR_TEXT_BOLD="KEY_ANCHOR_TEXT_BOLD",I.KEY_ANCHOR_TEXT_ITALIC="KEY_ANCHOR_TEXT_ITALIC",I.KEY_ANCHOR_TEXT_LINE_DEL="KEY_ANCHOR_TEXT_LINE_DEL",I.KEY_ANCHOR_TEXT_LINE_UNDER="KEY_ANCHOR_TEXT_LINE_UNDER",i._RF.pop()}}}));

System.register("chunks:///_virtual/RotateUtil.ts",["cc","./Vec3Util.ts"],(function(t){var o,n,r,e,i;return{setters:[function(t){o=t.cclegacy,n=t.Quat,r=t.Vec3,e=t.toRadian},function(t){i=t.Vec3Util}],execute:function(){o._RF.push({},"d22c6NNo+xCh5kOt4wnc+K+","RotateUtil",void 0);t("RotateUtil",function(){function t(){}return t.rotateAround=function(t,o,r){var e=new n;n.rotateAround(e,t.getRotation(),o.normalize(),r),t.setRotation(e)},t.rotateAroundTarget=function(t,o,e,i){var a=t.worldPosition,u=o.worldPosition,c=new n,s=new r;n.fromAxisAngle(c,e,i),r.subtract(s,u,a),r.transformQuat(s,s,c),r.add(s,a,s),o.setWorldPosition(s),n.rotateAround(c,o.worldRotation,e,i),n.normalize(c,c),o.setWorldRotation(c)},t.circularEdgePosition=function(t,o,a){var u=i.z.multiplyScalar(o),c=i.sub(u,t),s=new r,l=new n;return n.fromAxisAngle(l,r.UP,e(a)),r.transformQuat(s,c,l),r.add(s,t,s),s},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/RtToModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,a,l,c,u,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Camera,c=e.MeshRenderer,u=e.RenderTexture,s=e.Component}],execute:function(){var p,d,f,y,h,m,b;i._RF.push({},"a91ec2sS4lETbOsv5aahhzm","RtToModel",void 0);var v=a.ccclass,R=a.property;e("RtToModel",(p=v("RtToModel"),d=R(l),f=R(c),p((m=r((h=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,n(r,"camara",m,o(r)),n(r,"model",b,o(r)),r.rt=new u,r}t(r,e);var i=r.prototype;return i.start=function(){},i.onDestroy=function(){this.rt.destroy()},r}(s)).prototype,"camara",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(h.prototype,"model",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/RtToSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,n,s,h,a,p,u,c,l,f,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,h=t.Camera,a=t.Sprite,p=t.Node,u=t.RenderTexture,c=t.UITransform,l=t.gfx,f=t.SpriteFrame,T=t.Component}],execute:function(){var d,y,v,m,g,E,b,C,R,S,w;n._RF.push({},"cc414ovndtPMY4/l+YeepxD","RtToSprite",void 0);var _=s.ccclass,O=s.property;t("RtToSprite",(d=_("RtToSprite"),y=O({type:h,tooltip:"渲染模型的三维摄像机"}),v=O({type:a,tooltip:"显示模型的二维精灵组件"}),m=O({tooltip:"是否触摸控制旋转"}),g=O({type:p,tooltip:"三维模型",visible:function(){return!0===this.rotation}}),d((C=e((b=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"camera",C,r(e)),o(e,"sprite",R,r(e)),o(e,"rotation",S,r(e)),o(e,"model",w,r(e)),e.rt=new u,e.touched=!1,e}i(e,t);var n=e.prototype;return n.start=function(){var t=this.sprite.getComponent(c);this.refreshRenderTexture(t.width,t.height),this.rotation&&(this.sprite.node.on(p.EventType.TOUCH_START,this.onTouchStart,this),this.sprite.node.on(p.EventType.TOUCH_MOVE,this.onTouchMove,this),this.sprite.node.on(p.EventType.TOUCH_END,this.onTouchEnd,this),this.sprite.node.on(p.EventType.TOUCH_CANCEL,this.onTouchEnd,this))},n.onTouchStart=function(t){this.touched=!0},n.onTouchMove=function(t){if(this.touched){var e=this.model.eulerAngles,i=t.touch.getDelta().x;e.y+=-i,this.model.eulerAngles=e}},n.onTouchEnd=function(t){this.touched=!1},n.refreshRenderTexture=function(t,e){var i=new l.ColorAttachment,o=new l.DepthStencilAttachment,r=new l.RenderPassInfo([i],o,[]);this.rt.reset({width:t,height:e,passInfo:r});var n=this.sprite.spriteFrame,s=new f;s.reset({originalSize:n.originalSize,rect:n.rect,offset:n.offset,isRotate:n.rotated,borderTop:n.insetTop,borderLeft:n.insetLeft,borderBottom:n.insetBottom,borderRight:n.insetRight}),this.camera.targetTexture=this.rt,s.texture=this.rt,this.sprite.spriteFrame=s},n.onDestroy=function(){this.rotation&&(this.sprite.node.off(p.EventType.TOUCH_START,this.onTouchStart,this),this.sprite.node.off(p.EventType.TOUCH_MOVE,this.onTouchMove,this),this.sprite.node.off(p.EventType.TOUCH_END,this.onTouchEnd,this),this.sprite.node.off(p.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),this.rt.destroy()},e}(T)).prototype,"camera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(b.prototype,"sprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(b.prototype,"rotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=e(b.prototype,"model",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=b))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/SaveManager.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"3deb48EdPBAk6gR2a8DBh88","SaveManager",void 0);e("GameState",(function(){this.time=void 0,this.level=void 0,this.heartNum=void 0,this.tileData=void 0})),e("default",new(function(){function e(){this.savePrefixKey="sudoku_GameData"}var t=e.prototype;return t.saveGameState=function(e,t){var a=JSON.stringify(e);localStorage.setItem(this.savePrefixKey+"_"+t,a)},t.hasGameState=function(e,t){var a=localStorage.getItem(this.savePrefixKey+"_"+e);if(!a)return!1;var i=JSON.parse(a);return!(!i.heartNum||i.heartNum<=0)&&(!(!i.tileData||i.tileData.length<=0)&&(t.heartNum=i.heartNum,t.time=i.time||0,t.tileData=i.tileData,t.level=i.level||1,localStorage.setItem(this.savePrefixKey+"_"+e,""),!0))},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreCenter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o;return{setters:[function(t){e=t.createClass},function(t){o=t.cclegacy}],execute:function(){var r;o._RF.push({},"a8382IzqExG1YF0x/hh2lP+","ScoreCenter",void 0);var n=t("ScoreType",function(t){return t.TodayBest="todaybest",t.MonthBest="monthbest",t.HistoryBest="historybest",t}({})),c=((r={})[n.TodayBest]=function(t){var e=new Date,o=e.getFullYear(),r=1===(e.getMonth()+1).toString().length?"0"+(e.getMonth()+1):e.getMonth()+1,c=1===e.getDate().toString().length?"0"+e.getDate():e.getDate();return t+"-"+n.TodayBest+"-"+o+r+c},r[n.MonthBest]=function(t){var e=new Date,o=e.getFullYear(),r=1===(e.getMonth()+1).toString().length?"0"+(e.getMonth()+1):e.getMonth()+1;return t+"-"+n.MonthBest+"-"+o+r},r[n.HistoryBest]=function(t){return t+"-"+n.HistoryBest},r),s=t("ScoreRecord",function(){function t(t){var e;this.scoreKey=void 0,this.currentScore=0,this.scores=((e={})[n.TodayBest]=0,e[n.MonthBest]=0,e[n.HistoryBest]=0,e),this.scoreKey=t,this.loadScores()}var o=t.prototype;return o.getScore=function(t){return this.scores[t]},o.setScore=function(t,e){e>this.scores[t]&&(this.scores[t]=e,this.saveScoreToLocalStorage(t,e))},o.recordScore=function(t){var e=this;Object.keys(n).map((function(t){return n[t]})).forEach((function(o){e.setScore(o,t)}))},o.loadScores=function(){var t=this;Object.keys(n).map((function(t){return n[t]})).forEach((function(e){t.scores[e]=t.loadScoreFromLocalStorage(e)}))},o.loadScoreFromLocalStorage=function(t){var e,o=(null==(e=c[t])?void 0:e.call(c,this.scoreKey))||this.scoreKey+"-"+t,r=parseInt(localStorage.getItem(o)||"0",10);return Number.isNaN(r)?0:r},o.saveScoreToLocalStorage=function(t,e){var o,r=(null==(o=c[t])?void 0:o.call(c,this.scoreKey))||this.scoreKey+"-"+t;localStorage.setItem(r,e.toString())},e(t,[{key:"Current",get:function(){return this.currentScore},set:function(t){t>=0&&(this.currentScore=t)}}]),t}());t("default",new(function(){function t(){this.scoreMap=new Map}return t.prototype.getScoreRecord=function(t){var e=this.scoreMap.get(t);return e||(e=new s(t),this.scoreMap.set(t,e)),e},t}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/SdkHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Device.ts","./GameStatic.ts","./G.ts","./StringUtil.ts","./TLSDK.ts"],(function(e){var n,t,l,a,u,o,i;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){l=e.device},function(e){a=e.default},function(e){u=e.default},function(e){o=e.StringUtil},function(e){i=e.TLSdk}],execute:function(){t._RF.push({},"a0759DCxgJDLp0XZfakqRh3","SdkHelper",void 0);var d=e("SdkHelper",function(){function e(){}return e.IsLogined=function(){return e._gameLogined},e.setLogined=function(n){e._gameLogined=n},e.RegSdkEvent=function(n,t,l){e.sdkHanlders.set(n,{className:t,methodName:l})},e.UnRegSdkEvent=function(n){e.sdkHanlders.has(n)&&e.sdkHanlders.delete(n)},e.ClearSdkEvents=function(){e.sdkHanlders.clear()},e.InvokeSdkEvent=function(n,t){var l=e.sdkHanlders.get(n);return!!l&&(e.CallSdkNative(l.className,l.methodName,t),!0)},e.CallSdkNative=function(e,n,t){console.log("call class with name: "+e+"-"+n);var l="";return"TLSdk"==e&&"function"==typeof i[n]&&(l=i[n](t)),l},e.SetupInfo=function(n){var t;console.log("SetupInfo: "+n);var u=JSON.parse(n);null!=u&&(e.gameInfo=u,e.vendor=u.vendor,e._tianluDevID=u.tianluDevID,e.country=null==(t=u.country)?void 0:t.toLocaleLowerCase(),e.lan=u.lan,e.bundleID=u.bundleID,e.channelID=u.channelID,e.subChannelID=u.subChannelID,e.paytype=u.paytype,l.vendor=e.vendor,a.Set("country",e.country),a.Set("vendor",e.vendor),a.Set("lan",e.lan),a.Set("bundleID",e.bundleID),a.Set("channelID",e.channelID),a.Set("subChannelID",e.subChannelID))},e.SetupIOSUDID=function(n){console.log("SetupIOSUDID: "+n);var t=JSON.parse(n);if(null!=t&&!(null==t.tianluDevID||t.tianluDevID.length<=0)){var l=u.localStorage.Get("_tianlu_dveid_");(null==l?void 0:l.length)>0||(e._tianluDevID=t.tianluDevID,u.localStorage.Set("_tianlu_dveid_",e._tianluDevID))}},n(e,null,[{key:"tianluDevID",get:function(){var n,t,l=e._tianluDevID;return(null==(n=l)?void 0:n.length)>0||(null==(t=l=u.localStorage.Get("_tianlu_dveid_"))?void 0:t.length)>0||(l=o.uuid(),e._tianluDevID=l,u.localStorage.Set("_tianlu_dveid_",l)),l}}]),e}());d.gameInfo={},d.vendor="",d._tianluDevID="",d.country="other",d.lan="",d.bundleID="",d.paytype=0,d.channelID="guest",d.subChannelID="",d._gameLogined=!1,d.sdkHanlders=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/SDKInterface.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./Facade.ts","./FrameDefine.ts","./PayUtils.ts","./SdkHelper.ts","./G.ts","./WebViewJsBridge.ts","./GameApp.ts"],(function(e){var n,a,i,o,t,r,l,s,c,d,g,p,u,w,v,f;return{setters:[function(e){n=e.inheritsLoose},function(e){a=e.cclegacy,i=e._decorator,o=e.sys,t=e.native,r=e.UITransform,l=e.assetManager,s=e.Component},function(e){c=e.AdManager},function(e){d=e.default},function(e){g=e.GameEvent},function(e){p=e.PayUtils},function(e){u=e.SdkHelper},function(e){w=e.default},function(e){v=e.WebViewJsBridge},function(e){f=e.GameApp}],execute:function(){var b;a._RF.push({},"d4eb7MQdnxDzIpM3nYV+fVU","SDKInterface",void 0);var B=i.ccclass,m=(i.property,e("SDKInterface",B("SDKInterface")(b=function(e){function a(){return e.apply(this,arguments)||this}return n(a,e),a.startup=function(){console.log("sdk startup..."),!o.isNative||0!=o.isBrowser||o.os!=o.OS.IOS&&o.os!=o.OS.ANDROID&&o.os!=o.OS.OPENHARMONY?0==o.isNative&&1==o.isBrowser&&this.isWebView()?v.getInstance().addWebViewEventListener("PayCallBack",(function(e){console.log("PayCallBack ...")})):void 0===window.getDevInfo?f.Instance.gameStartUp():null==window.getDevInfo||window.getDevInfo():(this.registerAllScriptEvent(),t.jsbBridgeWrapper.dispatchEventToNative("getDevInfo"))},a.login_default=function(e){o.isNative&&0==o.isBrowser?t.jsbBridgeWrapper.dispatchEventToNative("defaultLogin",e):null==window.defaultLogin||window.defaultLogin()},a.login_miya=function(e){o.isNative&&0==o.isBrowser?t.jsbBridgeWrapper.dispatchEventToNative("miyaLogin",e):null==window.login_miya||window.login_miya()},a.login_telegramweb=function(e){o.isNative&&0==o.isBrowser?t.jsbBridgeWrapper.dispatchEventToNative("telegramwebLogin",e):null==window.login_telegramweb||window.login_telegramweb()},a.login_apple=function(e){o.isNative&&0==o.isBrowser&&(o.os==o.OS.IOS?t.jsbBridgeWrapper.dispatchEventToNative("appleLogin",e):console.log("android platform not support!"))},a.login_facebook=function(e){console.log("fb login..."),o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("fbLogin",e)},a.login_googleplay=function(e){o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("googleLogin",e)},a.login_amazon=function(e){o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("amazonLogin",e)},a.pay=function(e){if(o.isNative&&0==o.isBrowser)return t.jsbBridgeWrapper.dispatchEventToNative("Pay",e),!0;if(1==o.isBrowser&&this.isWebView())return console.log("WebViewJsBridge : "+v),v.getInstance().dispatchEventToWebView("Pay",e);var n=window.Pay;return null!=n&&(n(e),!0)},a.ad_preload=function(e){o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("preloadAD",e)},a.ad_play=function(){if(o.isNative&&0==o.isBrowser)return t.jsbBridgeWrapper.dispatchEventToNative("playAD"),!0;var e=window.playAD;return null!=e&&e()},a.banner_show_offset=function(e,n,a,i){if(o.isNative&&0==o.isBrowser){var r={dx:e,dy:n,offsetX:a,offsetY:i};t.jsbBridgeWrapper.dispatchEventToNative("showBannerOffset",JSON.stringify(r))}else if(1==o.isBrowser&&this.isWebView()){var l={dx:e,dy:n,offsetX:a,offsetY:i};v.getInstance().dispatchEventToWebView("showBannerOffset",JSON.stringify(l))}else null==window.showBanner||window.showBanner()},a.banner_show=function(){o.isNative&&0==o.isBrowser?t.jsbBridgeWrapper.dispatchEventToNative("showBanner"):null==window.showBanner||window.showBanner()},a.banner_hide=function(){o.isNative&&0==o.isBrowser?t.jsbBridgeWrapper.dispatchEventToNative("hideBanner"):1==o.isBrowser&&this.isWebView()?v.getInstance().dispatchEventToWebView("hideBanner",""):null==window.hideBanner||window.hideBanner()},a.interstitialAD_show=function(){o.isNative&&0==o.isBrowser?t.jsbBridgeWrapper.dispatchEventToNative("showInterstitial"):null==window.showInterstitial||window.showInterstitial()},a.ad_facebook=function(e){o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("adFacebook",e)},a.ad_google=function(e){o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("adGoogle",e)},a.ad_unity=function(e){o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("adUnity",e)},a.ad_ironsource=function(e){o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("adIronsource",e)},a.share_facebook=function(e){o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("fbShare",e)},a.user_agreement=function(e){o.isNative&&0==o.isBrowser&&t.jsbBridgeWrapper.dispatchEventToNative("userAgreement")},a.um_statistics=function(e){o.isNative&&0==o.isBrowser?t.jsbBridgeWrapper.dispatchEventToNative("statistics",e):null==window.statistics||window.statistics(e)},a.share=function(e){(o.os==o.OS.IOS||o.os==o.OS.ANDROID)&&t.jsbBridgeWrapper.dispatchEventToNative("Share",e)},a.registerAllScriptEvent=function(){var e=this;console.log("registerAllScriptEvent..."),t.jsbBridgeWrapper.addNativeEventListener("sdkLoginCallbackErr",(function(n){console.log("sdkLoginCallbackErr..."),e.sdkLoginCallbackErr(n)})),t.jsbBridgeWrapper.addNativeEventListener("appleLoginCallback",(function(n){console.log("appleLoginCallback..."),e.appleLoginCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("fbLoginCallback",(function(n){console.log("fbLoginCallback... "),e.facebookLoginCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("googleLoginCallback",(function(n){console.log("googleLoginCallback..."),e.googleLoginCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("amazonLoginCallback",(function(n){console.log("amazonLoginCallback..."),e.amazonLoginCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("adCallback",(function(n){console.log("adCallback..."),e.adCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("applePaymentCallback",(function(n){console.log("applePayCallback..."),e.applePaymentCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("googlePaymentCallback",(function(n){console.log("googlePayCallback..."),e.googlePaymentCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("amazonPaymentCallback",(function(n){console.log("amazonPaymentCallback..."),e.amazonPaymentCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("deviceInfoCallback",(function(n){console.log("deviceInfoLoginCallback..."),e.deviceInfoCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("iOSUDIDCallback",(function(n){console.log("iOSUDIDCallback..."),e.iOSUDIDCallback(n)})),t.jsbBridgeWrapper.addNativeEventListener("AppOnPause",(function(n){console.log("AppOnPause..."),e.AppOnPause(n)})),t.jsbBridgeWrapper.addNativeEventListener("AppOnResume",(function(n){console.log("AppOnResume..."),e.AppOnResume(n)}))},a.AppOnPause=function(e){console.log("AppOnPause...")},a.AppOnResume=function(e){console.log("AppOnResume..."),w.CheckConnect()},a.sdkEnterGamekPoint=function(){o.isNative&&0==o.isBrowser?t.jsbBridgeWrapper.dispatchEventToNative("entergame"):null==window.entergame||window.entergame()},a.sdkLoginCallbackErr=function(e){console.log("sdk login callback err"+e);var n=new g("Evt_T3LoginVerify_Err");n.str=e,d.SendGameEvent(n)},a.appleLoginCallback=function(e){console.log("apple login callback "+e);var n=new g("Evt_T3LoginVerify");n.str=e,d.SendGameEvent(n)},a.facebookLoginCallback=function(e){console.log("facebook login callback "+e);var n=new g("Evt_T3LoginVerify");n.str=e,d.SendGameEvent(n)},a.googleLoginCallback=function(e){console.log("google login callback "+e);var n=new g("Evt_T3LoginVerify");n.str=e,d.SendGameEvent(n)},a.amazonLoginCallback=function(e){console.log("amazon login callback "+e);var n=new g("Evt_T3LoginVerify");n.str=e,d.SendGameEvent(n)},a.wxLoginCallback=function(e){console.log("wx login callback "+e);var n=new g("Evt_T3LoginVerify");n.str=e,d.SendGameEvent(n)},a.tgeLoginCallback=function(e){var n=new g("Evt_T3LoginVerify");n.str=e,d.SendGameEvent(n)},a.telegramwebLoginCallback=function(e){var n=new g("Evt_T3LoginVerify");n.str=e,d.SendGameEvent(n)},a.adCallback=function(e){console.log("AD callback "+e),c.instance.AdCallback(JSON.parse(e))},a.applePaymentCallback=function(e){console.log("apple pay callback -> "+e),p.PaymentReceiptVerify(e)},a.googlePaymentCallback=function(e){console.log("google pay callback -> "+e),p.PaymentReceiptVerify(e)},a.amazonPaymentCallback=function(e){console.log("amazon pay callback -> "+e),p.PaymentReceiptVerify(e)},a.paymentCallback=function(e){console.log(" pay callback -> "+e),p.PaymentReceipt(e)},a.deviceInfoCallback=function(e){console.log("devInfo callback "+e),u.SetupInfo(e),w.gameCfg.SetLoginType(),f.Instance.gameStartUp()},a.iOSUDIDCallback=function(e){console.log("devInfo callback "+e),u.SetupIOSUDID(e)},a.tgeEnterSelectGameServer=function(){null==window.enterSelectGameServer||window.enterSelectGameServer()},a.tgeOpenOfficialAccounts=function(){null==window.ShowOfficialAccounts||window.ShowOfficialAccounts()},a.tgeOpenOfficialAccountsForPay=function(){null==window.ShowOfficialAccountsForPay||window.ShowOfficialAccountsForPay()},a.sendGetWXGameClubData=function(e){void 0===e&&(e=null),null!=e&&(null==window.getUserGameClubData||window.getUserGameClubData(e))},a.showWXGameClubButton=function(){null==window.showGameClubBtn||window.showGameClubBtn()},a.hideWXGameClubButton=function(){null==window.hideGameClubBtn||window.hideGameClubBtn()},a.createTransparentWXGameClubBtn=function(e,n){if(void 0===n&&(n=null),!o.isNative||0!=o.isBrowser){var a=e.getComponent(r).getBoundingBoxToWorld();null==window.createTransparentGameClubButton||window.createTransparentGameClubButton(a.x,a.y,a.width,a.height,n)}},a.showTransparentWXGameClubBtn=function(){o.isNative&&0==o.isBrowser||null==window.showTransparentGameClubBtn||window.showTransparentGameClubBtn()},a.hideTransparentWXGameClubButton=function(){o.isNative&&0==o.isBrowser||null==window.hideTransparentGameClubBtn||window.hideTransparentGameClubBtn()},a.authSettingWXGameClub=function(e){void 0===e&&(e=null),null==window.openAuthSetting||window.openAuthSetting(e)},a.cleanGameCache=function(){null==window.cleanResourceCache||window.cleanResourceCache()},a.clearCocosLRU=function(){l.cacheManager.clearLRU()},a.isWebView=function(){var e=navigator.userAgent||navigator.vendor||window.opera,n=/wv/.test(e)||/WebView/.test(e)||void 0!==window.Android;return console.log("isWebView = "+n),n},a.refreshLogin=function(){null==window.reLoginAll||window.reLoginAll()},a.wxTriggerGC=function(){null==window.GC||window.GC()},a}(s))||b));window.SDKInterface=m,window.dispatchEventToScript=function(e,n){v.getInstance().invokeWebViewEvent(e,n)},a._RF.pop()}}}));

System.register("chunks:///_virtual/selectCenter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts","./Cell.ts"],(function(t){var e,i,s,o,l,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass},function(t){s=t.cclegacy,o=t.Node},function(t){l=t.default},function(t){n=t.ECellView}],execute:function(){s._RF.push({},"1da87VVx79Ip4TR/DNRmnBo","selectCenter",void 0);t("SelectCenter",function(){function t(){this.uiContainer=void 0,this.gridBoard=void 0,this.emitter=void 0,this.lastCell=void 0,this.cellIds=[],this.notesCellIds=[],this.isWorking=void 0}var s=t.prototype;return s.init=function(t,e,i){this.uiContainer=t,this.gridBoard=e,this.emitter=i,this._registerTargetEvent(this.uiContainer)},s.lightCell=function(t){t&&(this.clearAllCell(),this.lightRelatedCell(t),this.lightSomeNum(t.Num),this.lightNotesNum(t.Num),t.CellViewState=n.Focused,this.cellIds.push(t.cellIndex))},s.lightSomeNum=function(t){if(this.CanHighlightNumbers){var e=this.gridBoard.getSomeCellIds(t);e.length>0&&(this.cellIds=Array.from(new Set(this.cellIds.concat(e))),this.gridBoard.setCellViews(e,n.Focused))}},s.clearNodeEvent=function(){this._unregisterTargetEvent(this.uiContainer)},s.lightRelatedCell=function(t){if(t){var i=[],s=t.RowCol,o=s[0],l=s[1];if(1===this.HighlightRegion)i=this.gridBoard.getRelativeIds(o,l);else if(2===this.HighlightRegion){for(var h,r=this.gridBoard.getRelativeIds(o,l),g=this.gridBoard.getSomeCellIds(t.Num),c=e(g);!(h=c()).done;){var a=h.value,d=this.gridBoard.getCellById(a);if(d&&a!==t.cellIndex){var u=d.RowCol,C=u[0],f=u[1];r=r.concat(this.gridBoard.getRelativeIds(C,f))}}i=r}i.length>0&&(this.cellIds=Array.from(new Set(this.cellIds.concat(i))),this.gridBoard.setCellViews(i,n.Related))}},s.lightNotesNum=function(t){if(t&&!(t<=0)&&this.CanHighlightNotes){var e=this.gridBoard.getSomeNotesCellIds(t);this.gridBoard.lightNotes(e,t),this.notesCellIds=e}},s.clearAllCell=function(){this.gridBoard.setCellViews(this.cellIds,n.Normal),this.gridBoard.clearLightNotes(this.notesCellIds),this.cellIds.length=0,this.notesCellIds.length=0},s._select=function(t){var e=this.gridBoard.getCellByWorldPos(t);e&&e!==this.lastCell&&(console.log("select cell: "+e.RowCol+", num: "+e.Num),this.lightCell(e),this.lastCell=e)},s._registerTargetEvent=function(t){t.on(o.EventType.TOUCH_START,this._onTouchBegan,this),t.on(o.EventType.TOUCH_MOVE,this._onTouchMove,this),t.on(o.EventType.TOUCH_END,this._onTouchEnded,this),t.on(o.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},s._unregisterTargetEvent=function(t){t.off(o.EventType.TOUCH_START,this._onTouchBegan,this),t.off(o.EventType.TOUCH_MOVE,this._onTouchMove,this),t.off(o.EventType.TOUCH_END,this._onTouchEnded,this),t.off(o.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},s._onTouchBegan=function(t){if(t&&(!this.isWorking||this.isWorking())){var e=t.getUILocation();this._select(e)}},s._onTouchMove=function(t){if(t&&(!this.isWorking||this.isWorking())){var e=t.getUILocation();this._select(e)}},s._onTouchEnded=function(t){var e;if(t&&(!this.isWorking||this.isWorking())){var i=t.getUILocation();this._select(i),null==(e=this.emitter)||e.emit("select-cell",{cell:this.lastCell})}},s._onTouchCancel=function(t){if(t&&(!this.isWorking||this.isWorking())){var e=t.getUILocation();this._select(e)}},i(t,[{key:"CanHighlightNotes",get:function(){return l.leader.setInfo.highlightNotes>0}},{key:"HighlightRegion",get:function(){return l.leader.setInfo.highlightRegion}},{key:"CanHighlightNumbers",get:function(){return l.leader.setInfo.highlightNumbers>0}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Selector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){var n,c,o;return{setters:[function(t){n=t.inheritsLoose},function(t){c=t.cclegacy},function(t){o=t.BranchNode}],execute:function(){c._RF.push({},"940e3RJErpHz7aKfIg5xGnL","Selector",void 0);t("Selector",function(t){function c(){return t.apply(this,arguments)||this}n(c,t);var o=c.prototype;return o.success=function(){t.prototype.success.call(this),this._control.success()},o.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},o._run=function(n){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},c}(o));c._RF.pop()}}}));

System.register("chunks:///_virtual/Sequence.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){var n,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){c=t.BranchNode}],execute:function(){e._RF.push({},"98121CWKepN0p3tJRME5FDI","Sequence",void 0);t("Sequence",function(t){function e(n){return t.call(this,n)||this}n(e,t);var c=e.prototype;return c.success=function(){t.prototype.success.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.success()},c.fail=function(){t.prototype.fail.call(this),this._control.fail()},c._run=function(n){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/ServerErrorCode.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"bf21eV2/VNLa4S+wZI7oMzf","ServerErrorCode",void 0);e("ServerErrorCode",function(e){return e[e.Success=0]="Success",e[e.HaveLogined=1]="HaveLogined",e[e.Server_UnAuth=2]="Server_UnAuth",e[e.ZoneIsNotExist=3]="ZoneIsNotExist",e[e.CreateRoleFailed=4]="CreateRoleFailed",e[e.RoleHasExisted=5]="RoleHasExisted",e[e.LoginAtDifferentServer=6]="LoginAtDifferentServer",e[e.TokenExpire=7]="TokenExpire",e[e.ZoneStatusIsException=8]="ZoneStatusIsException",e[e.ZoneConnectIsException=9]="ZoneConnectIsException",e[e.FailedToMark=10]="FailedToMark",e[e.ReplicatedReq=11]="ReplicatedReq",e[e.NoAuth=12]="NoAuth",e[e.CrossLogin=13]="CrossLogin",e[e.FailedToLogin=14]="FailedToLogin",e[e.PleaseLogin=15]="PleaseLogin",e[e.NameIsInvalid=16]="NameIsInvalid",e[e.ParamError=17]="ParamError",e[e.NoData=18]="NoData",e[e.UserIsNotExist=19]="UserIsNotExist",e[e.NotEnough=20]="NotEnough",e[e.CantUseItem=21]="CantUseItem",e[e.CreateRole=22]="CreateRole",e[e.HasNotRankData=30]="HasNotRankData",e[e.ConfigError=31]="ConfigError",e[e.TooMuch=32]="TooMuch",e[e.QuestIsNotExist=50]="QuestIsNotExist",e[e.QuestTakeError=51]="QuestTakeError",e[e.QuestIsNotComplete=52]="QuestIsNotComplete",e[e.QuestIsNotYours=53]="QuestIsNotYours",e[e.QuestHasGetReward=54]="QuestHasGetReward",e[e.FailOther=80]="FailOther",e[e.GoldEnoughNot=81]="GoldEnoughNot",e[e.DiamondEnoughNot=82]="DiamondEnoughNot",e[e.TiLiEnoughNot=83]="TiLiEnoughNot",e[e.CurrencyEnoughNot=84]="CurrencyEnoughNot",e[e.StuffEnoughNot=85]="StuffEnoughNot",e[e.TokenNotEnough=86]="TokenNotEnough",e[e.LevelNotEnough=87]="LevelNotEnough",e[e.VipLvNotEnough=88]="VipLvNotEnough",e[e.NumNotEnough=89]="NumNotEnough",e[e.LevelMax=90]="LevelMax",e[e.QLLevelMax=91]="QLLevelMax",e[e.ReceiveEnd=92]="ReceiveEnd",e[e.LockNot=93]="LockNot",e[e.LockOpen=94]="LockOpen",e[e.DayCount=95]="DayCount",e[e.TextLengthMore=96]="TextLengthMore",e[e.TextLengthZero=97]="TextLengthZero",e[e.RoleForbid=98]="RoleForbid",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/ServerStub.ts",["cc","./G.ts","./GameCmdIDs.ts","./NetMessageHub.ts","./HttpUtils.ts","./Tips.ts","./LoadingMask.ts","./Facade.ts","./LoginDefine.ts","./LoginDataHelper.ts"],(function(e){var o,a,r,n,t,s,i,l,c,g,d,u;return{setters:[function(e){o=e.cclegacy,a=e.sys},function(e){r=e.default},function(e){n=e.default},function(e){t=e.default},function(e){s=e.EResponseType,i=e.HttpUtils},function(e){l=e.Tips},function(e){c=e.default},function(e){g=e.default},function(e){d=e.LoginType},function(e){u=e.default}],execute:function(){o._RF.push({},"b605bRK9p9CXKHFk2Faccle","ServerStub",void 0);e("ServerStub",function(){function e(){}var o=e.prototype;return o.DoHeart=function(){var e=t.NetEncode(n.Defs.C2S_HEART.id,"ok");r.netClientGame.SendData(e)},o.Logout=function(){var e=t.NetEncode(n.Defs.C2S_LOGOUT.id,"");r.netClientGame.SendData(e)},o.IapBuy=function(e,o){var a=t.NetEncode(n.Defs.C2S_PAY.id,e+","+o);r.netClientGame.SendData(a)},o.LoginData=function(){var e=t.NetEncode(n.Defs.C2S_GET_ROLEDATA.id,"");r.netClientGame.SendData(e)},o.saveRoleAllData=function(e){var o=t.NetEncode(n.Defs.C2S_SAVE_ROLEDATA.id,e);r.netClientGame.SendData(o)},o.drawCard=function(e){var o=t.NetEncode(n.Defs.C2S_DRAW_CARD.id,""+e);r.netClientGame.SendData(o)},o.buyCard=function(e){var o=t.NetEncode(n.Defs.C2S_BUY_CARD.id,""+e);r.netClientGame.SendData(o)},o.SaveUserInfo=function(){if(null!=r.curLoginRecord&&""!=r.curLoginRecord.tianlu_token&&""!=r.curLoginRecord.token_hash&&""!=r.curLoginRecord.userid){c.Show();var e={version:r.gameCfg.game_version,appcode:r.gameCfg.game_appcode,tianlu_token:r.curLoginRecord?r.curLoginRecord.tianlu_token:"",tianlu_hash:r.curLoginRecord?r.curLoginRecord.token_hash:"",tianlu_userid:r.curLoginRecord.userid,data:r.leader.getAllDataJson()},o={responseType:s.JSON,headers:{"Content-Type":"application/json"}},a=d[r.gameCfg.specLoginType].toLowerCase();i.POST(r.gameCfg.TargetPlatfromUrl+"/"+a+"/savedata",o,e,(function(e){if(c.Hide(),console.log("save UserInfo complete......."),console.log("msg:",e.msg),e.errCode&&0!==e.errCode)console.log("errCode -> "+e.errCode);else{var o=g.GetModule("Settings");o&&o.closeSaveTipsWin(),r.leader.roleData.userid!=r.curLoginRecord.userid&&(r.leader.roleData.userid=r.curLoginRecord.userid,r.localStorage.UserId(r.curLoginRecord.userid),r.leader.SetRoleDataStorage(!1),r.leader.saveGameSettingInfo(!1)),l.instance.ShowTips(10167)}}),(function(e,o){c.Hide(),console.log("save UserInfo:"+e+",错误码:"+o)}))}},o.LoadUserInfo=function(){if(null!=r.curLoginRecord&&""!=r.curLoginRecord.tianlu_token&&""!=r.curLoginRecord.token_hash&&""!=r.curLoginRecord.userid){c.Show();var e={appcode:r.gameCfg.game_appcode,tianlu_token:r.curLoginRecord?r.curLoginRecord.tianlu_token:"",tianlu_hash:r.curLoginRecord?r.curLoginRecord.token_hash:"",tianlu_userid:r.leader.roleData.userid},o={responseType:s.JSON,headers:{"Content-Type":"application/json"}},a=d[r.gameCfg.specLoginType].toLowerCase();i.POST(r.gameCfg.TargetPlatfromUrl+"/"+a+"/loaddata",o,e,(function(e){if(c.Hide(),console.log("load UserInfo complete......."),console.log("msg:",e.msg),e.errCode&&0!==e.errCode)return console.log("errCode -> "+e.errCode),void l.instance.ShowTips("failed to login tianlu gate, server return "+e.errCode);if(null!=e.data){var o=JSON.parse(e.data);r.leader.SetPLAllData(o);var a=g.GetModule("Settings");a&&a.closeSaveTipsWin(),l.instance.ShowTips(10168)}else l.instance.ShowTips(10170)}),(function(e,o){c.Hide(),console.log("load UserInfo状态码:"+e+",错误码:"+o)}))}},o.SubmitUserInfo=function(){var e=function(e,o){console.log("submit UserInfo:"+e+",错误码:"+o)},o=function(e){console.log("submit UserInfo complete......."),console.log("msg:",e.msg),e.errCode&&0!==e.errCode&&console.log("errCode -> "+e.errCode)},n={appcode:r.gameCfg.game_appcode,userid:r.leader.roleData.userid,jsonData:r.leader.SerializeRoleData()},t={responseType:s.JSON,headers:{"Content-Type":"application/json"}};a.platform==a.Platform.BYTEDANCE_MINI_GAME?i.POST(r.gameCfg.TargetPlatfromUrl+"/userdatastorage/userinfo_save_tt",t,n,o,e):a.platform==a.Platform.WECHAT_GAME&&i.POST(r.gameCfg.TargetPlatfromUrl+"/userdatastorage/userinfo_save_wx",t,n,o,e)},o.GetUserInfo=function(e){var o=function(e,o){console.log("GetUserInfo状态码:"+e+",错误码:"+o)},n=function(o){console.log("GetUserInfo complete......."),console.log("msg:",o.msg),o.errCode&&0!==o.errCode?console.log("errCode -> "+o.errCode):e&&e(o)},t={appcode:r.gameCfg.game_appcode,userid:r.leader.roleData.userid,minigame_plat:r.gameCfg.GamePlat},l={responseType:s.JSON,headers:{"Content-Type":"application/json"}};a.platform==a.Platform.BYTEDANCE_MINI_GAME?i.POST(r.gameCfg.TargetPlatfromUrl+"/userdatastorage/userinfo_get_tt",l,t,n,o):a.platform==a.Platform.WECHAT_GAME?i.POST(r.gameCfg.TargetPlatfromUrl+"/userdatastorage/userinfo_get_wx",l,t,n,o):r.gameCfg.native_mini_server&&(console.log("submit userinfo:  "+r.gameCfg.TargetPlatfromUrl+"/userdatastorage/userinfo_get"),i.POST(r.gameCfg.TargetPlatfromUrl+"/userdatastorage/userinfo_get",l,t,n,o))},o.GetUserOpenid=function(e,o){var n=function(e,o){console.log("get UserOpenid:"+e+",错误码:"+o)},t=function(e){console.log("get UserOpenid complete......."),console.log("msg:",e.msg),e.errCode&&0!==e.errCode?console.log("errCode -> "+e.errCode):o&&o(e)},l={appcode:r.gameCfg.game_appcode,code:e},c={responseType:s.JSON,headers:{"Content-Type":"application/json"}};a.platform==a.Platform.WECHAT_GAME?i.POST(r.gameCfg.TargetPlatfromUrl+"/userdatastorage/minigame_wx_dec",c,l,t,n):a.platform==a.Platform.BYTEDANCE_MINI_GAME&&i.POST(r.gameCfg.TargetPlatfromUrl+"/userdatastorage/minigame_tt_dec",c,l,t,n)},o.SubmitRankInfo=function(e,o){u.Get(d[o]);var a={appcode:r.gameCfg.game_appcode,rankatts:e,userid:r.leader.roleData.userid,username:r.leader.roleData.name,user_avatar_path:r.leader.roleData.userAvatar,area:"",country:"",province:0,city:0,zoneid:0,tianlu_token:r.curLoginRecord?r.curLoginRecord.tianlu_token:"",tianlu_hash:r.curLoginRecord?r.curLoginRecord.token_hash:""};console.log("cmd:",a);var n={responseType:s.JSON,headers:{"Content-Type":"application/json"}};console.log(r.gameCfg.TargetPlatfromUrl+"/rank/save"),i.POST(r.gameCfg.TargetPlatfromUrl+"/rank/save",n,a,(function(e){console.log("submit rankdata_save complete......."),console.log("msg:",e.msg),e.errCode&&0!==e.errCode&&console.log("errCode -> "+e.errCode)}),(function(e,o){console.log("submit rankdata_save:"+e+",错误码:"+o)}))},o.GetRankMyInfo=function(e,o,a,n){u.Get(d[a]);var t={appcode:r.gameCfg.game_appcode,rankatt:e,tprank:o,area:"",country:"",province:0,city:0,zoneid:0,tianlu_token:r.curLoginRecord?r.curLoginRecord.tianlu_token:"",tianlu_hash:r.curLoginRecord?r.curLoginRecord.token_hash:"",userid:r.leader.roleData.userid,game_plat:0},l={responseType:s.JSON,headers:{"Content-Type":"application/json"}};i.POST(r.gameCfg.TargetPlatfromUrl+"/rank/getmyself",l,t,(function(e){console.log("submit getmyrankinfo complete......."),console.log("msg:",e.msg),e.errCode&&0!==e.errCode?console.log("errCode -> "+e.errCode):n&&n(e)}),(function(e,o){console.log("submit getmyrankinfo:"+e+",错误码:"+o)}))},o.GetRankUsers=function(e,o,a,n){u.Get(d[a]);var t={appcode:r.gameCfg.game_appcode,rankatt:e,tprank:o,area:"",country:"cn",province:0,city:0,zoneid:0,tianlu_token:r.curLoginRecord?r.curLoginRecord.tianlu_token:"",tianlu_hash:r.curLoginRecord?r.curLoginRecord.token_hash:"",game_plat:r.gameCfg.GamePlat},l={responseType:s.JSON,headers:{"Content-Type":"application/json"}};i.POST(r.gameCfg.TargetPlatfromUrl+"/rank/get",l,t,(function(e){console.log("submit getusersrank complete......."),console.log("msg:",e.msg),e.errCode&&0!==e.errCode?console.log("errCode -> "+e.errCode):n&&n(e)}),(function(e,o){}))},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/SettingConfig.ts",["cc","./ThemeDef.ts"],(function(e){var i,t;return{setters:[function(e){i=e.cclegacy},function(e){t=e.EThemeType}],execute:function(){i._RF.push({},"f2a55Ls/pVCc5NH4xLYOuCH","SettingConfig",void 0);var n={timer:1,hideFilled:1,prioritySelect:0,autoFill:0,highlightNotes:1,highlightRegion:1,hideExcludable:0,highlightNumbers:1,autocomplete:1,numberCount:1,shake:1,notice:1,fontSizeType:1,colorType:0};function o(e,i,t){return e>=i&&e<=t}e("settingConfig",{defaultValue:function(){return Object.assign({},n)},validate:function(e){for(var i=0,n=["timer","hideFilled","prioritySelect","autoFill","highlightNotes","hideExcludable","highlightNumbers","autocomplete","numberCount","shake","notice"];i<n.length;i++){var l=n[i];if(null==e[l]||"number"!=typeof e[l]||Number.isNaN(e[l])||!o(e[l],0,1))return!1}return!(null==e.highlightRegion||"number"!=typeof e.highlightRegion||Number.isNaN(e.highlightRegion)||!o(e.highlightRegion,0,2))&&(!(null==e.fontSizeType||"number"!=typeof e.fontSizeType||Number.isNaN(e.fontSizeType)||!o(e.fontSizeType,0,2))&&!(null==e.colorType||"number"!=typeof e.colorType||Number.isNaN(e.colorType)||!o(e.colorType,0,t.Max-1)))}});i._RF.pop()}}}));

System.register("chunks:///_virtual/SettingManager.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"babd8aF6dtDRKRIdTk/o1b0","SettingManager",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SettingsModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleBase.ts","./StringToModule.ts","./Facade.ts"],(function(t){var e,n,o,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.ModuleBase},function(t){s=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"62e4cM/rJpMboW41DjnoSDl","SettingsModule",void 0);var u=t("SettingsModule",function(t){function n(){var e;return(e=t.call(this,n.sTag)||this).onClose=void 0,e}e(n,t);var o=n.prototype;return o.regNetCmds=function(){},o.unRegNetCmds=function(){},o.regGameEvents=function(){},o.unRegGameEvents=function(){},o.DoWork=function(t){void 0===t&&(t=null),t&&t.onClose&&(this.onClose=t.onClose),i.OpenUI("Settings")},o.closeSaveTipsWin=function(){var t=this.GetViewCtrl("Settings");t&&t.tipsCancel()},n}(o));u.sTag="Settings",s.Set("SettingsModule",u),n._RF.pop()}}}));

System.register("chunks:///_virtual/SettingUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainDef.ts","./ClassConfig.ts","./Facade.ts","./FrameDefine.ts","./UIControler.ts","./G.ts","./StatisticsUIModule.ts","./Tips.ts","./PlayHelpUIModule.ts","./UITools.ts","./LanLabel.ts"],(function(e){var t,i,n,o,l,s,h,a,r,u,c,g,d,f,p,S,C,m,v,w;return{setters:[function(e){t=e.inheritsLoose,i=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,o=e.find,l=e.ScrollView,s=e.math,h=e.sys,a=e.Layout,r=e.Widget},function(e){u=e.ESetType},function(e){c=e.ClassConfig},function(e){g=e.default},function(e){d=e.GameEvent},function(e){f=e.UIControler},function(e){p=e.default},function(e){S=e.StatisticsModule},function(e){C=e.Tips},function(e){m=e.PlayHelpModule},function(e){v=e.UITools},function(e){w=e.LanLabel}],execute:function(){n._RF.push({},"a37abtwZm1Df5oiqPqAvbhk","SettingUICtrl",void 0);var H=e("SettingsViewCtrl",function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).uiSetScroll=void 0,t.uiSoundBtn=void 0,t.uiShakeBtn=void 0,t.uiNoticeBtn=void 0,t.uiTimerShowBtn=void 0,t.uiHideFilledBtn=void 0,t.uiPrioritySelectBtn=void 0,t.uiAutoFillBtn=void 0,t.uiHighlightNotesBtn=void 0,t.uiHighlightRegionBtn=void 0,t.uiHideExcludableBtn=void 0,t.uiHighlightNumbersBtn=void 0,t.uiAutocompleteBtn=void 0,t.uiNumberCountBtn=void 0,t.uiTipsWin=void 0,t.uiQuitBtn=void 0,t.setChange=void 0,t.reginonSelectMap=new Map,t.regionContainer=void 0,t.tipsType=void 0,t}t(n,e);var c=n.prototype;return c._onLoad=function(){this.initUI(),this.regClickHandlers()},c._onEnable=function(){this.setUIInfoShow(),this.updateLanShow()},c._onDisable=function(){},c._onStart=function(){},c._onUpdate=function(){},c.refreshUI=function(){},c.initUI=function(){if(this.uiSetScroll=o("panel",this.node).getComponent(l),this.uiSoundBtn=o("panel/content/part1/item0/toggle",this.node),this.uiShakeBtn=o("panel/content/part1/item1/toggle",this.node),this.uiNoticeBtn=o("panel/content/part1/item2/toggle",this.node),this.uiTimerShowBtn=o("panel/content/part2/item0/toggle",this.node),this.uiHideFilledBtn=o("panel/content/part2/item1/top/toggle",this.node),this.uiPrioritySelectBtn=o("panel/content/part2/item2/top/toggle",this.node),this.uiAutoFillBtn=o("panel/content/part2/item3/top/toggle",this.node),this.uiHighlightNotesBtn=o("panel/content/part2/item4/top/toggle",this.node),this.uiHighlightRegionBtn=o("panel/content/part2/item5/top/warp",this.node),this.uiHideExcludableBtn=o("panel/content/part2/item6/top/toggle",this.node),this.uiHighlightNumbersBtn=o("panel/content/part2/item7/top/toggle",this.node),this.uiAutocompleteBtn=o("panel/content/part2/item8/top/toggle",this.node),this.uiNumberCountBtn=o("panel/content/part2/item9/top/toggle",this.node),this.uiQuitBtn=o("panel/content/part3/item0/toggle",this.node),this.uiTipsWin=o("tipsWin",this.node),this.regionContainer=o("regionPanel",this.node),this.regionContainer){var e=o("mid/panel/item0/warp/select",this.regionContainer),t=o("mid/panel/item1/warp/select",this.regionContainer);this.reginonSelectMap.set(1,e),this.reginonSelectMap.set(2,t)}},c.updateLanShow=function(){for(var e=this.node.getComponentsInChildren(w),t=0;t<e.length;t++)e[t].language()},c.regClickHandlers=function(){var e=this;this.RegClickHanlder("*",(function(e,t,i,n){p.navigator.Go(e)})),this.RegClickHanlder("close",(function(t,i,n,o){e.closeWin()})),this.RegClickHanlder("statistics",(function(e,t,i,n){g.OpenUI(S.sTag)})),this.RegClickHanlder("help",(function(e,t,i,n){g.OpenUI(m.sTag)})),this.RegClickHanlder("sound",(function(t,i,n,o){p.audioMgr.soundVolume=p.audioMgr.soundVolume>0?0:1,e.setSoundShow()})),this.RegClickHanlder("shake",(function(t,i,n,o){p.leader.setInfo.shake=p.leader.setInfo.shake>0?0:1,e.setShakeShow()})),this.RegClickHanlder("notice",(function(t,i,n,o){p.leader.setInfo.notice=p.leader.setInfo.notice>0?0:1,e.setNoticeShow()})),this.RegClickHanlder("showTimer",(function(t,i,n,o){e.setChange=u.Timer,p.leader.setInfo.timer=p.leader.setInfo.timer>0?0:1,e.setTimerShowShow()})),this.RegClickHanlder("hideFilled",(function(t,i,n,o){e.setChange=u.HideFilled,p.leader.setInfo.hideFilled=p.leader.setInfo.hideFilled>0?0:1,e.setHideFilledShow()})),this.RegClickHanlder("prioritySelect",(function(t,i,n,o){e.setChange=u.PrioritySelect,p.leader.setInfo.prioritySelect=p.leader.setInfo.prioritySelect>0?0:1,e.setPrioritySelectShow()})),this.RegClickHanlder("autoFill",(function(t,i,n,o){e.setChange=u.AutoFill,p.leader.setInfo.autoFill=p.leader.setInfo.autoFill>0?0:1,e.setAutoFillShow()})),this.RegClickHanlder("highlightNotes",(function(t,i,n,o){e.setChange=u.HighlightNotes,p.leader.setInfo.highlightNotes=p.leader.setInfo.highlightNotes>0?0:1,e.setHighlightNotesShow()})),this.RegClickHanlder("open-region",(function(t,i,n,o){e.showRegionPanel(!0)})),this.RegClickHanlder("close-region",(function(t,i,n,o){e.showRegionPanel(!1)})),this.RegClickHanlder("select-region",(function(t,i,n,o){e.setChange=u.HighlightRegion;var l=parseInt(i,10);p.leader.setInfo.highlightRegion=s.clamp(l,0,2),e.setHighlightRegionShow()})),this.RegClickHanlder("hideExcludable",(function(t,i,n,o){e.setChange=u.HideExcludable,p.leader.setInfo.hideExcludable=p.leader.setInfo.hideExcludable>0?0:1,e.setHideExcludableShow()})),this.RegClickHanlder("highlightNumbers",(function(t,i,n,o){e.setChange=u.HighlightNumbers,p.leader.setInfo.highlightNumbers=p.leader.setInfo.highlightNumbers>0?0:1,e.setHighlightNumbersShow()})),this.RegClickHanlder("autocomplete",(function(t,i,n,o){e.setChange=u.Autocomplete,p.leader.setInfo.autocomplete=p.leader.setInfo.autocomplete>0?0:1,e.setAutocompleteShow()})),this.RegClickHanlder("numberCount",(function(t,i,n,o){e.setChange=u.NumberCount,p.leader.setInfo.numberCount=p.leader.setInfo.numberCount>0?0:1,e.setNumberCountShow()})),this.RegClickHanlder("open-quit",(function(t,i,n,o){e.showQuitPanel(!0)})),this.RegClickHanlder("cancel-quit",(function(t,i,n,o){e.showQuitPanel(!1)})),this.RegClickHanlder("quit",(function(e,t,i,n){C.instance.ShowTips(10273)})),this.RegClickHanlder("save",(function(t,i,n,o){e.saveUserInfoToGame()})),this.RegClickHanlder("load",(function(t,i,n,o){e.loadUserInfoFromGame()})),this.RegClickHanlder("service",(function(e,t,i,n){h.openURL(p.gameCfg.userAgreementUrl)})),this.RegClickHanlder("privacy",(function(e,t,i,n){h.openURL(p.gameCfg.privactPolicyUrl)})),this.RegClickHanlder("tipsSure",(function(t,i,n,o){e.tipsSure()})),this.RegClickHanlder("tipsCancel",(function(t,i,n,o){e.tipsCancel()})),this.RegClickHanlder("language",(function(e,t,i,n){g.OpenUI("Language")}))},c.closeWin=function(){if(p.leader.saveGameSettingInfo(),this.setChange>0){var e=new d("Evt_setting_change");g.SendGameEvent(e)}var t=this.module.onClose;t&&(t(),this.module.onClose=null),g.CloseUI("Settings")},c.showRegionPanel=function(e){var t=o("regionPanel",this.node);if(t&&(t.active=e,e)){for(var i=t.getComponentsInChildren(a),n=0;n<i.length;n++)i[n].updateLayout();for(var l=t.getComponentsInChildren(r),s=0;s<l.length;s++)l[s].updateAlignment()}},c.showQuitPanel=function(e){var t=o("quitPanel",this.node);t&&(t.active=e)},c.setUIInfoShow=function(){this.uiSetScroll.scrollToTop(),this.setChange=u.None,this.showRegionPanel(!1),this.showQuitPanel(!1),this.setSoundShow(),this.setShakeShow(),this.setNoticeShow(),this.setTimerShowShow(),this.setHideFilledShow(),this.setPrioritySelectShow(),this.setAutoFillShow(),this.setHighlightNotesShow(),this.setHighlightRegionShow(),this.setHideExcludableShow(),this.setHighlightNumbersShow(),this.setAutocompleteShow(),this.setNumberCountShow()},c.setSoundShow=function(){this.uiSoundBtn.getChildByName("select").active=p.audioMgr.soundVolume>0},c.setShakeShow=function(){this.uiShakeBtn.getChildByName("select").active=p.leader.setInfo.shake>0},c.setNoticeShow=function(){this.uiNoticeBtn.getChildByName("select").active=p.leader.setInfo.notice>0},c.setTimerShowShow=function(){this.uiTimerShowBtn.getChildByName("select").active=p.leader.setInfo.timer>0},c.setHideFilledShow=function(){this.uiHideFilledBtn.getChildByName("select").active=p.leader.setInfo.hideFilled>0},c.setPrioritySelectShow=function(){this.uiPrioritySelectBtn.getChildByName("select").active=p.leader.setInfo.prioritySelect>0},c.setAutoFillShow=function(){this.uiAutoFillBtn.getChildByName("select").active=p.leader.setInfo.autoFill>0},c.setHighlightNotesShow=function(){this.uiHighlightNotesBtn.getChildByName("select").active=p.leader.setInfo.highlightNotes>0},c.setHighlightRegionShow=function(){var e=this.uiHighlightRegionBtn.getChildByName("text"),t={0:10265,1:10263,2:10264},n=p.leader.setInfo.highlightRegion;v.SetLabelText(e,p.GetLanStr(t[n]));var o=e.getComponent(w);o&&(o.textkey=""+t[n]);for(var l,s=i(this.reginonSelectMap.values());!(l=s()).done;){l.value.active=!1}var h=this.reginonSelectMap.get(n);h&&(h.active=!0)},c.setHideExcludableShow=function(){this.uiHideExcludableBtn.getChildByName("select").active=p.leader.setInfo.hideExcludable>0},c.setHighlightNumbersShow=function(){this.uiHighlightNumbersBtn.getChildByName("select").active=p.leader.setInfo.highlightNumbers>0},c.setAutocompleteShow=function(){this.uiAutocompleteBtn.getChildByName("select").active=p.leader.setInfo.autocomplete>0},c.setNumberCountShow=function(){this.uiNumberCountBtn.getChildByName("select").active=p.leader.setInfo.numberCount>0},c.setSaveOrLoadShow=function(){},c.saveUserInfoToGame=function(){this.tipsType=1,v.SetLabelText(this.uiTipsWin.getChildByPath("tipsWin/tip/tipsDesc"),p.GetLanStr(10165)),this.uiTipsWin.active=!0},c.loadUserInfoFromGame=function(){this.tipsType=2,v.SetLabelText(this.uiTipsWin.getChildByPath("tipsWin/tip/tipsDesc"),p.GetLanStr(10164)),this.uiTipsWin.active=!0},c.tipsSure=function(){if(1==this.tipsType)null==p.curLoginRecord||""==p.curLoginRecord.tianlu_token||""==p.curLoginRecord.token_hash||""==p.curLoginRecord.userid?(g.GetModule("Login").isSaveUserInfo=1,g.OpenUI("UserCenter")):p.server.SaveUserInfo();else if(2==this.tipsType){if(null==p.curLoginRecord||""==p.curLoginRecord.tianlu_token||""==p.curLoginRecord.token_hash||""==p.curLoginRecord.userid)g.GetModule("Login").isSaveUserInfo=2,g.OpenUI("UserCenter");else p.server.LoadUserInfo()}},c.tipsCancel=function(){this.uiTipsWin.active=!1},n}(f));c.addClass("SettingsViewCtrl",H),n._RF.pop()}}}));

System.register("chunks:///_virtual/Spine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeHelper.ts"],(function(e){var t,n,s,i,a,o,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,s=e.sp,i=e.error,a=e.Rect,o=e.Component},function(e){l=e.NodeHelper}],execute:function(){n._RF.push({},"3d5afk5EIZMr4QgeO39inbA","Spine",void 0),e("Spine",function(e){function n(){var t;return(t=e.call(this)||this)._oldTimeScale=void 0,t._skeleton=null,t._noFlipped=!1,t._isInitialized=!1,t._isAsyncLoaded=!1,t._asyncTasks=[],t._whichFrame=void 0,t._checkLabel=void 0,t._animName=void 0,t._isLoop=void 0,t.completeCallbacks=void 0,t.completeAll=void 0,t._registeredCompleteHandler=void 0,t}t(n,e),n.create=function(){var e=l.create("Spine").addComponent(n);return e.initialize(),e};var o=n.prototype;return o.initialize=function(){this._isInitialized||(this._isInitialized=!0,this._skeleton=this.node.getComponent(s.Skeleton),this._skeleton||(this._skeleton=this.node.addComponent(s.Skeleton)),this._skeleton.premultipliedAlpha=!1,this._skeleton.skeletonData?this._isAsyncLoaded=!0:this._isAsyncLoaded=!1)},o.initWithData=function(e){this._skeleton.skeletonData=e,this._skeleton.paused=!1,this._skeleton.updateAnimation(0),this._isAsyncLoaded=!0},o.excuteAsyncFunc=function(){for(var e=0;e<this._asyncTasks.length;e++){this._asyncTasks[e].call(this)}this._asyncTasks=[]},o.setVisible=function(e){this.node.active=e},o.removeFromParent=function(){this.node.removeFromParent()},o.release=function(){this._skeleton.skeletonData=null,this.node.destroy()},o.setTimeScale=function(e){var t=this;this._isAsyncLoaded?this._skeleton.timeScale=e:this._asyncTasks.push((function(){t.setTimeScale(e)}))},o.getTimeScale=function(){return this._skeleton.timeScale},o.setToSetupPose=function(){var e=this;this._isAsyncLoaded?this._skeleton.setToSetupPose():this._asyncTasks.push((function(){e.setToSetupPose()}))},o.findAnimation=function(e){return this._isAsyncLoaded?null!=this._skeleton.findAnimation(e):(i("call Spine.findAnimation before skeleton data was loaded, result may not be correct.\n                You should try to use Spine.findAsyncAnimation instead."),!1)},o.findAsyncAnimation=function(e,t){var n=this;this._isAsyncLoaded?t(this.findAnimation(e)):this._asyncTasks.push((function(){n.findAsyncAnimation(e,t)}))},o.getNowLabel=function(){return null},o.getAsyncNowLabel=function(e){},o.resumePlay=function(){var e=this;this._isAsyncLoaded?this._skeleton.paused=!1:this._asyncTasks.push((function(){e.resumePlay()}))},o.stopPlay=function(){var e=this;this._isAsyncLoaded?this._skeleton.paused=!0:this._asyncTasks.push((function(){e.stopPlay()}))},o.gotoAndPlay=function(e){var t=this;this._isAsyncLoaded?(this._skeleton.paused=!1,this.gotoFrameIndex(e)):this._asyncTasks.push((function(){t.gotoAndPlay(e)}))},o.gotoAndStop=function(e){var t=this;this._isAsyncLoaded?(this._skeleton.paused=!1,this.gotoFrameIndex(e),this._skeleton.paused=!0):this._asyncTasks.push((function(){t.gotoAndStop(e)}))},o.gotoFrameIndex=function(e){var t=this._skeleton.getCurrent(0);if(t&&!(e-1>30*t.animation.duration)){this._skeleton.updateAnimation(e*(1/30)-t.trackTime)}},o.getAniTotalFrame=function(){if(!this._isAsyncLoaded)return i("call Spine.getAniTotalFrame before skeleton data was loaded, result may not be correct.\n                You should try to use Spine.getAsyncAniTotalFrame instead."),0;var e=this._skeleton.getCurrent(0);if(!e)return 1;var t=e.animation.duration;return Math.round(30*t)},o.getAsyncAniTotalFrame=function(e){var t=this;this._isAsyncLoaded||this._asyncTasks.push((function(){t.getAsyncAniTotalFrame(e)})),e(this.getAniTotalFrame())},o.getCurFrameIndex=function(){var e=this._skeleton.getCurrent(0);if(!e)return 0;var t=this.getAniTotalFrame(),n=e.trackTime;return 0==t&&(t=1),Math.round(30*n)%t},o.isStop=function(){return this._skeleton.paused},o.getBoundingBox=function(){if(!this._isAsyncLoaded)return i("call Spine.getBoundingBox before skeleton data was loaded, result may not be correct.\n                You should try to use Spine.getBoundingBoxAsync instead."),new a(0,0,0,0);var e=this._skeleton.skeletonData.getRuntimeData(!0);return new a(e.x,e.y,e.width,e.height)},o.getBoundingBoxAsync=function(e){var t=this;this._isAsyncLoaded?e(this.getBoundingBox()):this._asyncTasks.push((function(){t.getBoundingBoxAsync(e)}))},o.setSlotVisible=function(e,t){var n=this;void 0===t&&(t=!0),this._isAsyncLoaded?this._skeleton.findSlot(e).bone.active=t:this._asyncTasks.push((function(){n.setSlotVisible(e,t)}))},o.setScaleX=function(e,t){if(this._noFlipped)this.node.scale.x=e;else if(t)this.node.scale.x=e;else{var s=this.node.scale.x;this.node.scale.x=e;var i=e,a=Math.floor(s/Math.abs(s)),o=Math.floor(i/Math.abs(i));if(this._animName&&a!=o){var l=this._animName+n._suffix;if(this.findAnimation(l)){var c=this.getCurFrameIndex(),h=this.getAniTotalFrame(),r=this.isStop(),u=this.getTimeScale();e>=0?this._play(this._animName,this._isLoop,this._whichFrame,this._checkLabel):this._play(l,this._isLoop,this._whichFrame,this._checkLabel),c=Math.min(c,h),this.gotoAndPlay(c),0==r?this.setTimeScale(u):this.stopPlay()}}}},o.setScaleY=function(e){this.node.scale.y=e},o.setScale=function(e,t){if(t=t||e,this._noFlipped)this.node.setScale(e,t);else{if(e>=0){var n=this.node.scale.x;e*=Math.floor(n/Math.abs(n))}this.node.setScale(e,t)}},o.getScaleAsyncX=function(e){var t=this;this._isAsyncLoaded?e(this.node.scale.x):this._asyncTasks.push((function(){t.getScaleAsyncX(e)}))},o.getScaleAsyncY=function(e){var t=this;this._isAsyncLoaded?e(this.node.scale.y):this._asyncTasks.push((function(){t.getScaleAsyncY(e)}))},o.getScaleAsync=function(e){var t=this;this._isAsyncLoaded?e(this.node.scale.x):this._asyncTasks.push((function(){t.getScaleAsync(e)}))},o.setFlippedX=function(e){var t=e?1:-1;this.setScaleX(t*Math.abs(this.node.scale.x),!0)},o.play=function(e,t,n){var s=this;this._isAsyncLoaded?(this._play(e,t,0,n),0==this.getTimeScale()&&this._oldTimeScale&&this.setTimeScale(this._oldTimeScale)):this._asyncTasks.push((function(){s.play(e,t,n)}))},o.playAnim=function(e,t,n){var s=this;this._isAsyncLoaded?(this._play(e,n,t||0,null),0==this.getTimeScale()&&this._oldTimeScale&&this.setTimeScale(this._oldTimeScale)):this._asyncTasks.push((function(){s.playAnim(e,t,n)}))},o._play=function(e,t,s,a){if(!a||this.getNowLabel()!=e){if(!this._noFlipped&&(e.indexOf(n._suffix)>-1&&(e=e.substring(0,e.length-n._suffix.length),this.setFlippedX(!1)),this._animName=e,this._isLoop=t,this._whichFrame=s,this._checkLabel=a,this.node.scale.x<0)){var o=e+n._suffix;this.findAnimation(o)&&(e=o)}if(!this.findAnimation(e))return i("can not found animName:",e),void(this._animName=null);this._skeleton.setAnimation(0,e,t),this.gotoAndPlay(s)}},o.stop=function(){var e=this;this._isAsyncLoaded?(this._skeleton.clearTracks(),this._skeleton.setToSetupPose()):this._asyncTasks.push((function(){e.stop()}))},o.pause=function(){var e=this;this._isAsyncLoaded?(this._oldTimeScale=this.getTimeScale(),this.setTimeScale(0)):this._asyncTasks.push((function(){e.pause()}))},o.getFPS=function(){return 30},o.checkHaveLabel=function(e){return this.findAnimation(e)},o.registerAllEventHandler=function(){var e=this;this._skeleton.setEndListener((function(t){e._registeredCompleteHandler&&e._registeredCompleteHandler(t);var s=t.animation?t.animation.name:"";e._noFlipped||s.indexOf(n._suffix)>-1&&(s=s.substring(0,s.length-n._suffix.length));var i=e.completeCallbacks;if(i){var a=i.get(s);a&&a(e)}var o=e.completeAll;o&&o(e)}))},o.removeComleteEventCallback=function(e){this.completeCallbacks&&this.completeCallbacks.delete(e)},o.playEndRemoveSelf=function(e,t,n){!t&&e&&this.addCompleteCallback(e,(function(t){t.removeComleteEventCallback(e),t.removeFromParent(),n&&n()}))},o.addCompleteCallback=function(e,t){this.completeCallbacks||(this.completeCallbacks=new Map),e&&""!=e?this.completeCallbacks.set(e,t):this.completeAll=t},o.delCompleteCallback=function(e){this.completeCallbacks&&this.completeCallbacks.delete(e)},o.executeSpineEvent=function(e,t,n,i){var a=n.animation?n.animation.name:"",o="";switch(t){case s.spine.EventType.start:o="start";break;case s.spine.EventType.complete:o="complete";break;case s.spine.EventType.event:o="event";break;case s.spine.EventType.end:o="end"}if(i&&i instanceof s.spine.Event)e({type:o,name:i.data.name,intValue:i.intValue,floatValue:i.floatValue,stringValue:i.stringValue,sender:this});else if(t==s.spine.EventType.event)e(a,Math.round(30*n.trackTime));else{e({type:o,name:a,sender:this})}},o.registerSpineEventHandler=function(e,t){var n=this;switch(t){case s.spine.EventType.start:this._skeleton.setStartListener((function(s){n.executeSpineEvent(e,t,s)}));break;case s.spine.EventType.complete:this._skeleton.setCompleteListener((function(s){n.executeSpineEvent(e,t,s)}));break;case s.spine.EventType.event:this._skeleton.setEventListener((function(s,i){n.executeSpineEvent(e,t,s,i)}));break;case s.spine.EventType.end:this._registeredCompleteHandler=function(s){n.executeSpineEvent(e,t,s)}}},o.unregisterSpineEventHandler=function(e){switch(e){case s.spine.EventType.start:this._skeleton.setStartListener(null);break;case s.spine.EventType.complete:this._skeleton.setCompleteListener(null);break;case s.spine.EventType.event:this._skeleton.setEventListener(null);break;case s.spine.EventType.end:this._registeredCompleteHandler=null}},n}(o))._suffix="_fm",n._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteHelper.ts",["cc","./ResManager.ts","./ModuleDef.ts"],(function(e){var t,n,r,i,o,a,u,s;return{setters:[function(e){t=e.cclegacy,n=e.Node,r=e.UITransform,i=e.Sprite,o=e.SpriteFrame,a=e.Texture2D},function(e){u=e.ResManager},function(e){s=e.AssetBundleDef}],execute:function(){t._RF.push({},"0885cm/w2FE4rN9lcIETXKW","SpriteHelper",void 0);e("SpriteHelper",function(){function e(){}return e.create=function(e){var t=new n(e||"Sprite"),o=t.addComponent(r);o.setAnchorPoint(.5,.5),o.setContentSize(0,0);t.addComponent(i);return t},e.loadTexture=function(e,t,n,r){var c=e.getComponent(i);if(c){var p=r||s.GAMERES;1==(n=n||1)?u.loadResAsyn(p,t,o,(function(e,t){c.isValid&&(c.spriteFrame=t)})):u.loadResAsyn(p,t,a,(function(e,t){c.isValid&&(c.spriteFrame=o.createWithImage(t))}))}},e.updateTexture=function(e,t,n,r){this.loadTexture(e,t,n,r)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StatisticsUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./UIControler.ts","./G.ts","./QuickDifficultyUIModule.ts","./Tool.ts","./LanLabel.ts"],(function(t){var e,i,n,s,o,l,a,c,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.find,s=t.Label},function(t){o=t.ClassConfig},function(t){l=t.UIControler},function(t){a=t.default},function(t){c=t.EDifficulty},function(t){r=t.default},function(t){u=t.LanLabel}],execute:function(){i._RF.push({},"d096bkhgbJOdIzYIkLW6Ryc","StatisticsUICtrl",void 0);var f=t("StatisticsViewCtrl",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).uiPanel=void 0,e.labelTotalGames=void 0,e.labelPrefactVictories=void 0,e.labelWinStreak=void 0,e.labelFastestWin=void 0,e.selectNode=void 0,e}e(i,t);var o=i.prototype;return o._onLoad=function(){this.initUI(),this.regClickHandlers()},o._onEnable=function(){this.setup(),this.updateLanShow()},o._onDisable=function(){this.unSelect()},o._onStart=function(){},o._onUpdate=function(){},o.refreshUI=function(){},o.initUI=function(){this.labelTotalGames=n("mid/totalGames/count",this.node).getComponent(s),this.labelPrefactVictories=n("mid/perfectVictories/count",this.node).getComponent(s),this.labelWinStreak=n("mid/winStreak/count",this.node).getComponent(s),this.labelFastestWin=n("mid/fastestWin/count",this.node).getComponent(s),this.uiPanel=n("difficultyScroll/view/content",this.node)},o.updateLanShow=function(){for(var t=this.node.getComponentsInChildren(u),e=0;e<t.length;e++)t[e].language()},o.regClickHandlers=function(){var t=this;this.RegClickHanlder("*",(function(t,e,i,n){a.navigator.Go(t)})),this.RegClickHanlder("select",(function(e,i,n,s){var o=n.target;t.select(o);var l=parseInt(i);t.showReport(l)}))},o.setup=function(){this.select(this.uiPanel.children[0]),this.showReport(c.EASY)},o.showReport=function(t){var e=a.leader.difficultyStatistics.getReportForDifficulty(t);this.labelTotalGames.string=""+((null==e?void 0:e.totalGames)||0),this.labelPrefactVictories.string=""+((null==e?void 0:e.perfectVictories)||0),this.labelWinStreak.string=""+((null==e?void 0:e.winStreak)||0);var i="-";if(Number.isFinite(e.fastestWin)){var n=e.fastestWin,s=n>=3600?"%{hh}:%{mm}:%{ss}":"%{mm}:%{ss}";i=r.formatTimeString(n,s)}this.labelFastestWin.string=i},o.select=function(t){this.unSelect(),this.selectNode=t;var e=this.selectNode.getChildByName("select");e&&(e.active=!0)},o.unSelect=function(){if(this.selectNode){var t=this.selectNode.getChildByName("select");t&&(t.active=!1)}},i}(l));o.addClass("StatisticsViewCtrl",f),i._RF.pop()}}}));

System.register("chunks:///_virtual/StatisticsUIModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts","./ModuleBase.ts","./StringToModule.ts"],(function(t){var e,n,i,s,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.default},function(t){s=t.ModuleBase},function(t){u=t.default}],execute:function(){n._RF.push({},"b9b649CUFtMOJYiO9e+5rRi","StatisticsUIModule",void 0);var o=t("StatisticsModule",function(t){function n(){return t.call(this,n.sTag)||this}e(n,t);var s=n.prototype;return s.regNetCmds=function(){},s.unRegNetCmds=function(){},s.regGameEvents=function(){},s.unRegGameEvents=function(){},s.DoWork=function(t){i.OpenUI("Statistics")},n}(s));o.sTag="Statistics",u.Set("StatisticsModule",o),n._RF.pop()}}}));

System.register("chunks:///_virtual/StorageManager.ts",["cc","./env","./EncryptUtil.ts"],(function(e){var t,n,r,i;return{setters:[function(e){t=e.cclegacy,n=e.sys},function(e){r=e.PREVIEW},function(e){i=e.EncryptUtil}],execute:function(){t._RF.push({},"79301Bfc6VJ8oY0zYx1hWR2","StorageManager",void 0);e("StorageManager",function(){function e(){this._key=null,this._iv=null,this._id=""}var t=e.prototype;return t.init=function(e,t){i.initCrypto(e,t),this._key=i.md5(e),this._iv=i.md5(t)},t.setUser=function(e){this._id=e},t.set=function(e,t){var r=e+"_"+this._id;if(null!=e){if(r=i.md5(r),null==t)return console.warn("存储的值为空，则直接移除该存储"),void this.remove(e);if("function"!=typeof t){if("object"==typeof t)try{t=JSON.stringify(t)}catch(e){return void console.error("解析失败，str = "+t)}else"number"==typeof t&&(t+="");null!=this._key&&null!=this._iv&&(t=i.aesEncrypt(""+t,this._key,this._iv)),n.localStorage.setItem(r,t)}else console.error("储存的值不能为方法")}else console.error("存储的key不能为空")},t.get=function(e,t){if(void 0===t&&(t=""),null==e)return console.error("存储的key不能为空"),null;e=e+"_"+this._id,e=i.md5(e);var o=n.localStorage.getItem(e);return null==o||""===o||r||null==this._key||null==this._iv||(o=i.aesDecrypt(o,this._key,this._iv)),null===o?t:o},t.getNumber=function(e,t){void 0===t&&(t=0);var n=this.get(e);return"0"==n?Number(n):Number(n)||t},t.getBoolean=function(e){var t=this.get(e);return Boolean(t)||!1},t.getJson=function(e,t){var n=this.get(e);return n&&JSON.parse(n)||t},t.remove=function(e){if(null!=e){var t=e+"_"+this._id;t=i.md5(t),n.localStorage.removeItem(t)}else console.error("存储的key不能为空")},t.clear=function(){n.localStorage.clear()},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StringToModule.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f97a7pFOslI9bBua9MgXO96","StringToModule",void 0);var s=function(){function t(){this._mapStrConstuctors=null,this._mapStrConstuctors=new Map}var e=t.prototype;return e.Set=function(t,n){this._mapStrConstuctors.set(t,n)},e.Get=function(t){return this._mapStrConstuctors.get(t)},n(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}();s._instance=null;t("default",s.instance);e._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"a2921YPA8hH3ISHJZdlLhpt","StringUtil",void 0);t("StringUtil",function(){function t(){}return t.uuid=function(){for(var t="",r=0;r<32;r++){var n=16*Math.random()|0;t+=(12==r?4:16==r?3&n|8:n).toString(16)}return t},t.padLeft=function(t,r,n){var e=r-t.length;if(e<=0)return t;var o=n.length;if(1==o)return n.repeat(e).concat(t);var u=Math.floor(e/o),i=e%o,a="";return i>0&&(a=n.substring(o-i)),u>0&&(a=a.concat(n.repeat(u))),a.concat(t)},t.guid=function(){for(var t="",r=1;r<=32;r++){t+=Math.floor(16*Math.random()).toString(16),8!=r&&12!=r&&16!=r&&20!=r||(t+="-")}return t},t.numberTotPermil=function(t){return t.toLocaleString()},t.numberToThousand=function(t,r){void 0===r&&(r=2);var n=1e3;if(t<n)return t.toString();var e=Math.floor(Math.log(t)/Math.log(n));return(t/Math.pow(n,e)).toFixed(r)+["","K","M","G"][e]},t.numberToTenThousand=function(t,r){void 0===r&&(r=2);var n=1e4;if(t<n)return t.toString();var e=Math.floor(Math.log(t)/Math.log(n));return(t/Math.pow(n,e)).toFixed(r)+["","万","亿","万亿"][e]},t.stringToArray1=function(t){return""==t?[]:t.split(",")},t.stringToArray2=function(t){return""==t?[]:t.split("|")},t.stringToArray3=function(t){return""==t?[]:t.split(":")},t.stringToArray4=function(t){return""==t?[]:t.split(";")},t.sub=function(t,r,n){void 0===n&&(n=!1);var e=/[^\x00-\xff]/g;if(t.replace(e,"mm").length<=r)return t;for(var o=Math.floor(r/2);o<t.length;o++)if(t.substr(0,o).replace(e,"mm").length>=r)return n?t.substr(0,o)+"...":t.substr(0,o);return t},t.stringLen=function(t){for(var r=0,n=t.length,e=-1,o=0;o<n;o++)r+=(e=t.charCodeAt(o))>=0&&e<=128?1:2;return r},t.format=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];return t.replace(/{(\d+)}/g,(function(t,r){return void 0!==n[r]?n[r]:t}))},t.formatDate=function(t,r){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var e in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+e+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?n[e]:("00"+n[e]).substr((""+n[e]).length)));return r},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/sudokuCommandManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,r;return{setters:[function(n){t=n.extends},function(n){r=n.cclegacy}],execute:function(){r._RF.push({},"53459R+L0xKGp1rSHYfhhTM","sudokuCommandManager",void 0);n("SudokuCommandManager",function(){function n(){this.undoStack=[],this.markHandlers={}}var r=n.prototype;return r.registerMarkHandler=function(n,t){this.markHandlers[n]=t},r.pushMark=function(n,r){this.undoStack.push(t({mark:n},r))},r.undo=function(){var n=this.undoStack.pop();if(n){var t=n.mark,r=this.markHandlers[t];r&&r(n)}},r.clear=function(){this.undoStack.length=0},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/SudokuConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"194432m/CpAZZO2yWMRYNY8","SudokuConfig",void 0);var a={data:[],notes:{},usedAllNotes:!1,timeSpent:0,mistake:0,maxMistake:3};e("sudokuConfig",{defaultValue:function(){return Object.assign({},a)},validate:function(e){if(console.log("数独数据验证"),!Array.isArray(e.data)||81!==e.data.length)return console.error("Invalid data: data must be an array of length 81."),!1;for(var n,a=t(e.data);!(n=a()).done;){var r=n.value;if("number"!=typeof r)return console.error("Invalid data: element must be a number, but got "+typeof r+"."),!1;if(!Number.isInteger(r))return console.error("Invalid data: element must be an integer, but got "+r+"."),!1;if(r<0||r>9)return console.error("Invalid data: element must be between 0 and 9, but got "+r+"."),!1}return"number"!=typeof e.timeSpent||e.timeSpent<0?(console.error("Invalid timeSpent: must be a non-negative number."),!1):"number"!=typeof e.mistake||!Number.isInteger(e.mistake)||e.mistake<0?(console.error("Invalid mistake: must be a non-negative integer."),!1):"number"!=typeof e.maxMistake||!Number.isInteger(e.maxMistake)||e.maxMistake<=0?(console.error("Invalid maxMistake: must be a positive integer."),!1):!(e.mistake>e.maxMistake)||(console.error("Invalid mistake: cannot exceed maxMistake."),!1)},isDynamicKey:!0});n._RF.pop()}}}));

System.register("chunks:///_virtual/sudokuGenreator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QuickDifficultyUIModule.ts"],(function(r){var o,t,n;return{setters:[function(r){o=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy},function(r){n=r.EDifficulty}],execute:function(){var e;t._RF.push({},"a6013vIh/FGrbnOKuOizS6r","sudokuGenreator",void 0);var a=((e={})[""+n.EASY]=36,e[""+n.MEDIUM]=51,e[""+n.HARD]=48,e[""+n.EXTRA_HARD]=51,e),f=n.EASY;r("SudokuGenerator",function(){function r(){}return r.setDifficulty=function(r){f=r},r.shuffle=function(r){for(var o=r.length-1;o>0;o--){var t=Math.floor(Math.random()*(o+1)),n=[r[t],r[o]];r[o]=n[0],r[t]=n[1]}return r},r.isValid=function(r,o,t,n){for(var e=3*Math.floor(o/3),a=3*Math.floor(t/3),f=0;f<9;f++)if(r[o][f]===n||r[f][t]===n||r[e+Math.floor(f/3)][a+f%3]===n)return!1;return!0},r.fillBoard=function(t){for(var n=0;n<9;n++)for(var e=0;e<9;e++)if(0===t[n][e]){for(var a,f=r.shuffle(Array.from({length:9},(function(r,o){return o+1}))),u=o(f);!(a=u()).done;){var i=a.value;if(r.isValid(t,n,e,i)){if(t[n][e]=i,r.fillBoard(t))return!0;t[n][e]=0}}return!1}return!0},r.hasUniqueSolution=function(o){var t=0,n=new Set;return function o(e){for(var a=0;a<9;a++)for(var f=0;f<9;f++)if(0===e[a][f]){for(var u=1;u<=9;u++)if(r.isValid(e,a,f,u)){e[a][f]=u;var i=JSON.stringify(e);if(n.has(i)){e[a][f]=0;continue}if(n.add(i),o(e)&&++t>1)return!1;e[a][f]=0}return!1}return!0}(o),1===t},r.generateCompleteBoard=function(){var o=Array.from({length:9},(function(){return Array(9).fill(0)}));return r.fillBoard(o),o},r.generate=function(){var o=r.generateCompleteBoard();return{completeBoard:o,puzzleBoard:r.removeCells(JSON.parse(JSON.stringify(o)))}},r.removeCells=function(o){for(var t=a[f],n=0,e=Math.floor(t/9),u=t%9,i=0;i<9;i++)for(var l=3*Math.floor(i/3),c=i%3*3,v=0,s=e+(i<u?1:0);v<s;){var h=l+Math.floor(3*Math.random()),d=c+Math.floor(3*Math.random());if(0!==o[h][d]){var M=o[h][d];o[h][d]=0,r.hasUniqueSolution(o)?(n++,v++):o[h][d]=M}}for(;n<t;){var m=Math.floor(9*Math.random()),S=Math.floor(9*Math.random());if(0!==o[m][S]){var g=o[m][S];o[m][S]=0,r.hasUniqueSolution(o)?n++:o[m][S]=g}}return o},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SudokuStatistics.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QuickDifficultyUIModule.ts"],(function(t){var i,s,e;return{setters:[function(t){i=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy},function(t){e=t.EDifficulty}],execute:function(){s._RF.push({},"66d31QfxHxKtKFsfFhKFhdE","SudokuStatistics",void 0);var a=t("SudokuStatistics",function(){function t(t){this.games=[],this.winStreak=0,this.currentStreak=0,this.perfectVictories=0,this.fastestWin=1/0,this.storageKey=t}var s=t.prototype;return s.addGameResult=function(t){this.games.push(t),t.victory?(this.currentStreak++,this.winStreak=Math.max(this.winStreak,this.currentStreak)):this.currentStreak=0,t.perfectVictory&&this.perfectVictories++,t.victory&&t.timeSpent<this.fastestWin&&(this.fastestWin=t.timeSpent),this.saveStatistics()},s.getReport=function(){return{totalGames:this.games.length,perfectVictories:this.perfectVictories,winStreak:this.winStreak,fastestWin:this.fastestWin}},s.saveStatistics=function(){var t={games:this.games,winStreak:this.winStreak,currentStreak:this.currentStreak,perfectVictories:this.perfectVictories,fastestWin:this.fastestWin};localStorage.setItem(this.storageKey,JSON.stringify(t))},s.loadStatistics=function(){var t=localStorage.getItem(this.storageKey);if(t){var s=JSON.parse(t);this.games=s.games,this.winStreak=s.winStreak,this.currentStreak=s.currentStreak,this.perfectVictories=s.perfectVictories,this.fastestWin=s.fastestWin||1/0}if(this.games&&this.games.length>0)for(var e,a=i(this.games);!(e=a()).done;){var r=e.value;r.victory&&r.timeSpent<this.fastestWin&&(this.fastestWin=r.timeSpent)}},t}());t("SudokuDifficultyStatistics",function(){function t(){var t=this;this.statisticsMap={},Object.values(e).filter((function(t){return"number"==typeof t})).forEach((function(i){var s,r="sudokuStats_"+e[i];t.statisticsMap[i]=new a(r),null==(s=t.statisticsMap[i])||s.loadStatistics()}))}var i=t.prototype;return i.addGameResult=function(t){var i;null==(i=this.statisticsMap[t.difficulty])||i.addGameResult(t)},i.getReportForDifficulty=function(t){var i;return null==(i=this.statisticsMap[t])?void 0:i.getReport()},i.saveStatisticsForAllDifficulties=function(){Object.values(this.statisticsMap).forEach((function(t){null==t||t.saveStatistics()}))},i.loadStatisticsForAllDifficulties=function(){Object.values(this.statisticsMap).forEach((function(t){null==t||t.loadStatistics()}))},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/TableDefine.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1e392/DX1tHTIsKN6Dba2Yl","TableDefine",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Task.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BTreeNode.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.BTreeNode}],execute:function(){n._RF.push({},"c70dca029BHFZ9Rp0qJaohk","Task",void 0);e("Task",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.run=function(e){},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/TGame.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"6c340DYnN1NQLCUxIDcTeED","TGame",void 0);var a=t("EGameStage",function(t){return t[t.Starting=0]="Starting",t[t.ResCheck=1]="ResCheck",t[t.Login=2]="Login",t[t.Play=3]="Play",t[t.Exiting=4]="Exiting",t}({}));t("TGame",function(){function t(){this._gameStage=void 0,this._gameStage=a.Starting}return t.prototype.SetStage=function(t){this._gameStage=t},e(t,[{key:"stage",get:function(){return this._gameStage}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ThemeColorPicker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ThemeDef.ts"],(function(e){var t,r,o,i,n,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){o=e.cclegacy,i=e._decorator,n=e.Enum,c=e.Color},function(e){l=e.EThemeType}],execute:function(){var p,u,a,s,h,y,f;o._RF.push({},"329c0t7wIpCWLoGyyR8ROPR","ThemeColorPicker",void 0);var m=i.ccclass,T=i.property;e("ThemeColorPicker",(p=m("ThemeColorPicker"),u=T({type:n(l),tooltip:"选择当前应用的主题类型"}),a=T({type:c,tooltip:"选择当前主题类型下的颜色"}),p((y=t((h=function(){r(this,"themeType",y,this),r(this,"color",f,this)}).prototype,"themeType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.Light}}),f=t(h.prototype,"color",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(255,255,255)}}),s=h))||s));o._RF.pop()}}}));

System.register("chunks:///_virtual/ThemeDef.ts",["cc"],(function(o){var r,e;return{setters:[function(o){r=o.cclegacy,e=o.Color}],execute:function(){var n;r._RF.push({},"761bbLfUeNPg5EMf7X6EKEl","ThemeDef",void 0);var f=o("EThemeType",function(o){return o[o.Light=0]="Light",o[o.Green=1]="Green",o[o.Orange=2]="Orange",o[o.Dark=3]="Dark",o[o.Max=4]="Max",o}({}));o("ThemeMap",((n={})[f.Light]={bigBgColor:e.fromHEX(new e,"#f8f9fd"),buttonBgColor:e.fromHEX(new e,"#AABAD5"),buttonFgColor:e.fromHEX(new e,"#ffffff"),cardBgColor:e.fromHEX(new e,"#AABAD5"),cardFgColor:e.fromHEX(new e,"#FFFFFF"),iconColor:e.fromHEX(new e,"#4265AB"),textColor:e.fromHEX(new e,"#6D7689")},n[f.Dark]={bigBgColor:e.fromHEX(new e,"#1E1E22"),buttonBgColor:e.fromHEX(new e,"#444C66"),buttonFgColor:e.fromHEX(new e,"#29314E"),cardBgColor:e.fromHEX(new e,"#444C66"),cardFgColor:e.fromHEX(new e,"#29314E"),iconColor:e.fromHEX(new e,"#68769A"),textColor:e.fromHEX(new e,"#8394bc")},n[f.Green]={bigBgColor:e.fromHEX(new e,"#F2FFF2"),buttonBgColor:e.fromHEX(new e,"#89BB9D"),buttonFgColor:e.fromHEX(new e,"#E4F7D7"),cardBgColor:e.fromHEX(new e,"#89BB9D"),cardFgColor:e.fromHEX(new e,"#F6FFF1"),iconColor:e.fromHEX(new e,"#357B45"),textColor:e.fromHEX(new e,"#214100")},n[f.Orange]={bigBgColor:e.fromHEX(new e,"#f2eee3"),buttonBgColor:e.fromHEX(new e,"#BBA079"),buttonFgColor:e.fromHEX(new e,"#F8EFDC"),cardBgColor:e.fromHEX(new e,"#BBA079"),cardFgColor:e.fromHEX(new e,"#FDFAF5"),iconColor:e.fromHEX(new e,"#967457"),textColor:e.fromHEX(new e,"#673A12")},n));r._RF.pop()}}}));

System.register("chunks:///_virtual/ThemeLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts","./ThemeColorPicker.ts"],(function(e){var o,t,r,i,n,l,a,c,h,s,u;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Label,c=e.Color,h=e.Component},function(e){s=e.default},function(e){u=e.ThemeColorPicker}],execute:function(){var p,m,f,b,T,y,v,d,g,C,w,L,P;n._RF.push({},"77718aokLRJA6aNrnR+KLFq","ThemeLabel",void 0);var E=l.ccclass,M=l.menu,k=l.property,z=l.executeInEditMode,H=l.requireComponent,O=l.disallowMultiple;e("ThemeLabel",(p=E("ThemeLabel"),m=H(a),f=O(),b=M("ui/theme/ThemeLabel"),T=z(!0),y=k({tooltip:"配置用于主题的颜色属性名称。根据 themeConfig 中的配置，动态选择颜色。",displayName:"Theme Color Property",visible:!0}),v=k({tooltip:"启用此选项以允许为主题标签覆盖默认的主题颜色选择器。如果启用，您可以在编辑器中选择不同的主题颜色配置。"}),d=k({type:[u],tooltip:"可选的主题颜色选择器，只有在允许覆盖主题时生效",visible:function(){return this.allowOverTheme}}),p(g=m(g=f(g=b(g=T((w=o((C=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(o=e.call.apply(e,[this].concat(n))||this).label=void 0,o.themeConfig=null,r(o,"colorProperty",w,i(o)),r(o,"allowOverTheme",L,i(o)),r(o,"overThemePackers",P,i(o)),o}t(o,e);var n=o.prototype;return n.onLoad=function(){this.label=this.node.getComponent(a)},n.onEnable=function(){this.applyTheme()},n.applyTheme=function(){if(this.themeConfig=s.themeManager.getThemeInfo(),null!=this.label)if(this.themeConfig){if(this.allowOverTheme){var e=s.themeManager.getThemeType(),o=this.overThemePackers.find((function(o){return o.themeType===e}));if(o)return void(this.label.color=o.color)}var t=this.themeConfig[this.colorProperty];t instanceof c?this.label.color=t:console.warn("THEME::"+this.node.name+" 未找到有效的颜色配置属性: "+this.colorProperty)}else console.warn("THEME::"+this.node.name+" 未找到主题配置");else console.warn("THEME::"+this.node.name+" 未获取到Label组件")},o}(h)).prototype,"colorProperty",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"textColor"}}),L=o(C.prototype,"allowOverTheme",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=o(C.prototype,"overThemePackers",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=C))||g)||g)||g)||g)||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/ThemeLabel%20copy.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"c4fe7HJawxP3abPZA7wKbx9","ThemeLabel%20copy",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ThemeManager.ts",["cc","./Facade.ts","./FrameDefine.ts","./JsonUtil.ts","./ThemeDef.ts","./ThemeLabel.ts","./ThemeSprite.ts"],(function(e){var n,t,r,h,o,c,i,m,u;return{setters:[function(e){n=e.cclegacy,t=e.director},function(e){r=e.default},function(e){h=e.GameEvent},function(e){o=e.JsonUtil},function(e){c=e.ThemeMap,i=e.EThemeType},function(e){m=e.ThemeLabel},function(e){u=e.ThemeSprite}],execute:function(){n._RF.push({},"92e28mHBONDj7m8dTwcrFqN","ThemeManager",void 0);var a=e("ThemeEvent",function(e){return e.CHANGE="ThemeEvent.CHANGE",e}({}));e("ThemeManager",function(){function e(){this.currentTheme=i.Light}var n=e.prototype;return n.getThemeType=function(){return this.currentTheme},n.getThemeInfo=function(){return c[this.currentTheme]},n.switchTheme=function(e){c[e]?(this.currentTheme=e,this.applyTheme(e)):console.error("Theme "+i[e]+" not found!")},n.loadThemesFromJson=function(e){o.load(e,(function(e,n){e&&console.error("Failed to load theme data:",e)}))},n.applyTheme=function(e){this.currentTheme=e,t.getScene().getComponentsInChildren(u).forEach((function(e){return e.applyTheme()})),t.getScene().getComponentsInChildren(m).forEach((function(e){return e.applyTheme()})),this.sendThemeChangeEvent()},n.sendThemeChangeEvent=function(){var e=new h(a.CHANGE);e.themeType=this.currentTheme,r.SendGameEvent(e)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ThemeSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts","./ThemeColorPicker.ts"],(function(e){var t,o,r,i,n,l,a,s,p,c,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Sprite,s=e.Color,p=e.Component},function(e){c=e.default},function(e){h=e.ThemeColorPicker}],execute:function(){var u,m,f,v,y,T,C,d,g,b,w,P,E,S,M;n._RF.push({},"b3b75uSWzlEDYRHG3cCFy7C","ThemeSprite",void 0);var z=l.ccclass,k=l.menu,H=l.property,I=l.executeInEditMode,D=l.requireComponent,O=l.disallowMultiple;e("ThemeSprite",(u=z("ThemeSprite"),m=D(a),f=O(),v=k("ui/theme/ThemeSprite"),y=I(!0),T=H({tooltip:"配置用于主题的颜色属性名称。根据 themeConfig 中的配置，动态选择颜色。",displayName:"Theme Color Property",visible:!0}),C=H({tooltip:"启用或禁用颜色反转。启用后，颜色将反转为补色。",visible:!0}),d=H({tooltip:"启用此选项以允许为主题标签覆盖默认的主题颜色选择器。如果启用，您可以在编辑器中选择不同的主题颜色配置。"}),g=H({type:[h],tooltip:"可选的主题颜色选择器，只有在允许覆盖主题时生效",visible:function(){return this.allowOverTheme}}),u(b=m(b=f(b=v(b=y((P=t((w=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(t=e.call.apply(e,[this].concat(n))||this).sprite=void 0,t.themeConfig=null,r(t,"colorProperty",P,i(t)),r(t,"invertColor",E,i(t)),r(t,"allowOverTheme",S,i(t)),r(t,"overThemePackers",M,i(t)),t}o(t,e);var n=t.prototype;return n.onLoad=function(){this.sprite=this.node.getComponent(a)},n.onEnable=function(){this.applyTheme()},n.applyTheme=function(){if(this.themeConfig=c.themeManager.getThemeInfo(),null!=this.sprite)if(this.themeConfig){if(this.allowOverTheme){var e=c.themeManager.getThemeType(),t=this.overThemePackers.find((function(t){return t.themeType===e}));if(t)return void this.applyColor(t.color)}var o=this.themeConfig[this.colorProperty];if(o instanceof s){var r=this.invertColor?this.getInvertedColor(o):o;this.applyColor(r)}else console.warn("THEME::"+this.node.name+" 未找到有效的颜色配置属性: "+this.colorProperty)}else console.warn("THEME::"+this.node.name+" 未找到主题配置");else console.warn("THEME::"+this.node.name+" 未获取到 Sprite 组件")},n.applyColor=function(e){this.sprite?this.sprite.color=e:console.warn("THEME::"+this.node.name+" 未获取到 Sprite 组件，无法应用颜色")},n.getInvertedColor=function(e){return new s(255-e.r,255-e.g,255-e.b,e.a)},t}(p)).prototype,"colorProperty",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"iconColor"}}),E=t(w.prototype,"invertColor",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=t(w.prototype,"allowOverTheme",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=t(w.prototype,"overThemePackers",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=w))||b)||b)||b)||b)||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/ThemeSprite%20copy.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b143ddRwUBKDJHJTw4u2+XC","ThemeSprite%20copy",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ThrouthInput.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,o,r,E;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,r=n.Node,E=n.Component}],execute:function(){var u;t._RF.push({},"66d05nZEelMXJoCQjixo0Ew","ThrouthInput",void 0);var p=o.ccclass,i=[r.EventType.TOUCH_START,r.EventType.TOUCH_END,r.EventType.TOUCH_MOVE,r.EventType.MOUSE_DOWN,r.EventType.MOUSE_MOVE,r.EventType.MOUSE_UP,r.EventType.MOUSE_ENTER,r.EventType.MOUSE_LEAVE,r.EventType.MOUSE_WHEEL];function c(n){n.preventSwallow=!0}n("ThroughInput",p("ThroughInput")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onEnable=function(){for(var n=0;n<i.length;n++)this.node.on(i[n],c,this)},o.onDisable=function(){for(var n=0;n<i.length;n++)this.node.off(i[n],c,this)},t}(E))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"6ec30tcYFVJwLoTlaqpIJKs","Timer",void 0);e("Timer",function(){function e(e){void 0===e&&(e=0),this.callback=null,this._elapsedTime=0,this._step=-1,this.step=e}var s=e.prototype;return s.update=function(e){return!(this.step<=0)&&(this._elapsedTime+=e,this._elapsedTime>=this._step&&(this._elapsedTime-=this._step,null==(t=this.callback)||t.call(this),!0));var t},s.reset=function(){this._elapsedTime=0},s.stop=function(){this._elapsedTime=0,this.step=-1},t(e,[{key:"elapsedTime",get:function(){return this._elapsedTime}},{key:"step",get:function(){return this._step},set:function(e){this._step=e,this._elapsedTime=0}},{key:"progress",get:function(){return this._elapsedTime/this._step}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/TimerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Timer.ts","./StringUtil.ts"],(function(e){var t,i,n,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.Component},function(e){r=e.Timer},function(e){s=e.StringUtil}],execute:function(){i._RF.push({},"d5d780h+NxBPreMJ2wuzX6H","TimerManager",void 0);e("TimerManager",function(e){function i(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).times={},t.initTime=(new Date).getTime(),t.serverTime=0,t}t(i,e);var n=i.prototype;return n.register=function(e,t,i,n){var o=new r;o.step=1;var l={};return l.id=s.guid(),l.timer=o,l.object=e,l.field=t,l.onSecond=i,l.onComplete=n,this.times[l.id]=l,l.id},n.unRegister=function(e){this.times[e]&&delete this.times[e]},n.update=function(e){for(var t in this.times){var i=this.times[t];i.timer.update(e)&&i.object[i.field]>0&&(i.object[i.field]--,i.object[i.field]<=0?this.onTimerComplete(i):i.onSecond&&i.onSecond.call(i.object))}},n.onTimerComplete=function(e){e.onComplete&&e.onComplete.call(e.object),e.event&&this.node.dispatchEvent(e.event),delete this.times[e.id]},n.setServerTime=function(e){return e&&(this.serverTime=e),this.serverTime},n.getServerTime=function(){return this.serverTime+this.getElapsedTime()},n.format=function(e,t){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},n.getElapsedTime=function(){return Date.now()-this.initTime},n.save=function(){for(var e in this.times)this.times[e].startTime=this.getElapsedTime()},n.load=function(){for(var e in this.times){var t=Math.floor((this.getElapsedTime()-(this.times[e].startTime||this.getElapsedTime()))/1e3),i=this.times[e];i.object[i.field]=i.object[i.field]-t,i.object[i.field]<0&&(i.object[i.field]=0,this.onTimerComplete(i)),this.times[e].startTime=null}},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/TinyXml2.ts",["cc"],(function(t){var s,i;return{setters:[function(t){s=t.cclegacy,i=t.error}],execute:function(){var r;t("tinyxml2",void 0),s._RF.push({},"0f793Q+1IVF1bHaULx6A7PE","TinyXml2",void 0),function(t){var s=function(){this.name="",this.attributes=new Map,this.isClose=!1};t.XMLElement=s;var r=function(){function t(){}var s=t.prototype;return s.VisitEnter=function(t){return!0},s.VisitExit=function(t){return!0},s.Visit=function(t){return!0},t}();t.XMLVisitor=r;var e=function(){function t(){this._xml="",this._pos=0,this._visitor=null}var r=t.prototype;return r.parse=function(t,s){for(this._xml=t,this._pos=0,this._visitor=s;this._pos<this._xml.length;){var r=this.readElement();if(null!=r)this._visitor.VisitEnter(r);else{var e=this.readText();if(""!=e)this._visitor.Visit(e);else{var n=this.readElementEnd();if(null==n)return i("parse xml error "+t),!1;this._visitor.VisitExit(n)}}}return!0},r.readChar=function(t){for(var s=this._pos,i=0;i<t.length;++i){if(this._xml[this._pos]!=t[i])return this._pos=s,!1;this._pos++}return!0},r.readWhitespaces=function(){for(;this._pos<this._xml.length&&(" "==this._xml[this._pos]||"\t"==this._xml[this._pos]||"\r"==this._xml[this._pos]||"\n"==this._xml[this._pos]);)this._pos++},r.readIdentifier=function(){for(var t=this._pos;this._pos<this._xml.length;){var s=this._xml[this._pos];if(" "==s||"\t"==s||"\r"==s||"\n"==s||">"==s||"/"==s||"<"==s||"="==s)break;this._pos++}return t==this._pos?null:this._xml.substring(t,this._pos)},r.readText=function(){for(var t=this._pos;this._pos<this._xml.length;){if("<"==this._xml[this._pos])return t==this._pos?"":this._xml.substring(t,this._pos);this._pos++}return this._xml.substring(t,this._pos)},r.readValue=function(){var t=this._pos;if(this.readChar('"')){for(;this._pos<this._xml.length;){if('"'==this._xml[this._pos]){if(t+1==this._pos)return this._pos++,"";var s=this._xml.substring(t+1,this._pos);return this._pos++,s}this._pos++}return this._pos=t,null}if(this.readChar("'")){for(;this._pos<this._xml.length;){if("'"==this._xml[this._pos]){if(t+1==this._pos)return this._pos++,"";var i=this._xml.substring(t+1,this._pos);return this._pos++,i}this._pos++}return this._pos=t,null}return null},r.readAttribute=function(){var t=this._pos,s=this.readIdentifier();if(null==s)return[null,null];if(this.readWhitespaces(),!this.readChar("="))return this._pos=t,[null,null];this.readWhitespaces();var i=this.readValue();return null==i?(this._pos=t,[null,null]):[s,i]},r.readElement=function(){var t=this._pos;if(!this.readChar("<"))return null;this.readWhitespaces();var i=this.readIdentifier();if(null==i)return this._pos=t,null;var r=new s;for(r.name=i;this.readWhitespaces(),!this.readChar(">");){if(this.readChar("/>")){r.isClose=!0;break}var e=this.readAttribute(),n=e[0],h=e[1];if(null==n)return this._pos=t,null;r.attributes.set(n,h)}return r},r.readElementEnd=function(){var t=this._pos;if(!this.readChar("</"))return this._pos=t,null;this.readWhitespaces();var s=this.readIdentifier();return this.readChar(">")?s:(this._pos=t,null)},t}();t.XMLDocument=e}(r||(r=t("tinyxml2",{}))),s._RF.pop()}}}));

System.register("chunks:///_virtual/Tips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayerManager.ts","./LanManager.ts","./ModuleDef.ts"],(function(t){var e,n,i,s,o,a,u,c,r,p,f,l,h,g;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t.assetManager,s=t.Prefab,o=t.instantiate,a=t.Label,u=t.UIOpacity,c=t.tween,r=t.v3,p=t.Vec3},function(t){f=t.UILayerManager,l=t.UILayerDef},function(t){h=t.default},function(t){g=t.AssetBundleDef}],execute:function(){n._RF.push({},"d8aeaSwvQFAOJzQmEGYoW4r","Tips",void 0),t("Tips",function(){function t(){this._tipsPrefabPath="gui/tips",this._tipsPrefab=null,this._inited=!1,this._msgQueue=[],this.init()}var n=t.prototype;return n.init=function(){var t=this,e=i.getBundle(g.RES);null!=e&&(this._inited||e.load(this._tipsPrefabPath,s,(function(e,n){e?console.log(e):(t._tipsPrefab=n,t._inited=!0,t.tweenByQueue())})))},n.ShowTips=function(t){if("string"!=typeof t||""!=t){var e=""+t,n=h.getTipsTextByKey(e);null!=n&&""!=n||(n=h.getTextByKey(e)),null!=n&&""!=n||(n=""+e),this._msgQueue.push(n),this.tweenByQueue()}},n.tweenByQueue=function(){var t=this;if(!1!==this._inited&&this._msgQueue.length>0){var e=this._msgQueue[0];this._msgQueue.shift(),this.tipsTween(e,(function(){t.tweenByQueue()}))}},n.tipsTween=function(t,e){var n=o(this._tipsPrefab);n.getChildByPath("content/text").getComponent(a).string=t,f.instance.addToLayer(l.Tips,n),n.setPosition(0,0),n.active=!0,n.getComponent(u).opacity=100,c(n).set({position:r(0,0)}).to(.1,{position:r(0,200)},{onUpdate:function(t,e){n.getComponent(u).opacity=100+155*e}}).by(.7,{position:r(0,40)}).by(.25,{position:p.ZERO},{onUpdate:function(t,e){n.getComponent(u).opacity=255*(1-e)}}).call(e).removeSelf().start()},e(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Tips%20copy.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"21603AdU15CgZCTOYeKQbic","Tips%20copy",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/TLBazierFly.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,s,e,r,n,a;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator,e=t.bezier,r=t.game,n=t.math,a=t.Component}],execute:function(){var c;o._RF.push({},"62c03VTR35K0Ib5CE2N+tpB","TLBazierFly",void 0);var l=s.ccclass;s.property,t("TLBazierFly",l("TLBazier")(c=function(t){function o(){for(var i,o=arguments.length,s=new Array(o),e=0;e<o;e++)s[e]=arguments[e];return(i=t.call.apply(t,[this].concat(s))||this).working=!1,i.startPos=void 0,i.endPos=void 0,i.controlPos1=void 0,i.controlPos2=void 0,i.totaltime=void 0,i.startTime=void 0,i.callback=void 0,i}i(o,t);var s=o.prototype;return s.bezierCurve=function(t,i,o,s,r,n){n.x=e(i.x,o.x,s.x,r.x,t),n.y=e(i.y,o.y,s.y,r.y,t),n.z=e(i.z,o.z,s.z,r.z,t)},s.FlyTo=function(t,i,o,s){void 0===s&&(s=null),this.working=!0,this.callback=s,this.startPos=i,this.endPos=o,this.totaltime=t,this.startTime=r.totalTime,this.controlPos1=new n.Vec3(0,.5*screen.height,0),this.controlPos2=new n.Vec3(this.endPos.x,.5*-screen.height,0),this.node.setPosition(this.startPos)},s.update=function(t){if(0!=this.working){var i=r.totalTime,o=i-this.startTime,s=new n.Vec3;if(o>this.totaltime)s=this.endPos,this.working=!1;else{var e=(i-this.startTime)/this.totaltime;this.bezierCurve(e,this.startPos,this.controlPos1,this.controlPos2,this.endPos,s)}this.node.setPosition(s),0==this.working&&this.callback&&this.callback()}},o}(a))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/TLColorFlash.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,r,e,o,n,a,s,l,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Sprite,l=t.math,c=t.Component}],execute:function(){var u,h,p,b,f,C,d,y,g,m,w,T,k,v;n._RF.push({},"63f38tmP0BEEpeS9XqthK2i","TLColorFlash",void 0);var z=a.ccclass,S=a.property;t("TLColorFlash",(u=z("TLColorFlash"),h=S(s),u((f=i((b=function(t){function i(){for(var i,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n))||this,e(i,"spr",f,o(i)),e(i,"runOnStart",C,o(i)),e(i,"delay",d,o(i)),e(i,"backDelay",y,o(i)),e(i,"loop",g,o(i)),e(i,"playCount",m,o(i)),e(i,"haveback",w,o(i)),e(i,"duration",T,o(i)),e(i,"startColor",k,o(i)),e(i,"endColor",v,o(i)),i.curCount=0,i.accTime=0,i.working=!1,i.step=0,i}r(i,t);var n=i.prototype;return n.start=function(){this.runOnStart&&this.Go()},n.Reset=function(){this.step=0,this.accTime=0,this.curCount=0},n.Go=function(){0==this.working&&(this.working=!0,this.Reset())},n.Stop=function(){this.working&&(this.working=!1,this.Reset())},n.update=function(t){if(0!=this.working){var i=Math.floor(1e3*t);0==this.step?this.updateStep0(i):1==this.step&&this.updateStep1(i)}},n.updateStep0=function(t){if(this.accTime+=t,!(this.accTime+t<this.delay)){var i=(this.accTime-this.delay)/this.duration,r=this.spr.color,e=new l.Color(r.r,r.g,r.b,r.a);e.r*=l.lerp(this.startColor.r,this.endColor.r,i),e.g*=l.lerp(this.startColor.g,this.endColor.g,i),e.b*=l.lerp(this.startColor.b,this.endColor.b,i),e.a=l.lerp(this.startColor.a,this.endColor.a,i),this.spr.color=e,this.accTime-this.delay>=this.duration&&(0==this.haveback&&(this.curCount+=1),this.haveback?(this.step=1,this.accTime=this.accTime-this.delay-this.duration):this.loop||this.curCount<this.playCount?this.accTime=0:this.working=!1)}},n.updateStep1=function(t){if(this.accTime+=t,!(this.accTime+t<this.backDelay)){var i=(this.accTime-this.backDelay)/this.duration,r=this.spr.color,e=new l.Color(r.r,r.g,r.b,r.a);e.r*=l.lerp(this.endColor.r,this.startColor.r,i),e.g*=l.lerp(this.endColor.g,this.startColor.g,i),e.b*=l.lerp(this.endColor.b,this.startColor.b,i),e.a=l.lerp(this.endColor.a,this.startColor.a,i),this.spr.color=e,this.accTime-this.backDelay>=this.duration&&(this.curCount+=1,this.step=0,this.loop||this.curCount<this.playCount?this.accTime=0:(this.working=!1,this.Reset()))}},i}(c)).prototype,"spr",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(b.prototype,"runOnStart",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=i(b.prototype,"delay",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=i(b.prototype,"backDelay",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=i(b.prototype,"loop",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=i(b.prototype,"playCount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=i(b.prototype,"haveback",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=i(b.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),k=i(b.prototype,"startColor",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l.Color(1,1,1,0)}}),v=i(b.prototype,"endColor",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l.Color(1,1,1,255)}}),p=b))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/TLComLink.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"1e498CTOWNDMZ4rDtaDtUZG","TLComLink",void 0);t("TLComLink",function(){function t(t){this.coms=void 0,this.replicatedRate=-1,this.coms=null!=t?t:[]}var n=t.prototype;return n.GetReplicatedRate=function(){if(this.replicatedRate<0){for(var t,n=new Map,i=e(this.coms);!(t=i()).done;){var r=t.value;0==n.get(r)&&n.set(r,!0)}this.replicatedRate=100-(n.size-1)/this.coms.length*100}return this.replicatedRate},n.Contains=function(t){return this.coms.findIndex((function(e){return e==t}))>=0},n.ContainsAll=function(t){for(var n,i=e(t);!(n=i()).done;){var r=n.value;if(this.coms.indexOf(r)<0)return!1}return!0},n.FindComIndex=function(t){return this.coms.findIndex((function(e){return e==t}))},n.Print=function(){return this.coms.join(",")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/TLDataPoints.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStatic.ts","./G.ts","./TLSDK.ts","./Tool2.ts"],(function(e){var t,a,i,n,o,r;return{setters:[function(e){t=e.extends},function(e){a=e.cclegacy},function(e){i=e.default},function(e){n=e.default},function(e){o=e.TLSdk},function(e){r=e.default}],execute:function(){a._RF.push({},"a7e1f9EWJVHPaIHLauiSgzR","TLDataPoints",void 0);e("TLDataPoints",function(){function e(){}return e.submit=function(e,a){void 0===a&&(a={});var u="",d="",l="",s=1,c=Date.now(),f="";n.leader&&n.leader.roleData&&"_default_user_"!=n.leader.roleData.userid?(u=n.leader.roleData.userid,d=n.leader.roleData.name,l=n.leader.roleData.roleid,s=n.leader.roleData.zoneid):(a&&a.userid&&(u=""+a.userid),a&&a.username&&(d=""+a.username),a&&a.roleid&&(l=""+a.roleid),a&&a.zoneid&&(s=parseInt(""+a.zoneid))),a&&a.t3userid&&(f=""+a.t3userid),o.UmStatistics(JSON.stringify(t({id:e,userid:u,roleid:l,zoneid:s,username:d,country:i.Country,appcode:n.gameCfg.game_appcode,bundleid:i.bundleID,tianlu_devid:i.tianluDevID,zonename:"S-"+s,roleCTime:Math.floor(c/1e3),formatTime:r.formatDateString(c),t3userid:f},a))),console.log("umStatistics id = "+e)},e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/TLDelay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,a,l,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Node,c=e.Component}],execute:function(){var s,u,p,h,y,d;a._RF.push({},"84e2c0QiEND3bkjDZaxIdxY","TLDelay",void 0);var f=l.ccclass,v=l.property;e("TLDelay",(s=f("TLDelay"),u=v(o),s((y=t((h=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,r(t,"delayTimeMills",y,n(t)),r(t,"target",d,n(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.delayTimeMills>0&&this.scheduleOnce(this.Invoke,.001*this.delayTimeMills)},a.Invoke=function(){null!=this.target&&0==this.target.active&&(this.target.active=!0),this.node&&0==this.node.active&&(this.node.active=!0)},t}(c)).prototype,"delayTimeMills",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=t(h.prototype,"target",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=h))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/tlg.ts",["cc","./ResLoader.ts","./MessageManager.ts","./Language.ts","./Logger.ts","./RandomManager.ts"],(function(n){var e,t,a,s,g,r;return{setters:[function(n){e=n.cclegacy},function(n){t=n.ResLoader},function(n){a=n.MessageManager},function(n){s=n.LanguageManager},function(n){g=n.Logger},function(n){r=n.RandomManager}],execute:function(){e._RF.push({},"8c0c9ryNU1Kh7id/ISW66Yn","tlg",void 0);n("version","0.1.0");var o=n("tlg",(function(){}));o.log=g,o.msgs=a.instance,o.res=new t,o.random=r.instance,o.timer=void 0,o.i18n=new s,e._RF.pop()}}}));

System.register("chunks:///_virtual/TLIntervalDo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,n,o;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.Component}],execute:function(){var c;e._RF.push({},"fbf7dZ3dvpNrZXmCgjjppQE","TLIntervalDo",void 0);var s=n.ccclass;n.property,t("TLIntervalDo",s("TLIntervalDo")(c=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLSDK.ts",["cc","./SDKInterface.ts"],(function(n){var t,o;return{setters:[function(n){t=n.cclegacy},function(n){o=n.SDKInterface}],execute:function(){t._RF.push({},"0070eFo5sxJG7haeiYmj/Kq","TLSDK",void 0);n("TLSdk",function(){function n(){}return n.Startup=function(n){console.log("TLSdk Startup"),o.startup()},n.Login=function(n){var t=(null==n?void 0:n.length)>0?("Login_"+n).toLowerCase():"login_default";"function"==typeof o[t]?o[t](n):console.log("Method: "+t+" not found in SDKInterface")},n.Pay=function(n){o.pay(n)},n.PreloadAD=function(n){o.ad_preload(n)},n.PlayAD=function(n){return o.ad_play()},n.ShowBanner=function(){o.banner_show()},n.ShowBannerOffset=function(n,t,e,i){void 0===n&&(n=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),o.banner_show_offset(n,t,e,i)},n.HideBanner=function(){o.banner_hide()},n.ShowInterstitial=function(){o.interstitialAD_show()},n.Logout=function(n){console.log("TLSdk logout")},n.SwitchAccount=function(n){console.log("TLSdk switchAccount")},n.UserAgreement=function(n){o.user_agreement(n)},n.UmStatistics=function(n){o.um_statistics(n)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWord.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLComLink.ts"],(function(n){var t,i,e;return{setters:[function(n){t=n.createForOfIteratorHelperLoose},function(n){i=n.cclegacy},function(n){e=n.TLComLink}],execute:function(){i._RF.push({},"67d4fPng85C0YM2K0MTBXoE","TLWord",void 0);var o=n("ECharType",function(n){return n[n.BiHua=0]="BiHua",n[n.PianPang=1]="PianPang",n[n.Com=2]="Com",n[n.Word=3]="Word",n}({})),s=n("EWordLevel",function(n){return n[n.None=-1]="None",n[n.Base=0]="Base",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Three=3]="Three",n}({}));n("TLWord",function(){function n(){this.key="",this.type=o.Word,this.Level=s.Base,this.links=[],this.visitIndex=0,this.type=o.Word,this.Level=s.Base}var i=n.prototype;return i.Init=function(n,i,o){if(this.key=i,this.type=n,null!=o&&o.length>0)for(var s,r=t(o);!(s=r()).done;){var l=s.value,u=new e(l.split(","));this.links.push(u)}},i.AddLinks=function(n){if(!(null==n||n.length<=0))for(var i,o=t(n);!(i=o()).done;){var s=i.value,r=new e(s.split(","));this.links.push(r)}},i.GetString=function(n,t){void 0===t&&(t="#"),this.links.sort((function(n,t){return n.coms.length>t.coms.length?1:n.coms.length<t.coms.length?-1:0}));var i=!0;this.links.forEach((function(e){var o=e.coms.join(",");1==i?(n.push(o),i=!1):(n.push(t),n.push(o))}))},i.Contains=function(n){for(var t=0;t<this.links.length;t++)if(this.links[t].Contains(n))return!0;return!1},i.GetContains=function(n,t,i){void 0===t&&(t=null),void 0===i&&(i=null);for(var e=[],o=null!=t&&t.length>0,s=0;s<this.links.length;s++){var r=this.links[s].FindComIndex(n);r<0||(o&&t.indexOf(r)<0||null!=i&&i.length>0&&i.indexOf(r)>=0||e.push(this.links[s]))}return e},i.GetContainsIndex=function(n,t,i){void 0===t&&(t=null),void 0===i&&(i=null);for(var e=null!=t&&t.length>0,o=null!=i&&i.length>0,s=[],r=0;r<this.links.length;r++){var l=this.links[r].FindComIndex(n);l<0||(e&&t.indexOf(l)<0||o&&i.indexOf(l)>=0||s.push(r))}return s},i.GetLnkIdx_ContainsComs=function(n){for(var t=[],i=0;i<this.links.length;i++)0!=this.links[i].ContainsAll(n)&&t.push(i);return t},n}());i._RF.pop()}}}));

System.register("chunks:///_virtual/TLWords.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLComLink.ts","./TLWord.ts","./WWNode.ts"],(function(t){var i,e,n,s,r,o,l,h;return{setters:[function(t){i=t.createForOfIteratorHelperLoose,e=t.createClass},function(t){n=t.cclegacy},function(t){s=t.TLComLink},function(t){r=t.TLWord,o=t.ECharType,l=t.EWordLevel},function(t){h=t.WWNode}],execute:function(){n._RF.push({},"998151AFs5OTaA5K1Jo+NW+","TLWords",void 0);var a=function(){function t(t,e,n){if(void 0===n&&(n=6),this.nodes=void 0,this.coms=void 0,this.nodes=t,null==this.nodes&&(this.nodes=[]),this.coms=e,null==this.coms){this.coms=new Map;for(var s,r=i(this.nodes);!(s=r()).done;)for(var o,l=s.value,h=i(l.w.links[l.index].coms);!(o=h()).done;){var a=o.value;this.coms.set(a,!0)}if(this.coms.size>n)throw new Error("coms >"+n)}}var e=t.prototype;return e.TryMerge=function(e,n,s){void 0===n&&(n=6),void 0===s&&(s=1);for(var r=0;r<this.nodes.length;r++)if(this.nodes[r].w.key===e.w.key)return null;var o=e.w.links[e.index].coms;if(o.length>n)return null;for(var l,h=new Map,a=0,d=i(o);!(l=d()).done;){var u=l.value;if(this.coms.has(u))a+=1;else if(this.coms.size+1>n)return null;h.set(u,!0)}if(a<s)return null;for(var c,v=i(this.coms.keys());!(c=v()).done;){var f=c.value;h.set(f,!0)}if(h.size>n)return null;var m=this.nodes.slice(0);return m.push(e),new t(m,h)},e.OutWords=function(t){return void 0===t&&(t=";"),this.nodes.map((function(t){return t.w.key})).join(t)},e.OutComs=function(t){return void 0===t&&(t=";"),Array.from(this.coms.keys()).join(t)},t}(),d=function(t,i,e,n,s){this.checkLevel=!1,this.levels=void 0,this.words=void 0,this.itrPos=0,this.items=void 0,this.ret=[],this.rets=void 0,this.callback=void 0,this.iteratorCount=1,this.huas=6,this.minShareCount=1,this.batchSize=1,this.perTotal=void 0,this.perNum=void 0,this.perCallback=void 0,this.endCallback=void 0,this.timeid=void 0,this.timeid=t,this.checkLevel=n,this.iteratorCount=e,this.words=i,this.itrPos=0,this.items=s,this.ret=[],this.perTotal=e*i.length+2,this.perNum=0},u=function(t,i,e,n,s){this.timeid=void 0,this.words=void 0,this.itr0=0,this.items=void 0,this.outexpand=void 0,this.maxexpand=void 0,this.batchSize=1,this.perTotal=void 0,this.perNum=void 0,this.perCallback=void 0,this.endCallback=void 0,this.ret=void 0,this.timeid=t,this.outexpand=n,this.maxexpand=s,this.words=i,this.items=e,this.itr0=0,this.ret=[],this.perNum=0,this.perTotal=n?e.length*i.length+2:e.length+2};t("TLWords",function(){function t(){this.ctxFindW=void 0,this.ctxFindComs=void 0,this.inited=!1,this._dictStructs=new Map,this._dictWords=new Map}var n=t.prototype;return n.InitComs=function(t){var e=JSON.parse(t).items;if(null!=e)for(var n,l=i(e);!(n=l()).done;){var h,a=n.value;if(null!=a.key){var d=a.key;this._dictStructs.has(d)&&console.log("replicated key => "+d);var u=new r;if(u.key=d,u.type=o.Word,a.type){var c=a.type;"bh"===c?u.type=o.BiHua:"pp"===c?u.type=o.PianPang:"com"===c?u.type=o.Com:"word"===c&&(u.type=o.Word)}for(var v=null==(h=a.bhs)?void 0:h.split("#"),f=0;f<v.length;f++){for(var m=v[f].split(","),p=null,x=0;x<m.length;x++){var F=m[x].trim();F.length<=0||(null==p&&(p=new s(null)),p.coms.push(F))}null!=p&&u.links.push(p)}this._dictStructs.set(u.key,u)}}},n.Tick=function(t){null!=this.ctxFindW&&this.ctxFindW.timeid==t?this.RunOnece_Findw():null!=this.ctxFindComs&&this.ctxFindComs.timeid==t&&this.RunOnece_FindComs()},n.Add=function(t,i){void 0===i&&(i=!1),null!=t&&(0==i&&this._dictStructs.has(t.key)||this._dictStructs.set(t.key,t))},n.Get=function(t){var i=this._dictStructs.get(t);return null!=i||null!=(i=this._dictWords.get(t))?i:null},n.FilterGet=function(t){for(var e,n=[],s=i(t);!(e=s()).done;){var r=e.value,o=this.Get(r);null!=o&&n.push(o)}return n},n.FilterGetBy=function(t){var e=[];console.log("FilterGetBy size -> ",this._dictStructs.size);this._dictStructs.values();for(var n,s=i(this._dictStructs.values());!(n=s()).done;){(l=n.value).type==t&&e.push(l)}for(var r,o=i(this._dictWords.values());!(r=o()).done;){var l;(l=r.value).type==t&&e.push(l)}return e},n.GetByContains=function(t,e,n,s,r){void 0===e&&(e=l.None),void 0===n&&(n=null),void 0===s&&(s=null),void 0===r&&(r=null);for(var a,d=[],u=this.FilterGetBy(o.Word),c=u.length+1,v=0,f=i(u);!(a=f()).done;){var m=a.value;if(v+=1,m.key!=t&&(e==l.None||e==m.Level)){var p=m.GetContainsIndex(t,n,s);if(null!=p&&p.length>0)for(var x,F=i(p);!(x=F()).done;){var C=x.value,k=new h(m,C);d.push(k)}r&&r(v/c)}}return d},n.GetByContainsAll=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),console.log("GetByContainsAll -> ",t.join(","));for(var s,r=[],l=null!=e&&e.length>0,a=this.FilterGetBy(o.Word),d=a.length+1,u=0,c=i(a);!(s=c()).done;){var v=s.value;if(u+=1,!(l&&e.indexOf(v.Level)<0)){var f=v.GetLnkIdx_ContainsComs(t);if(null!=f&&f.length>0)for(var m,p=i(f);!(m=p()).done;){var x=m.value,F=new h(v,x);r.push(F)}n&&n(u/d)}}return r},n.Merge0=function(t,e,n,s){if(void 0===n&&(n=6),void 0===s&&(s=1),e.w.links[e.index].coms.length>n)return null;var r=[];if(null==t||0==t.length){var o=[];o.push(e);var l=new a(o,null,n);return r.push(l),r}for(var h,d=i(t);!(h=d()).done;){var u=(l=h.value).TryMerge(e,n,s);null!=u&&r.push(u)}return r},n.GetZuhe=function(t,e,n,s){void 0===e&&(e=6),void 0===n&&(n=null),void 0===s&&(s=0);var r=n;if(null==r){r=[];for(var o,l=i(t);!(o=l()).done;){var a=o.value,d=[],u=this.Get(a);if(null==u)return null;for(var c=0;c<u.links.length;c++)if(!(u.links[c].coms.length>e)){var v=new h(u,c);d.push(v)}r.push(d)}}for(var f=[],m=null,p=0;p<r.length;p++){m=[];for(var x,F=r[p],C=!1,k=i(F);!(x=k()).done;){var g=x.value,W=this.Merge0(f,g,e,s);null!=W&&W.length>0&&(m=m.concat(W),C=!0)}if(0==C){console.log(F[0].w.key+" can't be process");break}f=m}return f},n.RunOnece_Findw=function(){var t=this.ctxFindW.huas,e=this.ctxFindW.minShareCount,n=this.ctxFindW.checkLevel,s=this.ctxFindW.words,r=this.ctxFindW.levels;if(this.ctxFindW.itrPos<s.length-1){var o=s.length-this.ctxFindW.itrPos;o>this.ctxFindW.batchSize&&(o=this.ctxFindW.batchSize);this.ctxFindW.ret;for(var l=this.ctxFindW.itrPos,a=0;a<o;a++){this.ctxFindW.perNum+=1,this.ctxFindW.itrPos+=1;var d=s[l+a];if(!(n&&r.indexOf(d.Level)<0)){for(var u=[],c=0;c<d.links.length;c++)if(!(d.links[c].coms.length>t)){var v=new h(d,c),f=this.Merge0(this.ctxFindW.items,v,t,e);if(null!=f&&f.length>0)for(var m,p=i(f);!(m=p()).done;){var x=m.value;u.push(x)}}if(null!=u&&u.length>0)for(var F,C=i(u);!(F=C()).done;){var k=F.value;this.ctxFindW.ret.push(k)}this.ctxFindW.perCallback&&this.ctxFindW.perCallback(this.ctxFindW.perNum/this.ctxFindW.perTotal)}}}this.ctxFindW.itrPos==this.ctxFindW.words.length&&(this.ctxFindW.iteratorCount-=1,this.ctxFindW.iteratorCount<=0?(this.ctxFindW.rets=this.ctxFindW.ret,this.ctxFindW.endCallback&&this.ctxFindW.endCallback(this.ctxFindW.rets,this.ctxFindW.timeid)):(this.ctxFindW.itrPos=0,this.ctxFindW.items=this.ctxFindW.ret,this.ctxFindW.ret=[]))},n._GetPinMethods=function(t,e){void 0===e&&(e=6);for(var n,s=[],r=i(t);!(n=r()).done;){var o=n.value,l=this.Get(o);if(null==l)return null;if(0!=s.length){for(var h=[],a=0;a<l.links.length;a++)for(var d,u=l.links[a],c=i(s);!(d=c()).done;){for(var v,f=d.value,m=new Set,p=i(f.keys());!(v=p()).done;){var x=v.value;m.add(x)}for(var F,C=i(u.coms);!(F=C()).done;){var k=F.value;m.add(k)}m.size<=e&&h.push(m)}s=h}else for(var g=0;g<l.links.length;g++){for(var W,y=l.links[g],w=new Set,b=i(y.coms);!(W=b()).done;){var _=W.value;w.add(_)}s.push(w)}}return s},n.RunOnece_FindComs=function(){if(this.ctxFindComs.itr0>=this.ctxFindComs.items.length)this.ctxFindComs.endCallback&&this.ctxFindComs.endCallback(this.ctxFindComs.ret,this.ctxFindComs.timeid,this.ctxFindComs.outexpand);else for(var t=this.ctxFindComs.words,e=this.ctxFindComs.outexpand,n=this.ctxFindComs.itr0,s=this.ctxFindComs.batchSize,r=0;r<s;r++){this.ctxFindComs.itr0+=1;var o=this.ctxFindComs.items[n+r],l=this._GetPinMethods(o,6);if(null==l||l.length<=0)this.ctxFindComs.perNum+=e?t.length:1;else{var h=null;if(0==e){this.ctxFindComs.perNum+=1;for(var a,d=i(l);!(a=d()).done;){for(var u,c=a.value,v=[],f=i(c.keys());!(u=f()).done;){var m=u.value;v.push(m)}var p=v.join(";");null==h&&(h=[]),h.push(p)}}else for(var x,F=i(t);!(x=F()).done;){var C=x.value;if(this.ctxFindComs.perNum+=1,!(o.indexOf(C.key)>=0))for(var k=0;k<C.links.length;k++){var g=C.links[k];if(!(g.coms.length>6))for(var W,y=i(l);!(W=y()).done;){for(var w,b=W.value,_=!0,S=i(g.coms);!(w=S()).done;){var G=w.value;if(0==b.has(G)){_=!1;break}}if(1==_){null==h&&(h=new Map);for(var L,T=[],N=i(b.keys());!(L=N()).done;){var P=L.value;T.push(P)}var z=T.join(";"),M=h.get(z);null==M&&(M=[],h.set(z,M)),M.push(C.key+"_"+k)}}}}if(this.ctxFindComs.perCallback&&this.ctxFindComs.perCallback(this.ctxFindComs.perNum/this.ctxFindComs.perTotal),null!=h){if(e){for(var B,O=[],j=i(h.keys());!(B=j()).done;){var A=B.value,R=h.get(A);null!=R&&R.length>this.ctxFindComs.maxexpand&&O.push(A)}for(var E=0,I=O;E<I.length;E++){var H=I[E];h.delete(H)}}var J={strs:o,methods:h,extpand:e};this.ctxFindComs.ret.push(J)}}}},n.GetParts=function(t,i,e,n,s,r,l,h){if(void 0===n&&(n=3),void 0===s&&(s=6),void 0===r&&(r=2),void 0===l&&(l=null),void 0===h&&(h=null),i.length>=n)return[];var a=this.GetZuhe(i,s,null),u=this.FilterGetBy(o.Word),c=null!=e&&e.length>0,v=new d(t,u,n-i.length,c,a);v.levels=e,v.huas=s,v.minShareCount=r,v.perCallback=l,v.endCallback=h,v.batchSize=10,this.ctxFindW=v},n.GetBihuas_Expand=function(t,i,e,n,s,r){void 0===s&&(s=null),void 0===r&&(r=null);var l=e?this.FilterGetBy(o.Word):[],h=new u(t,l,i,e,n);h.perCallback=s,h.endCallback=r,h.batchSize=1,this.ctxFindComs=h},e(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Tool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,r,e,o,a,i;return{setters:[function(n){t=n.createForOfIteratorHelperLoose},function(n){r=n.cclegacy,e=n.rect,o=n.misc,a=n.v2,i=n.Node}],execute:function(){r._RF.push({},"9af29ZVRLBKjbT5t5bGe1s6","Tool",void 0);var u=function(n){return n[n.S=0]="S",n[n.M=1]="M",n[n.H=2]="H",n[n.D=3]="D",n}(u||{});n("default",function(){function n(){}return n.deepCopy=function(n){if("object"!=typeof n||null===n||n instanceof RegExp)return n;var r=null;if(Array.isArray(n)){r=[];for(var e,o=t(n);!(e=o()).done;){var a=e.value;r.push(this.deepCopy(a))}}else for(var i in r={},n)r[i]=this.deepCopy(n[i]);return r},n.wait=function(n){return new Promise((function(t,r){setTimeout((function(){t()}),1e3*n)}))},n.lerp=function(n,t,r,e){void 0===e&&(e=0),e=Math.abs(e);var o=t-n,a=o*r;return a=a<0?Math.min(a,-e):Math.max(a,e),Math.abs(a)>Math.abs(o)&&(a=o),n+a},n.calcTwoPointForm=function(n,t,r){return n.x===t.x?n.y:(t.y-n.y)*(r-n.x)/(t.x-n.x)+n.y},n.overlapRect=function(n,t){var r=Math.max(n.xMin,t.xMin),o=Math.min(n.xMax,t.xMax),a=Math.max(n.yMin,t.yMin),i=Math.min(n.yMax,t.yMax);return r>o||a>i?null:e(r,a,o-r,i-a)},n.normalizeDegree=function(n){var t=n%360;return t<0&&(t+=360),t},n.getEllipsePoint=function(n,t,r){r=this.normalizeDegree(r);var e=Math.tan(o.degreesToRadians(r)),i=Math.sqrt(t*t/(e*e+t*t/n/n));r>90&&r<270&&(i=-i);var u=Math.sqrt(t*t-t*t*i*i/n/n);return r>180&&(u=-u),a(i,u)},n.inRange=function(n,t,r,e){return void 0===e&&(e=!0),e?r>=n&&r<=t:r>n&&r<t},n.randInt=function(n,t){return void 0===t&&(t=void 0),void 0===t&&(t=n,n=0),n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n))+n},n.randFloat=function(n,t){return void 0===t&&(t=void 0),void 0===t&&(t=n,n=0),Math.random()*(t-n)+n},n.randRateResult=function(n){return this.randFloat(100)<n},n.randWeightIdx=function(n){for(var t=0,r=0;r<n.length;r++)t+=n[r];for(var e=this.randFloat(0,t),o=0,a=0;a<n.length;a++)if(e<(o+=n[a]))return a;return n.length-1},n.shuffleString=function(n){for(var t=[],r=0;r<n.length;r++)t.push(n[r]);return t=this.shuffle(t),n="",t.forEach((function(t){n+=t})),n},n.shuffle=function(n){for(var t=n.length-1;t>=0;t--){var r=Math.floor(Math.random()*(t+1)),e=[n[t],n[r]];n[r]=e[0],n[t]=e[1]}return n},n.arrayRand=function(n){return n.length<=0?null:n[this.randInt(0,n.length)]},n.arrayHas=function(n,t){return("function"!=typeof t?n.findIndex((function(n){return n===t})):n.findIndex(t))>=0},n.arraySwap=function(n,t,r){if(t!==r&&this.inRange(0,n.length-1,t)&&this.inRange(0,n.length-1,r)){var e=[n[r],n[t]];n[t]=e[0],n[r]=e[1]}},n.arrayMove=function(n,t,r){if(t!==r&&this.inRange(0,n.length-1,t)&&this.inRange(0,n.length-1,r)){var e=n.splice(t,1);n.splice(r,0,e[0])}},n.arrayAdd=function(n,t,r){return void 0===r&&(r=!1),!(!r&&this.arrayHas(n,t))&&(n.push(t),!0)},n.arrayDelete=function(n,t){var r=n.findIndex((function(n){return n===t}));return r>=0&&(n.splice(r,1),!0)},n.formatString=function(n){for(var t=n,r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];if(1===e.length&&"[object Object]"===Object.prototype.toString.call(e[0])){for(var a in e[0])if(e[0].hasOwnProperty(a)){var i=new RegExp("%{"+a+"}","g");t=t.replace(i,""+e[0][a])}}else e.forEach((function(n){t=t.replace(/%\{.*?\}/,""+n)}));return t},n.formatTimeString=function(n,t){void 0===t&&(t="%{hh}:%{mm}:%{ss}");var r=Math.floor(n),e=Math.floor(r/60),o=Math.floor(r/3600),a=Math.floor(r/86400),i=u.S,f="";"string"==typeof t?(f=t,/%\{d+\}/.test(t)?i=u.D:/%\{h+\}/.test(t)?i=u.H:/%\{m+\}/.test(t)&&(i=u.M)):a>0?(i=u.D,f=t.D):o>0?(i=u.H,f=t.H):e>0?(i=u.M,f=t.M):(i=u.S,f=t.S),i>u.S&&(r%=60),i>u.M&&(e%=60),i>u.H&&(o%=24);var h={dd:a<10?"0"+a:""+a,d:""+a,hh:o<10?"0"+o:""+o,h:""+o,mm:e<10?"0"+e:""+e,m:""+e,ss:r<10?"0"+r:""+r,s:""+r};return f=this.formatString(f,h)},n.formatDateString=function(n,t,r){void 0===t&&(t="%{YYYY}-%{MM}-%{dd} %{hh}:%{mm}:%{ss}"),void 0===r&&(r=!1);var e=n instanceof Date?n:new Date(n),o=r?e.getUTCFullYear():e.getFullYear(),a=r?e.getUTCMonth()+1:e.getMonth()+1,i=r?e.getUTCDate():e.getDate(),u=r?e.getUTCHours():e.getHours(),f=r?e.getUTCMinutes():e.getMinutes(),h=r?e.getUTCSeconds():e.getSeconds(),c={YYYY:""+o,YY:o%100<10?"0"+o%100:""+o%100,MM:a<10?"0"+a:""+a,M:""+a,dd:i<10?"0"+i:""+i,d:""+i,hh:u<10?"0"+u:""+u,h:""+u,mm:f<10?"0"+f:""+f,m:""+f,ss:h<10?"0"+h:""+h,s:""+h};return this.formatString(t,c)},n.nodeRecursive=function(n,t,r){var e=this;void 0===r&&(r=void 0),n instanceof i?(t.call(r,n),n.children.forEach((function(n){e.nodeRecursive(n,t,r)}))):Array.isArray(n)&&n.forEach((function(n){e.nodeRecursive(n,t,r)}))},n.clearChildren=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];t.forEach((function(n){n.destroyAllChildren(),n.removeAllChildren()}))},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Tool2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,a,o,i,u,f,l;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,n=e.rect,a=e.misc,o=e.v2,i=e.Node,u=e.UITransform,f=e.v3,l=e.Color}],execute:function(){r._RF.push({},"bbaedRH64tOPJeAVnXJfJB5","Tool",void 0);var s=function(e){return e[e.S=0]="S",e[e.M=1]="M",e[e.H=2]="H",e[e.D=3]="D",e}(s||{});e("default",function(){function e(){}return e.deepCopy=function(e){if("object"!=typeof e||null===e||e instanceof RegExp)return e;var r=null;if(Array.isArray(e)){r=[];for(var n,a=t(e);!(n=a()).done;){var o=n.value;r.push(this.deepCopy(o))}}else for(var i in r={},e)r[i]=this.deepCopy(e[i]);return r},e.wait=function(e){return new Promise((function(t,r){setTimeout((function(){t()}),1e3*e)}))},e.lerp=function(e,t,r,n){void 0===n&&(n=0),n=Math.abs(n);var a=t-e,o=a*r;return o=o<0?Math.min(o,-n):Math.max(o,n),Math.abs(o)>Math.abs(a)&&(o=a),e+o},e.calcTwoPointForm=function(e,t,r){return e.x===t.x?e.y:(t.y-e.y)*(r-e.x)/(t.x-e.x)+e.y},e.overlapRect=function(e,t){var r=Math.max(e.xMin,t.xMin),a=Math.min(e.xMax,t.xMax),o=Math.max(e.yMin,t.yMin),i=Math.min(e.yMax,t.yMax);return r>a||o>i?null:n(r,o,a-r,i-o)},e.normalizeDegree=function(e){var t=e%360;return t<0&&(t+=360),t},e.getEllipsePoint=function(e,t,r){r=this.normalizeDegree(r);var n=Math.tan(a.degreesToRadians(r)),i=Math.sqrt(t*t/(n*n+t*t/e/e));r>90&&r<270&&(i=-i);var u=Math.sqrt(t*t-t*t*i*i/e/e);return r>180&&(u=-u),o(i,u)},e.inRange=function(e,t,r,n){return void 0===n&&(n=!0),n?r>=e&&r<=t:r>e&&r<t},e.randInt=function(e,t){return void 0===t&&(t=void 0),void 0===t&&(t=e,e=0),e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},e.randFloat=function(e,t){return void 0===t&&(t=void 0),void 0===t&&(t=e,e=0),Math.random()*(t-e)+e},e.randNumber=function(e,t){if(e<=0&&t<=0)return 0;var r=1/(t-e+1);return e+Math.floor(Math.random()/r)},e.randRateResult=function(e){return this.randFloat(100)<e},e.randWeightIdx=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];for(var n=this.randFloat(0,t),a=0,o=0;o<e.length;o++)if(n<(a+=e[o]))return o;return e.length-1},e.shuffleString=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t=this.shuffle(t),e="",t.forEach((function(t){e+=t})),e},e.shuffle=function(e){for(var t=e.length-1;t>=0;t--){var r=Math.floor(Math.random()*(t+1)),n=[e[t],e[r]];e[r]=n[0],e[t]=n[1]}return e},e.arrayRand=function(e){return e.length<=0?null:e[this.randInt(0,e.length)]},e.arrayHas=function(e,t){return("function"!=typeof t?e.findIndex((function(e){return e===t})):e.findIndex(t))>=0},e.arraySwap=function(e,t,r){if(t!==r&&this.inRange(0,e.length-1,t)&&this.inRange(0,e.length-1,r)){var n=[e[r],e[t]];e[t]=n[0],e[r]=n[1]}},e.arrayMove=function(e,t,r){if(t!==r&&this.inRange(0,e.length-1,t)&&this.inRange(0,e.length-1,r)){var n=e.splice(t,1);e.splice(r,0,n[0])}},e.arrayAdd=function(e,t,r){return void 0===r&&(r=!1),!(!r&&this.arrayHas(e,t))&&(e.push(t),!0)},e.arrayDelete=function(e,t){var r=e.findIndex((function(e){return e===t}));return r>=0&&(e.splice(r,1),!0)},e.randomChoice=function(e){return e[Math.floor(Math.random()*e.length)]},e.randomElementFromArray=function(e,t){if(void 0===t||-1==e.indexOf(t))return this.randomChoice(e);var r=e.filter((function(e){return e!==t}));return this.randomChoice(r)},e.random=function(e,t,r){return void 0===r&&(r=!0),r?e+Math.floor(Math.random()*(t-e+1)):Math.random()*(t-e)+e},e.formatString=function(e){var t=e;if(null==t||""==t)return"";for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(1===n.length&&"[object Object]"===Object.prototype.toString.call(n[0])){for(var o in n[0])if(n[0].hasOwnProperty(o)){var i=new RegExp("%{"+o+"}","g");t=t.replace(i,""+n[0][o])}}else n.forEach((function(e){t=t.replace(/%\{.*?\}/,""+e)}));return t},e.formatTimeString=function(e,t){void 0===t&&(t="%{hh}:%{mm}:%{ss}");var r=Math.floor(e),n=Math.floor(r/60),a=Math.floor(r/3600),o=Math.floor(r/86400),i=s.S,u="";"string"==typeof t?(u=t,/%\{d+\}/.test(t)?i=s.D:/%\{h+\}/.test(t)?i=s.H:/%\{m+\}/.test(t)&&(i=s.M)):o>0?(i=s.D,u=t.D):a>0?(i=s.H,u=t.H):n>0?(i=s.M,u=t.M):(i=s.S,u=t.S),i>s.S&&(r%=60),i>s.M&&(n%=60),i>s.H&&(a%=24);var f={dd:o<10?"0"+o:""+o,d:""+o,hh:a<10?"0"+a:""+a,h:""+a,mm:n<10?"0"+n:""+n,m:""+n,ss:r<10?"0"+r:""+r,s:""+r};return u=this.formatString(u,f)},e.formatDateString=function(e,t,r){void 0===t&&(t="%{YYYY}-%{MM}-%{dd} %{hh}:%{mm}:%{ss}"),void 0===r&&(r=!1);var n=e instanceof Date?e:new Date(e),a=r?n.getUTCFullYear():n.getFullYear(),o=r?n.getUTCMonth()+1:n.getMonth()+1,i=r?n.getUTCDate():n.getDate(),u=r?n.getUTCHours():n.getHours(),f=r?n.getUTCMinutes():n.getMinutes(),l=r?n.getUTCSeconds():n.getSeconds(),s={YYYY:""+a,YY:a%100<10?"0"+a%100:""+a%100,MM:o<10?"0"+o:""+o,M:""+o,dd:i<10?"0"+i:""+i,d:""+i,hh:u<10?"0"+u:""+u,h:""+u,mm:f<10?"0"+f:""+f,m:""+f,ss:l<10?"0"+l:""+l,s:""+l};return this.formatString(t,s)},e.formatNumber=function(e){return"number"!=typeof e||isNaN(e)?"0":e<1e5?e:e<1e6?Math.floor(e%100/10)>=1?(e/1e3).toFixed(2)+"K":Math.floor(e%1e3/100)>=1?(e/1e3).toFixed(1)+"K":Math.floor(e/1e3)+"K":e<1e9?Math.floor(e%1e5/1e4)>=1?(e/1e6).toFixed(2)+"M":Math.floor(e%1e6/1e5)>=1?(e/1e6).toFixed(1)+"M":Math.floor(e/1e6)+"M":e>=1e9?Math.floor(e%1e8/1e7)>=1?(e/1e9).toFixed(2)+"B":Math.floor(e%1e9/1e8)>=1?(e/1e9).toFixed(1)+"B":Math.floor(e/1e9)+"B":void 0},e.nodeRecursive=function(e,t,r){var n=this;void 0===r&&(r=void 0),e instanceof i?(t.call(r,e),e.children.forEach((function(e){n.nodeRecursive(e,t,r)}))):Array.isArray(e)&&e.forEach((function(e){n.nodeRecursive(e,t,r)}))},e.clearChildren=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){e.destroyAllChildren(),e.removeAllChildren()}))},e.getToNodePosForNode=function(e,t){var r=e.parent.getComponent(u),n=t.getComponent(u),a=r.convertToWorldSpaceAR(e.position),o=n.convertToNodeSpaceAR(a);return f(o.x,o.y)},e.getUTCNextSecByDay=function(){var e=new Date;return 86400-(60*e.getUTCHours()*60+60*e.getUTCMinutes()+e.getUTCSeconds())},e.getUTCNextSecByWeek=function(){var e=new Date,t=e.getUTCDay();return 0==t&&(t=7),604800-(24*(t-1)*60*60+60*e.getUTCHours()*60+60*e.getUTCMinutes()+e.getUTCSeconds())},e.GetDiffDay=function(e,t){var r=e<=0?0:e,n=t<=0?0:t;if(0==r||0==n)return 0;var a=new Date(r),o=new Date(n),i=0;if(a.getFullYear()==o.getFullYear()){var u=this.GetNextDays(r),f=this.GetNextDays(n);i=u>f?u-f:f-u}else if(a.getFullYear()>o.getFullYear()){if(a.getFullYear()>o.getFullYear()+1)for(var l=o.getFullYear()+1;l<a.getFullYear();++l)i+=l%4==0&&l%100!=0||l%400==0?366:365;i+=this.GetPreDays(r),i+=this.GetNextDays(n)}else if(a.getFullYear()<o.getFullYear()){if(o.getFullYear()>a.getFullYear()+1)for(var s=a.getFullYear()+1;s<o.getFullYear();++s)i+=s%4==0&&s%100!=0||s%400==0?366:365;i+=this.GetPreDays(n),i+=this.GetNextDays(r)}return i},e.GetPreDays=function(e){if(0==e)return 0;var t=new Date(e),r=0;if(t.getMonth()>1)for(var n=1;n<t.getMonth();++n)r+=this.GetMonDays(n,t.getFullYear());return r+=t.getDate()},e.GetNextDays=function(e){if(0==e)return 0;var t=new Date(e),r=0;if(t.getMonth()<12)for(var n=t.getMonth()+1;n<=12;++n)r+=this.GetMonDays(n,t.getFullYear());return r+=this.GetMonDays(t.getMonth(),t.getFullYear())-t.getDate()},e.GetMonDays=function(e,t){switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:return t%4==0&&t%100!=0||t%400==0?29:28}return 0},e.CalculateProgressBar=function(e,t,r){if(void 0===r&&(r=[]),t<=0)return 1;if(e<=0)return 0;if(r.length<=1)return e/t;r.sort((function(e,t){return e-t}));var n=r.length;if(r[n-1]!=t)return e/t;for(var a=1/n,o=0,i=e,u=0;u<n;u++)if(i>=r[u])o+=a;else{var f=r[u];u>0&&(i-=r[u-1],f=r[u]-r[u-1]),i>0&&f>0&&(o+=i/f*a)}return o=o>1?1:o},e.GetColorByQL=function(e){switch(e){case 1:return new l(255,255,255,255);case 2:return new l(120,229,30,255);case 3:return new l(91,226,255,255);case 4:return new l(228,135,251,255);case 5:return new l(251,225,70,255);case 6:return new l(251,106,94,255);default:return new l(255,255,255,255)}},e.CheckItemList=function(e){if(null==e)return[];if(!Array.isArray(e))return[];if(e.length<=1)return e;for(var t={},r=0;r<e.length;r++)null==t[""+e[r].itemId]&&(t[""+e[r].itemId]={itemId:e[r].itemId,itemNum:0}),t[""+e[r].itemId].itemNum+=e[r].itemNum;for(var n=[],a=Object.keys(t),o=0;o<a.length;o++)n.push(t[a[o]]);return n},e.simple_clone=function(e){return JSON.parse(JSON.stringify(e))},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Tools.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,r;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,r=n.Component}],execute:function(){t._RF.push({},"70a82JhAaRCaLtS3pMcqSpn","Tools",void 0);n("Tools",function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t.randomChoice=function(n){return n[Math.floor(Math.random()*n.length)]},t.randomElementFromArray=function(n,o){if(void 0===o||-1==n.indexOf(o))return this.randomChoice(n);var t=n.filter((function(n){return n!==o}));return this.randomChoice(t)},t.random=function(n,o,t){return void 0===t&&(t=!0),t?n+Math.floor(Math.random()*(o-n+1)):Math.random()*(o-n)+n},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/TweenBoy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrameDefine.ts","./TweenPack.ts"],(function(e){var n,t,r,o,a,l,i,u,s,c,p,f,v,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,i=e._decorator,u=e.Vec3,s=e.tween,c=e.Tween,p=e.Component},function(e){f=e.ETweenFlowType},function(e){v=e.TweenBoy,y=e.__TempTweenStruct}],execute:function(){var w,h,d,b,T,m,_,g,P,B;l._RF.push({},"39251c2MbBPRoFro01vIB8y","TweenBoy",void 0);var k=i.ccclass,z=i.property;e("TweenPlayer",(w=k("TweenPlayer"),h=z({type:[v]}),w((T=n((b=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,r(n,"tweenName",T,o(n)),r(n,"needReset",m,o(n)),r(n,"loopCount",_,o(n)),r(n,"play_on_start",g,o(n)),r(n,"overall_delay_mills",P,o(n)),r(n,"tweenBoys",B,o(n)),n.canPlay=!0,n}t(n,e);var l=n.prototype;return l.onEnable=function(){this.canPlay&&this.play_on_start&&(this.canPlay=!1,this.Play())},l.onDisable=function(){this.Stop()},l.start=function(){},l._makeTween=function(e,n){void 0===n&&(n=null);var t=e.target,r=e.tweenPacks;if(null==t||null==r||0==r.length)return null;for(var o,l=new u(t.position),i=t.rotation.clone(),c=new u(t.scale),p=s(t),v=a(r);!(o=v()).done;){var w=o.value;if(w.packType===f.Sequence)for(var h,d=a(w.tweens);!(h=d()).done;){var b=h.value.AppendTween(t,p);b&&(p=b)}else if(w.packType===f.Parrallel){for(var T,m,_=[],g=a(w.tweens);!(m=g()).done;){var P=m.value.AppendTween(t,null);P&&_.push(P)}p=(T=p).parallel.apply(T,_)}else if(w.packType===f.Single)for(var B,k=a(w.tweens);!(B=k()).done;){var z=B.value.AppendTween(t,p);z&&(z instanceof y?p.then(z):p=z)}w.loopCount>0&&(p=p.repeat(w.loopCount))}return this.loopCount>0?p=p.repeat(this.loopCount):this.loopCount<=-1&&(p=p.union().repeatForever()),n&&p.call((function(){n()})),(this.needReset||"leave"===this.tweenName)&&p.call((function(){t.position=l,t.rotation=i,t.scale=c})),p},l.Play=function(e){void 0===e&&(e=null);for(var n,t=[],r=a(this.tweenBoys);!(n=r()).done;){var o=n.value,l=this._makeTween(o,null);l&&t.push(l)}if(0==t.length)return e&&e(),!1;var i=.001*Math.abs(this.overall_delay_mills);if(i>Number.EPSILON)this.scheduleOnce((function(){for(var e,n=a(t);!(e=n()).done;){e.value.start()}}),i);else for(var u,s=a(t);!(u=s()).done;){u.value.start()}return!0},l.Playback=function(e){void 0===e&&(e=null);for(var n,t=[],r=a(this.tweenBoys);!(n=r()).done;){var o=n.value,l=this._makeTween(o,e);l&&(l=l.reverseTime(),t.push(l))}for(var i=0,u=t;i<u.length;i++){var s=u[i];s&&s.start()}return e&&e(),!1},l.Stop=function(){for(var e,n=a(this.tweenBoys);!(e=n()).done;){var t=e.value;t.target&&c.stopAllByTarget(t.target)}},n}(p)).prototype,"tweenName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=n(b.prototype,"needReset",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=n(b.prototype,"loopCount",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=n(b.prototype,"play_on_start",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=n(b.prototype,"overall_delay_mills",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=n(b.prototype,"tweenBoys",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=b))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/TweenLib.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrameDefine.ts"],(function(t){var n,o,i,e,r;return{setters:[function(t){n=t.createClass},function(t){o=t.cclegacy,i=t.UITransform,e=t.Vec3,r=t.tween},null],execute:function(){o._RF.push({},"51e3bIr77ZLya860WuuMIlY","TweenLib",void 0);var u=function(){function t(){this._nameToTemplateCfg=void 0,this._nameToTemplateCfg=new Map}var o=t.prototype;return o._fly_in_left=function(t,n){var o=t.getComponent(i);if(o){var u=o.contentSize.width,l=new e(t.position.x-u,t.position.y,t.position.z),s=e.clone(t.position);return r(t).to(0,{position:l}).to(n,{position:s})}return null},o._fly_in_right=function(t,n){var o=t.getComponent(i);if(o){var u=o.contentSize.width,l=new e(t.position.x+u,t.position.y,t.position.z),s=e.clone(t.position);return r(t).to(0,{position:l}).to(n,{position:s})}return null},o._fly_in_top=function(t,n){var o=t.getComponent(i);if(o){var u=o.contentSize.height,l=new e(t.position.x,t.position.y+u,t.position.z),s=e.clone(t.position);return r(t).to(0,{position:l}).to(n,{position:s})}return null},o._fly_in_bottom=function(t,n){var o=t.getComponent(i);if(o){var u=o.contentSize.height,l=new e(t.position.x,t.position.y-u,t.position.z),s=e.clone(t.position);return r(t).to(0,{position:l}).to(n,{position:s})}return null},o._fly_in_scale=function(t,n,o){if(t.getComponent(i)){var u=n||.12,l=o||.08,s=t.scale.z,_=r(t);return _.to(0,{scale:new e(.6,.6,s)}),_.to(u,{scale:new e(1.1,1.1,s)}),_.to(l,{scale:new e(1,1,s)}),_}return null},o._fly_out_left=function(t,n){var o=t.getComponent(i);if(o){var u=o.contentSize.width,l=new e(t.position.x-u,t.position.y,t.position.z);return r(t).to(n,{position:l}).call((function(){t.active=!1}))}return null},o._fly_out_right=function(t,n){var o=t.getComponent(i);if(o){var u=o.contentSize.width,l=new e(t.position.x+u,t.position.y,t.position.z);return r(t).to(n,{position:l})}return null},o._fly_out_top=function(t,n){var o=t.getComponent(i);if(o){var u=o.contentSize.height,l=new e(t.position.x,t.position.y+u,t.position.z);return r(t).to(n,{position:l})}return null},o._fly_out_bottom=function(t,n){var o=t.getComponent(i);if(o){var u=o.contentSize.height,l=new e(t.position.x,t.position.y-u,t.position.z);return r(t).to(n,{position:l})}return null},o._fly_out_scale=function(t,n){return t.getComponent(i)?r(t).to(n,{scale:new e(.6,.6,t.scale.z)}):null},o.init=function(t){for(var n=0,o=Object.keys(t);n<o.length;n++){var i=o[n],e=t[i];this._nameToTemplateCfg.set(i,{templateID:e.template,duration:e.duration,duration2:e.duration2})}},o.Get=function(t,n){if(null!=n){var o=this._nameToTemplateCfg.get(t);if(o)switch(o.templateID){case"fly_in_left":return this._fly_in_left(n,o.duration);case"fly_out_left":return this._fly_out_left(n,o.duration);case"fly_in_right":return this._fly_in_right(n,o.duration);case"fly_out_right":return this._fly_out_right(n,o.duration);case"fly_in_top":return this._fly_in_top(n,o.duration);case"fly_out_top":return this._fly_out_top(n,o.duration);case"fly_in_bottom":return this._fly_in_bottom(n,o.duration);case"fly_out_bottom":return this._fly_out_bottom(n,o.duration);case"fly_in_scale":return this._fly_in_scale(n,o.duration,o.duration2);case"fly_out_scale":return this._fly_out_scale(n,o.duration)}return null}},n(t,null,[{key:"instance",get:function(){return null==t._instance&&(t._instance=new t),t._instance}}]),t}();u._instance=null;t("default",u.instance);o._RF.pop()}}}));

System.register("chunks:///_virtual/TweenManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenLib.ts"],(function(n){var e,t,a,i,o;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy,a=n.Vec3,i=n.Quat},function(n){o=n.default}],execute:function(){t._RF.push({},"a4f54NSPWBNqZ0clF4XNrnn","TweenManager",void 0);var c=n("TweenManager",function(){function n(){}var t=n.prototype;return t.init=function(n){o.init(n)},t.playForShow=function(n,e,t){var a=o.Get(t,n);a?a.start():e&&e.playTweenForShow(t)},t.playForClose=function(n,e,t){var c=new a(n.position),r=new a(1,1,n.scale.z),u=new i(n.rotation),l=function(){n.active=!1,n.scale=r,n.position=c,n.rotation=u},s=o.Get(t,n);return s?(s.call(l),s.start(),!0):e?e.playTweenForClose(t,l):(n.active=!1,!1)},e(n,null,[{key:"instance",get:function(){return null==n._instance&&(n._instance=new n),n._instance}}]),n}());c._instance=null;n("default",c.instance);t._RF.pop()}}}));

System.register("chunks:///_virtual/TweenPack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrameDefine.ts"],(function(t){var e,i,n,r,o,u,a,s,l,c,p,h,y,f;return{setters:[function(t){e=t.inheritsLoose,i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){r=t.cclegacy,o=t._decorator,u=t.Enum,a=t.Node,s=t.tween,l=t.Vec3,c=t.Quat,p=t.Sprite},function(t){h=t.EActionType,y=t.ETargetPropType,f=t.ETweenFlowType}],execute:function(){var b,T,g,m,w,I,v,z,O,d,P,_,x,q,k,S,V,C,E,R,A,B,F,Z,D,L,M,N,H,U;r._RF.push({},"0ed2eLz0klCsqSNNmFf3q/C","TweenPack",void 0);var W=o.ccclass,j=o.property,Q=t("__TempTweenStruct",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).tempAtt=void 0,e}return e(i,t),i}(a)),G=t("MyTWeenItem",(b=W("MyTWeenItem"),T=j({type:u(h)}),g=j({type:u(y)}),m=j({tooltip:"linear,smooth,fade,constant,quadIn,quadOut,quadInOut,quadOutIn,cubicIn,cubicOut,cubicInOut,cubicOutIn,quartIn,quartOut,quartInOut,quartOutIn,quintIn,quintOut,quintInOut,quintOutIn,sineIn,sineOut,sineInOut,sineOutIn,expoIn,expoOut,expoInOut,expoOutIn,circIn,circOut,circInOut,circOutIn,elasticIn,elasticOut,elasticInOut,elasticOutIn,backIn,backOut,backInOut,backOutIn,bounceIn,bounceOut,bounceInOut,bounceOutIn"}),b((v=i((I=function(){function t(){n(this,"actonType",v,this),n(this,"duration_mills",z,this),n(this,"targetProp",O,this),n(this,"propValue",d,this),n(this,"isInit",P,this),n(this,"initVec3",_,this),n(this,"curveType",x,this),n(this,"originZ",q,this),n(this,"loopCount",k,this),this.tmpCount=0}var e=t.prototype;return e._getTweenVAL=function(t,e){var i=this,n=e;null==n&&(n=s(t));var r=new l(this.propValue),o=this.initVec3.clone();if(this.targetProp===y.Pos){if(this.actonType==h.To){if(this.originZ&&null!=t){var u=t.position.z;r.z=u,o.z=u}return this.isInit&&t.setPosition(o),n.to(.001*this.duration_mills,{position:r},{easing:this.curveType})}if(this.actonType==h.By){var a=new l(t.position);if(this.originZ&&(o.z=0,r.z=0),this.isInit){var f=new l(a.x+o.x,a.y+o.y,a.z+o.z);t.setPosition(f)}return n.by(.001*this.duration_mills,{position:r},{easing:this.curveType})}}if(this.targetProp===y.Scale){if(this.actonType==h.To){if(this.originZ&&null!=t){var b=t.scale.z;r.z=b,o.z=b}return this.isInit&&t.setScale(o),n.to(.001*this.duration_mills,{scale:r},{easing:this.curveType})}if(this.actonType==h.By){var T=new l(t.scale);if(this.originZ&&(o.z=0,r.z=0),this.isInit){var g=new l(T.x+o.x,T.y+o.y,T.z+o.z);t.setScale(g)}return n.by(.001*this.duration_mills,{scale:r},{easing:this.curveType})}return n}if(this.targetProp===y.Rot){var m=new c;if(c.fromEuler(m,r.x,r.y,r.z),this.actonType==h.To)return this.isInit&&t.setRotationFromEuler(o.x,o.y,o.z),n.to(.001*this.duration_mills,{rotation:m},{easing:this.curveType});if(this.actonType==h.By){var w=new l;return c.toEuler(w,t.getRotation(),!0),this.isInit&&t.setRotationFromEuler(w.x+o.x,w.y+o.y,w.z+o.z),n.by(.001*this.duration_mills,{rotation:m},{easing:this.curveType})}return n}if(this.targetProp==y.Fade){var I=t.getComponent(p);if(null==I)return null;var v=new Q,z=s(v),O=this.propValue.x;if(this.actonType==h.To)return this.isInit&&(z=z.call((function(){I.color.a=i.initVec3.x}))),z.to(.001*this.duration_mills,{tempAtt:O},{onUpdate:function(t,e){I.color.a=O*e},easing:this.curveType});if(this.actonType==h.By){var d=I.color.a;return this.isInit&&(z=z.call((function(){I.color.a=d+i.initVec3.x}))),z.to(.001*this.duration_mills,{tempAtt:O},{onUpdate:function(t,e){I.color.a=d+O*e},easing:this.curveType})}}return null},e.AppendTween=function(t,e){if(null==e&&null==t)return null;var i=e;switch(null==i&&(i=s(t)),this.actonType){case h.Delay:return i.delay(.001*this.duration_mills);case h.Hide:return i.hide();case h.Show:return i.show();case h.RemoveSelf:return i.removeSelf();case h.DestroySelf:return i.destroySelf();case h.To:case h.By:var n=this._getTweenVAL(t,i);return n?(this.loopCount>0&&(n=n.repeat(this.loopCount)),n):null;case h.Call:}return null},t}()).prototype,"actonType",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.To}}),z=i(I.prototype,"duration_mills",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=i(I.prototype,"targetProp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Pos}}),d=i(I.prototype,"propValue",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.clone(l.ZERO)}}),P=i(I.prototype,"isInit",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=i(I.prototype,"initVec3",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.clone(l.ZERO)}}),x=i(I.prototype,"curveType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"linear"}}),q=i(I.prototype,"originZ",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=i(I.prototype,"loopCount",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=I))||w)),J=t("MyTweenPack",(S=W("MyTweenPack"),V=j({type:u(f)}),C=j({type:[G]}),S((A=i((R=function(){n(this,"packType",A,this),n(this,"tweens",B,this),n(this,"loopCount",F,this)}).prototype,"packType",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.Sequence}}),B=i(R.prototype,"tweens",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=i(R.prototype,"loopCount",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=R))||E));t("TweenBoy",(Z=W("TweenBoy"),D=j(a),L=j({type:[J]}),Z((H=i((N=function(){n(this,"target",H,this),n(this,"tweenPacks",U,this)}).prototype,"target",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(N.prototype,"tweenPacks",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=N))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIControler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts","./TweenBoy.ts","./TweenManager.ts","./UIOperator.ts","./RedPointSys.ts","./ResManager.ts","./ModuleDef.ts"],(function(e){var t,n,i,o,r,s,a,h,l,d,u,c,f,p,_,g,m,v,C,k,R,y;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,i=e.createClass},function(e){o=e.cclegacy,r=e.find,s=e.Node,a=e.Layers,h=e.Sprite,l=e.SpriteFrame,d=e.Widget,u=e.UITransform,c=e.assetManager,f=e.Prefab,p=e.instantiate,_=e.Component},function(e){g=e.default},function(e){m=e.TweenPlayer},function(e){v=e.default},function(e){C=e.UIOperator},function(e){k=e.RedPiontCheckItem},function(e){R=e.ResManager},function(e){y=e.AssetBundleDef}],execute:function(){o._RF.push({},"5e0d5RMj85AMr4WTIz1v0+5","UIControler",void 0);e("UIControler",function(e){function o(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).uiName="",t.module=void 0,t._clickHandlers=void 0,t._started=!1,t.refreshMark=!1,t._cacheCtrls=void 0,t._uiOperator=void 0,t._redpoint_checks=new Map,t._redpoint_keyMap=new Map,t.enter_tween=void 0,t}t(o,e);var _=o.prototype;return _.RegClickHanlder=function(e,t){this._clickHandlers.set(e,t)},_._onClick=function(e,t,n,i){var o=this._clickHandlers.get(e);o?o(e,t,n,i):("close"!=e&&"back"!=e||g.CloseUI(this.uiName),(o=this._clickHandlers.get("*"))&&o(e,t,n,i))},_.MarkRefresh=function(){this.refreshMark=!0},_.DetachFromModule=function(){return!!this.module&&(this.module.RemoveViewCtrl(this.uiName),!0)},_.OnChangedTag=function(e,t,n){this.module&&this.module.OnChangedTag(t,e,n)},_.OnTextChanged=function(e,t,n,i){this.module&&this.module.OnTextChanged(e,t,n,i)},_.OnEditDidEnded=function(e,t,n){this.module&&this.module.OnEditDidEnded(e,t,n)},_.CacheControls=function(e,t){null==this._cacheCtrls&&(this._cacheCtrls=new Map),this._cacheCtrls.set(e,t)},_.refreshUI=function(){},_._show=function(){this._uiOperator&&v.playForShow(this.node,this._uiOperator,this.enter_tween)},_.onLoad=function(){null==this._uiOperator&&(this._uiOperator=this.getComponent(C)),this._redpoint_checks.clear(),this._redpoint_keyMap.clear(),this._clickHandlers=new Map,this._onLoad(),this.RegRedPointCKName()},_.onEnable=function(){this._onEnable(),this._show(),!0===this._started&&this.refreshUI(),this.SetRedPointShow("")},_.onDisable=function(){this._onDisable()},_.OpenTweenPlayer=function(){var e,t=null==(e=this.node)?void 0:e.getComponent(m);t&&(t.canPlay=!0)},_.start=function(){this._onStart(),this._started=!0,this.refreshUI(),this._show()},_.update=function(e){this._onUpdate(e),this.updateInternal()},_.updateInternal=function(){this.refreshMark&&this.refreshUI(),this.refreshMark=!1},_.GetControl=function(e){return this._cacheCtrls.get(e)},_.findConstrol=function(e,t){var n=r(e,this.node);return null==n?null:n.getComponent(t)},_.findConstrolByName=function(e,t){var i=this.node.getComponentsInChildren(t);if(i&&i.length>0)for(var o,r=n(i);!(o=r()).done;){var s=o.value;if(s.node.name===e)return s}return null},_.RegRedPointCKName=function(){if(null!=this._uiOperator&&null!=this._uiOperator.redpoint_checks&&!(this._uiOperator.redpoint_checks.length<=0))for(var e=0;e<this._uiOperator.redpoint_checks.length;e++){var t=this._uiOperator.redpoint_checks[e];this.RegRedPointCheck(t.ckname,t.funcNames,t.funcId,t.node_father,t.node_param,t.node_size)}},_.RegRedPointCheck=function(e,t,i,o,r,_){void 0===i&&(i=0),void 0===o&&(o=null),void 0===r&&(r=[]),void 0===_&&(_=[]);var g=this._redpoint_checks.get(e);if(null==g&&(g=new k),null!=t&&t.length>0)for(var m,v=n(t);!(m=v()).done;){var C=m.value;g.redpoint_name_push(C),this.AddRedPointKey(C,e)}if(g.sensi_redpoint_id(i),null!=o){var M=o.getChildByName("redPoint");if(null==M){M=new s("redPoint"),o.addChild(M),M.layer=a.Enum.UI_2D;var O=M.addComponent(h);if(O&&(R.loadBundle("resources",(function(e,t){t&&t.load("common/tanHaoIcon/spriteFrame",l,(function(e,t){e?console.log(e):O.spriteFrame=t}))})),O.sizeMode=h.SizeMode.RAW,O.type=h.Type.SIMPLE,O.trim=!1),0==r[0]){var w=r[1]&&0!=r[1]?r[1]:0,P=r[2]&&0!=r[2]?r[2]:0;M.setPosition(w,P)}else{var I=M.addComponent(d);if(r&&r[0]){I.isAlignLeft=1==r[0]||3==r[0],I.isAlignRight=2==r[0]||4==r[0],I.isAlignTop=1==r[0]||2==r[0],I.isAlignBottom=3==r[0]||4==r[0];var S=r[1]&&0!=r[1]?r[1]:0,A=r[2]&&0!=r[2]?r[2]:0;I.left=1==I.isAlignLeft?S:0,I.right=1==I.isAlignRight?S:0,I.top=1==I.isAlignTop?A:0,I.bottom=1==I.isAlignBottom?A:0}this.scheduleOnce((function(){I.updateAlignment()}))}_&&_[0]&&_[1]&&_[0]>0&&_[1]>0&&M.getComponent(u).setContentSize(_[0],_[1]),c.loadBundle(y.GUI,(function(e,t){t.load("main_ui/part_redpoint",f,(function(e,t){var n=p(t);M.addChild(n)}))}))}g.redpoint_name_ui(M)}this._redpoint_checks.set(e,g)},_.AddRedPointKey=function(e,t){var n=this._redpoint_keyMap.get(e);if(null==n)n=[t],this._redpoint_keyMap.set(e,n);else{for(var i=!1,o=0;o<n.length;o++)if(n[o]==t){i=!0;break}0==i&&(n.push(t),this._redpoint_keyMap.set(e,n))}},_.SetRedPointShow=function(e){if(""==e)this.SetAllRedPointShow();else{var t=this._redpoint_keyMap.get(e);if(t&&t.length>0)for(var n=0;n<t.length;n++){var i=this._redpoint_checks.get(t[n]);i&&i.CanShowRedPoint()}}},_.SetAllRedPointShow=function(){this._redpoint_checks.forEach((function(e,t){e.CanShowRedPoint()}))},i(o,[{key:"uiOperator",get:function(){return null==this._uiOperator&&(this._uiOperator=this.getComponent(C)),this._uiOperator}},{key:"isActive",get:function(){return this.node.active}}]),o}(_));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Facade.ts","./FrameDefine.ts","./LayerManager.ts","./TweenBoy.ts","./TweenManager.ts","./UIOperator.ts","./ResManager.ts","./ModuleDef.ts","./ResolutionAutoFit.ts"],(function(e){var t,i,s,n,o,a,r,u,h,l,c,d,f,v,g,I,U,C,p,w,m,_,M;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,i=e.createClass},function(e){s=e.cclegacy,n=e.UITransform,o=e.Node,a=e.Widget,r=e.error,u=e.instantiate,h=e.director,l=e.assetManager,c=e.Prefab,d=e.isValid},function(e){f=e.default},function(e){v=e.EUIRouteType,g=e.EUIShowMode},function(e){I=e.UILayerManager,U=e.UILayerDef},function(e){C=e.TweenPlayer},function(e){p=e.default},function(e){w=e.UIOperator},function(e){m=e.ResManager},function(e){_=e.AssetBundleDef},function(e){M=e.ResolutionAutoFit}],execute:function(){s._RF.push({},"0f8a3uPgGRPMpxKFzehDWJ1","UIManager",void 0);var S=function(){function e(){this.cacheUIs=void 0,this.showUIs=void 0,this.routeUIs=void 0,this.spriteFrames=void 0,this.uiConfigs=void 0,this._uiCanvas=void 0,this._uiRoot=void 0,this.cacheUIs=new Map,this.showUIs=new Map,this.routeUIs=[],this.uiConfigs=new Map,this.spriteFrames=new Map}var s=e.prototype;return s.createFullScreenNode=function(){var e=this._uiCanvas.getComponent(n),t=new o;t.layer=this._uiCanvas.layer;var i=t.addComponent(n);i.width=e.width,i.height=e.height;var s=t.addComponent(a);return s.isAlignBottom=!0,s.isAlignTop=!0,s.isAlignLeft=!0,s.isAlignRight=!0,s.left=0,s.right=0,s.top=0,s.bottom=0,t},s.Init=function(){},s.Setup=function(e){if(void 0===e&&(e=null),!e)throw r("uiCanvas must be a Node or Prefab");e instanceof o?this._uiCanvas=e:(this._uiCanvas=u(e),h.getScene().addChild(this._uiCanvas)),this._uiCanvas.name="$tgxUICanvas$",h.addPersistRootNode(this._uiCanvas);var t=this._uiCanvas.getComponent(n);this._uiCanvas.addComponent(M),this._uiRoot=this.createFullScreenNode(),this._uiRoot.name="ui_root",t.node.addChild(this._uiRoot),this._uiRoot.setSiblingIndex(1),I.instance.Init(this._uiCanvas,this._uiRoot)},s.GetUINode=function(e){return this.cacheUIs.get(e)},s.GetSpriteFrame=function(e){return this.spriteFrames.get(e)},s.SetSpriteFrame=function(e,t){this.spriteFrames.set(e,t)},s.HideALL=function(e){void 0===e&&(e=0);for(var i=U.Begin;i<U.Max;i++)if(i!=e){var s=I.instance.GetLayer(i);if(null!=s)for(var n,o=t(s.children);!(n=o()).done;){n.value.active=!1}}},s.useConfig=function(e){this.uiConfigs.set(e.uiName,e)},s._newUIViewClass=function(e,t,i,s,n){var o=e.getComponent(n.viewClass);return o||(o=e.addComponent(n.viewClass)),o&&(o.uiName=t,o.module=s,o.enter_tween=n.enter_tween,i&&i.SetViewCtrl(o)),o},s._loadUIToCache=function(e,t){var i=this,s=this.cacheUIs.get(e);if(s)t&&t(s);else{var n=this.uiConfigs.get(e);if(null!=n){var o=f.GetModule(n.moduleTag);null==o&&console.log(" module tag is not found -> ",n.moduleTag),l.loadBundle(n.res_bundle,(function(s,a){s?t&&t(null):null==a||a.load(n.res_path,c,(function(s,a){if(s||null==a)console.log("load path:"+n.res_path+" error");else{if(i.cacheUIs.has(e))return;var r=u(a);if(r){var h=r.getComponent(w);h&&(h.uiName=e);var l=i._newUIViewClass(r,e,h,o,n);o&&l&&o.AddViewCtrl(e,l),i.cacheUIs.set(e,r)}t&&t(r)}}))}))}else t&&t(null)}},s.loadingLoadUIToCache=function(e,t){if(!this.cacheUIs.has(e)){var i=this.uiConfigs.get(e);if(null!=i){var s=f.GetModule(i.moduleTag);null==s&&console.log(" module tag is not found -> ",i.moduleTag);var n=u(t);if(n){var o=n.getComponent(w);o&&(o.uiName=e);this._newUIViewClass(n,e,o,s,i);this.cacheUIs.set(e,n)}}}},s._pushToStack=function(e){var t=this.uiConfigs.get(e);if(null!=t){var i=this.cacheUIs.get(e);if(null!=i)if(t.routeMode===v.Push)this.routeUIs.length>0&&(this.routeUIs[0].active=!1),this.routeUIs.unshift(i);else if(t.routeMode===v.Replace)this.routeUIs.length>0&&(this.routeUIs[0].active=!1),this.routeUIs.length>0?this.routeUIs[0]=i:this.routeUIs.unshift(i);else{if(t.routeMode!==v.Clear)throw new Error("there is not ui called "+e+" that use stack.");this.routeUIs.length=0,this.routeUIs.unshift(i)}}},s._popFromStack=function(e,t){if(this.routeUIs.length>0){var i=this.routeUIs[0],s=i.getComponent(w);return s&&s.uiName!==e?null:(this.routeUIs.shift(),this.routeUIs.length>0&&(this.routeUIs[0].active=!0),i)}},s._hideOther=function(){for(var e,i=t(this.showUIs.values());!(e=i()).done;){e.value.active=!1}this.routeUIs.length>0&&(this.routeUIs[0].active=!1)},s._closeUI=function(e,i){var s=this.uiConfigs.get(i);if(s){var n=f.GetModule(s.moduleTag);n&&n.RemoveViewCtrl(i)}if(e){var o=e.getComponent(w);o.DetachViewCtrlFromModule();var a=e.getComponentsInChildren(C);if(a)for(var r,u=t(a);!(r=u()).done;){r.value.canPlay=!0}!0!==p.playForClose(e,o,s.leave_tween)&&(e.active=!1)}},s.CloseUI=function(e,t){void 0===t&&(t=!1),console.log("ui manager close ui --\x3e "+e);var i=this.uiConfigs.get(e);if(null!=i){i.useStack&&this._popFromStack(e,i),i.showMode===g.HideOther&&this._showOther();var s=this.showUIs.get(e);if(s&&(this._closeUI(s,e),this.showUIs.delete(e)),t){var n=this.cacheUIs.get(e);n&&(this.cacheUIs.delete(e),n.parent&&n.removeFromParent(),n.destroy())}this.checkShowMain()}},s._showOther=function(){if(this.routeUIs.length>0)this.routeUIs[0].active=!0;else for(var e,i=t(this.showUIs.values());!(e=i()).done;){e.value.active=!0}},s._showUI=function(e,t){var i,s=this.uiConfigs.get(t);if(null==e.parent&&I.instance.addToLayer(s.layerType,e),s){var n=f.GetModule(s.moduleTag);if(n&&!n.GetViewCtrl(t)){var o=e.getComponent(s.viewClass);o&&n.AddViewCtrl(t,o)}}e.active=!0;var a=null==(i=e.parent)?void 0:i.children.length;a&&e.setSiblingIndex(a)},s.ShowUI=function(e){var t=this,i=this.uiConfigs.get(e);if(null!=i){var s=this.cacheUIs.get(e);null!=s?(i.showMode===g.HideOther&&this._hideOther(),i.useStack&&this._pushToStack(e),this.showUIs.set(e,s),this._showUI(s,e)):this._loadUIToCache(e,(function(i){i&&t.ShowUI(e)}))}},s.ShowUITo=function(e,t){var i,s=this;if(null!=e||0!=d(e)){var n=this.uiConfigs.get(t);if(null!=n){var o=this.cacheUIs.get(t);if(null!=o){this.showUIs.set(t,o),null==o.parent&&(o.parent=e);var a=f.GetModule(n.moduleTag);if(a&&!a.GetViewCtrl(t)){var r=o.getComponent(n.viewClass);r&&a.AddViewCtrl(t,r)}o.active=!0;var u=null==(i=o.parent)?void 0:i.children.length;u&&o.setSiblingIndex(u)}else this._loadUIToCache(t,(function(i){i&&s.ShowUITo(e,t)}))}}},s.DestroyUI=function(e){var t=this.routeUIs.length;if(t>0)for(var i=t-1;i>=0;i--){var s=this.routeUIs[i].getComponent(w);s&&s.uiName===e&&this.routeUIs.splice(i,1)}this.CloseUI(e);var n=this.showUIs.get(e);n&&(n.active=!1,this.showUIs.delete(e)),(n=this.cacheUIs.get(e))&&(this.cacheUIs.delete(e),n.removeFromParent(),n.destroy())},s.DirectOpen=function(e,t,i,s,n,o){var a=this;i=i||_.GAMERES,m.loadBundle(i,(function(i,r){!function(i){i.load(s,(function(i,s){i&&console.log(i);var r=null;r=s?u(s):a.createFullScreenNode(),I.instance.GetLayer(t).addChild(r),a.showUIs.set(e,r),n&&n.apply(o,[r])}))}(r)}))},s.DirectClose=function(e){var t=this.showUIs.get(e);null==t&&(t=this.cacheUIs.get(e)),t&&(this.showUIs.delete(e),t.removeFromParent(),t.destroy(),t=null)},s.checkShowMain=function(){},i(e,null,[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),e._instance}}]),e}();S._instance=null;e("default",S.instance);s._RF.pop()}}}));

System.register("chunks:///_virtual/UIOperator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UITools.ts","./AudioManager.ts","./FlyTween.ts"],(function(e){var t,n,i,r,o,l,a,u,s,c,h,p,f,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,i=e.inheritsLoose,r=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,l=e.createClass},function(e){a=e.cclegacy,u=e._decorator,s=e.Node,c=e.Label,h=e.Vec3,p=e.Component},function(e){f=e.UITools},function(e){d=e.default},function(e){m=e.FlyTween}],execute:function(){var b,y,w,g,v,C,T,_,F,V,k,N,z,L,I,O,D,P,M,U,x,E,S,A,B;a._RF.push({},"f9704yiZapLwpG2Kmgvn6M3","UIOperator",void 0);var R=u.ccclass,H=u.property,j=e("_RedPointCheck",(b=R("_RedPointCheck"),y=H({type:[String]}),w=H({type:Number}),g=H({type:s}),v=H({type:[Number]}),C=H({type:[Number]}),b((F=t((_=function(){n(this,"ckname",F,this),n(this,"funcNames",V,this),n(this,"funcId",k,this),n(this,"node_father",N,this),n(this,"node_param",z,this),n(this,"node_size",L,this)}).prototype,"ckname",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=t(_.prototype,"funcNames",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(_.prototype,"funcId",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=t(_.prototype,"node_father",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(_.prototype,"node_param",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(_.prototype,"node_size",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=_))||T));e("UIOperator",(I=R("UIOperator"),O=H({group:{name:"show tween",id:"2",displayOrder:1},tooltip:"界面出现时播放此缓动效果, 根据名字去模版库查找效果"}),D=H({group:{name:"close tween",id:"2"},tooltip:"界面关闭时播放此缓动效果, 根据名字去模版库查找效果"}),P=H({type:[c],group:{name:"labels",id:"3"},tooltip:"动态内容标签,需要程序控制其显示内容,比如等级、经验、金币数"}),M=H({type:[j]}),I((E=t((x=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"showTweenNameFromLib",E,r(t)),n(t,"closeTweenNameFromLib",S,r(t)),n(t,"auto_bind_labels",A,r(t)),n(t,"redpoint_checks",B,r(t)),t.uiName="",t.callback=void 0,t.callbackArg=void 0,t.myViewCtrl=null,t.mapFlyTweens=void 0,t}i(t,e);var a=t.prototype;return a.SetViewCtrl=function(e){this.myViewCtrl=e,this.autoBindControlsToViewCtrl()},a.DetachViewCtrlFromModule=function(){return!!this.myViewCtrl&&this.myViewCtrl.DetachFromModule()},a._setupFlyTweens=function(){var e=this.getComponentsInChildren(m);if(e&&e.length>0)for(var t,n=o(e);!(t=n()).done;){var i=t.value;this.mapFlyTweens.set(i.tweenName,i)}},a.autoBindControlsToViewCtrl=function(){if(null!=this.myViewCtrl&&this.auto_bind_labels&&this.auto_bind_labels.length>0)for(var e,t=o(this.auto_bind_labels);!(e=t()).done;){var n=e.value;null!=n&&this.myViewCtrl.CacheControls(n.node.name,n)}},a.onLoad=function(){this.mapFlyTweens=new Map,this._setupFlyTweens()},a.start=function(){},a.onClickTag=function(e,t){var n;console.log(this.uiName+" -> "+t),d.playSoundByTag(t,"resources");var i=null==e.getLocation?void 0:e.getLocation();i&&f.playClickEffect(f.screenToWord(new h(i.x,i.y,0)));var r="",o=t.indexOf(",");if(o>0){if(t.length<=2)return;r=t.substring(o+1),t=t.substring(0,o)}null==(n=this.myViewCtrl)||n._onClick(t,r,e,this),this.callback&&this.callback(t,e,this,this.callbackArg)},a.onChangedTag=function(e,t){},a.onTextChanged=function(e,t,n){this.myViewCtrl&&this.myViewCtrl.OnTextChanged(n,e,t,this)},a.onEditDidEnded=function(e,t){this.myViewCtrl&&this.myViewCtrl.OnEditDidEnded(t,e,this)},a.playTweenForShow=function(e){var t,n=null!=e&&e.length>0?e:this.showTweenNameFromLib;if(null==n||n.length<=0)return!1;var i=null==(t=this.mapFlyTweens)?void 0:t.get(n);return!(!i||!i.enabled)&&i.Play()},a.playTweenForClose=function(e,t){var n,i=this;void 0===t&&(t=null);var r=null!=e&&e.length>0?e:this.closeTweenNameFromLib;(null==r||r.length<=0)&&(r="close");var o=t;null==o&&(o=function(){i.node.active=!1});var l=null==(n=this.mapFlyTweens)?void 0:n.get(r);return l&&l.enabled?l.Play(o):(o&&o(),!1)},a.playTween=function(e,t){if(void 0===t&&(t=null),this.mapFlyTweens){var n=this.mapFlyTweens.get(e);if(n&&n.enabled)return n.Play(t)}return t&&t(),!1},l(t,[{key:"ViewCtrl",get:function(){return this.myViewCtrl}}]),t}(p)).prototype,"showTweenNameFromLib",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=t(x.prototype,"closeTweenNameFromLib",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=t(x.prototype,"auto_bind_labels",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(x.prototype,"redpoint_checks",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=x))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIPrefabSlots.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,a,i,n,o,s,p,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,a=e.inheritsLoose,i=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,s=e._decorator,p=e.Prefab,f=e.Component}],execute:function(){var l,u,c,b,h,P,m,y,v,d,g;o._RF.push({},"8632bTftXFPPJv/Qwm8WJ3z","UIPrefabSlots",void 0);var I=s.ccclass,w=s.property,z=(l=I("UIPrefabDesc"),u=w({type:p}),l((h=r((b=function(){t(this,"prefabName",h,this),t(this,"prefabRes",P,this)}).prototype,"prefabName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=r(b.prototype,"prefabRes",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b))||c);e("UIPrefabSlots",(m=I("UIPrefabSlots"),y=w({type:[z]}),m((g=r((d=function(e){function r(){for(var r,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return r=e.call.apply(e,[this].concat(n))||this,t(r,"prefabs",g,i(r)),r.mapPrefabs=void 0,r}a(r,e);var o=r.prototype;return o.onLoad=function(){this.mapPrefabs=new Map;for(var e,r=n(this.prefabs);!(e=r()).done;){var t=e.value;this.mapPrefabs.set(t.prefabName,t.prefabRes)}},o.Get=function(e){return null==this.mapPrefabs?null:this.mapPrefabs.get(e)},r}(f)).prototype,"prefabs",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=d))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/UITools.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanLabel.ts","./Facade.ts","./Tool2.ts","./ResManager.ts","./ModuleDef.ts","./ClickEffect.ts","./GameEndUIModule.ts","./BattleUIModule.ts","./ColorPaletteUIModule.ts","./SettingsModule.ts","./GamePassUIModule.ts","./GamePauseUIModule.ts"],(function(e){var n,t,o,l,a,r,i,u,c,s,d,f,g,p,v,m,C,h,T,E,S,k,I,M,y,G,w,P,U,F,O,x,b,R,B;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy,o=e.UITransform,l=e.math,a=e.Sprite,r=e.SpriteFrame,i=e.Label,u=e.RichText,c=e.Button,s=e.EventHandler,d=e.Color,f=e.Toggle,g=e.assetManager,p=e.resources,v=e.Material,m=e.misc,C=e.UIOpacity,h=e.director,T=e.Camera,E=e.v3,S=e.tween,k=e.Vec3,I=e.Quat},function(e){M=e.LanLabel},function(e){y=e.default},function(e){G=e.default},function(e){w=e.ResManager},function(e){P=e.AssetBundleDef},function(e){U=e.ClickToPlayEffect},function(e){F=e.GameEndModule},function(e){O=e.BattleModule},function(e){x=e.ColorPeletteModule},function(e){b=e.SettingsModule},function(e){R=e.GamePassModule},function(e){B=e.GamePauseModule}],execute:function(){t._RF.push({},"ffaf0ktue9BNpAog9Edm/72","UITools",void 0);e("UITools",function(){function e(){}return e.ModifyContentSize=function(e,n,t){var a=e.getComponent(o),r=a.contentSize.width,i=a.contentSize.height;Math.abs(n)>l.EPSILON&&(a.contentSize.width=r+n),Math.abs(t)>l.EPSILON&&(a.contentSize.height=i+t)},e.SetContentSize=function(e,n,t){var l=e.getComponent(o);l.contentSize.width=n,l.contentSize.height=t},e.SetSpriteFrame=function(e,n,t){if(void 0===t&&(t=P.GAMERES),null!=e){var o=null==e?void 0:e.getComponent(a);if(o){var l=y.GetSpriteFrame(n);l?o.spriteFrame=l:w.loadBundle(t,(function(e,t){t&&t.load(n+"/spriteFrame",r,(function(e,n){e?console.log(e):o&&(o.spriteFrame=n)}))}))}}},e.SetLabelText=function(e,n,t){void 0===t&&(t=null);var o=null==e?void 0:e.getComponent(M);if(o)o.textkey=n;else{var l=null==e?void 0:e.getComponent(i);l&&(null!=t&&(l.color=t),l.string=n)}},e.SetRichText=function(e,n){if(null!=e){null==n&&(n="");var t=null==e?void 0:e.getComponent(M);if(t&&""!=n)t.textkey=n;else{var o=null==e?void 0:e.getComponent(u);o&&(o.string=n)}}},e.setButtonClick=function(e,n,t,o,l){if(null==e||null==n||""==n)return!1;var a=e.getComponent(c);null==a&&((a=e.addComponent(c)).transition=c.Transition.NONE),null==a.clickEvents&&(a.clickEvents=[]);var r=null;return 0==a.clickEvents.length?(r=new s,a.clickEvents.push(r)):r=a.clickEvents[0],null!=t&&(r.target=t),r.component=o||"UIOperator",r.handler=l||"onClickTag",r.customEventData=n,!0},e.setButtonGray=function(e,t){if(null!=e){var o=e.getComponent(c);o&&(o.interactable=!t);var l=e.getComponent(a);if(l&&(l.grayscale=t),e.children.length>0)for(var r,u=n(e.children);!(r=u()).done;){var s=r.value,f=s.getComponent(i);f&&(f.color=t?new d(186,186,186,255):d.WHITE);var g=s.getComponent(a);g&&(g.grayscale=t)}}},e.setButtonScaleTransition=function(e,n,t){void 0===n&&(n=1.2),void 0===t&&(t=.1);var o=e.getComponent(c);return null!=o&&(o.transition=c.Transition.SCALE,o.zoomScale=n,o.duration=t,!0)},e.setToggleClick=function(e,n,t,o,l,a){if(null==e||null==n||""==n)return!1;var r=e.getComponent(f);null==r&&(r=e.addComponent(f)),null==r.clickEvents&&(r.clickEvents=[]);var i=null,u=null;return 0==r.checkEvents.length?(u=new s,r.checkEvents.push(i)):u=r.checkEvents[0],0==r.clickEvents.length?(i=new s,r.clickEvents.push(i)):i=r.clickEvents[0],null!=o&&(i.target=o,u.target=o),i.component=l||"UIOperator",i.handler=a||"onClickTag",i.customEventData=n,u.component=l||"UIOperator",u.handler=a||"onClickTag",u.customEventData=t,!0},e.setRemoteSpriteFrame=function(e,n){if(null!=e&&""!=n){var t=e.getComponent(a);null==t&&(t=e.addComponent(a)),"https"==n.substring(0,5)?g.loadRemote(n,{ext:".jpeg"},(function(e,n){t.spriteFrame=r.createWithImage(n)})):this.SetSpriteFrame(e,n)}},e.setSprMateral=function(e,n){if(null!=e&&""!=n){var t=e.getComponent(a);null==t&&(t=e.addComponent(a)),p.load(""+n,v,(function(e,n){e?console.log(e):t.material=n}))}},e.getToNodePosForNode=function(n,t){var o=e.GetUITransform(t),l=n.getWorldPosition();return o.convertToNodeSpaceAR(l)},e.getAngleForPos=function(e,n,t){void 0===t&&(t=!1);var o=0;return o=t?-Math.atan2(n.x-e.x,n.y-e.y):Math.atan2(n.y-e.y,n.x-e.x),m.radiansToDegrees(o)},e.setNodeParent=function(e,n){var t=n.getComponent(o);if(null!=t){var l=t.convertToNodeSpaceAR(e.worldPosition);n.addChild(e),e.setPosition(l)}else console.log(n.name+" 没有UITransform组件")},e.getDistance=function(e,n){return e.subtract(n).length()},e.GetUIOpacity=function(e){var n=e.getComponent(C);return null==n&&(n=e.addComponent(C)),n},e.GetUITransform=function(e){var n=e.getComponent(o);return null==n&&(n=e.addComponent(o)),n},e.playClickEffect=function(e){var n,t=null==(n=h.getScene().getChildByPath("GameApp"))?void 0:n.getComponent(U);t&&t.playClickEffect(e)},e.screenToWord=function(e,n){var t,o=null==(t=h.getScene().getChildByPath("$tgxUICanvas$/Camera"))?void 0:t.getComponent(T);return o&&e?n?(o.screenToWorld(e,n),n):o.screenToWorld(e):null},e.setScaleTween=function(e,n,t){if(void 0===n&&(n=!0),null!=e){var o="backOut",l=E(.7,.7,.7),a=E(1,1,1),r=0,i=255;0==n&&(l=E(1,1,1),a=E(.7,.7,.7),r=255,i=0,o="backIn");var u=S(e).set({scale:l,active:!0}).to(.3,{scale:a},{easing:o}).call((function(){return null==t?void 0:t()})).start(),c=e.getComponent(C);null==c&&(c=e.addComponent(C));S(c).set({opacity:r,enabled:!0}).to(.3,{opacity:i},{easing:"sineInOut"}).call((function(){return null==t?void 0:t()})).start();return u}},e.setPositionTween=function(e){if(null==e)return null;var n=new k(10,10,0),t=G.randNumber(8,12)/100;return S(e).repeatForever(S().to(t,{position:n}).to(t,{position:new k(-n.x,-n.y,0)}).to(t,{position:new k(n.x,-n.y,0)}).to(t,{position:new k(-n.x,n.y,0)}).to(.1,{position:new k(0,0,0)}))},e.setRotationTween=function(e){if(null==e)return null;var n=new I,t=new I,o=new I,l=new I;return I.fromEuler(n,0,0,10),I.fromEuler(t,0,0,-8),I.fromEuler(o,0,0,-5),I.fromEuler(l,0,0,0),S(e).repeatForever(S().to(.08,{rotation:n},{easing:"sineInOut"}).to(.08,{rotation:l},{easing:"sineInOut"}).to(.08,{rotation:t},{easing:"sineInOut"}).to(.08,{rotation:l},{easing:"sineInOut"}).to(.08,{rotation:o},{easing:"sineInOut"}).to(.08,{rotation:l},{easing:"sineInOut"}).delay(.5))},e.openColorPelette=function(e){var n=y.GetModule(x.sTag);n&&(n.DoWork(e),console.log("进入游戏统计界面"))},e.openSetting=function(e){var n=y.GetModule(b.sTag);n&&(n.DoWork({onClose:e}),console.log("进入游戏结束界面"))},e.openGamePass=function(e,n){var t=y.GetModule(R.sTag);t&&(t.DoWork({onGoHome:e,onNewGame:n}),console.log("进入游戏胜利界面"))},e.openGamePause=function(e,n){var t=y.GetModule(B.sTag);t&&(t.DoWork({onContinue:e,onRestart:n}),console.log("进入游戏暂停界面"))},e.openGameEnd=function(e,n,t){var o=y.GetModule(F.sTag);o&&(o.DoWork({onTryAgain:e,onNewGame:n,onRestart:t}),console.log("进入游戏结束界面"))},e.openBattle=function(e){var n=y.GetModule(O.sTag);n&&(n.DoWork(e),console.log("进入游戏战斗界面"))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/UpdatePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,i,l,o,a,u,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,u=e.ProgressBar,c=e.Node,p=e.Component}],execute:function(){var b,f,s,y,g,d,m,z,P,w,h,B,L,v,D,U,_,k,x,R,j;l._RF.push({},"0758c0gxx1A4YjuREtYLtBD","UpdatePanel",void 0);var A=o.ccclass,F=o.property;e("UpdatePanel",(b=A("UpdatePanel"),f=F(a),s=F(u),y=F(a),g=F(u),d=F(a),m=F(c),z=F(c),P=F(c),w=F(c),b((L=r((B=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return r=e.call.apply(e,[this].concat(l))||this,n(r,"info",L,i(r)),n(r,"fileProgress",v,i(r)),n(r,"fileLabel",D,i(r)),n(r,"byteProgress",U,i(r)),n(r,"byteLabel",_,i(r)),n(r,"close",k,i(r)),n(r,"checkBtn",x,i(r)),n(r,"retryBtn",R,i(r)),n(r,"updateBtn",j,i(r)),r}return t(r,e),r.prototype.onLoad=function(){},r}(p)).prototype,"info",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(B.prototype,"fileProgress",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(B.prototype,"fileLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(B.prototype,"byteProgress",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(B.prototype,"byteLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(B.prototype,"close",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(B.prototype,"checkBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(B.prototype,"retryBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(B.prototype,"updateBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=B))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/URLConfig.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"7ed0f0wqCJMA52QkfTukjKW","URLConfig",void 0);var n=t("EUrlLocate",function(t){return t[t.None=0]="None",t[t.LocalHost=1]="LocalHost",t[t.Office=2]="Office",t[t.CN=3]="CN",t[t.Global=4]="Global",t}({})),u=t("EUrlPurpose",function(t){return t[t.None=0]="None",t[t.Test=1]="Test",t[t.Publish=2]="Publish",t[t.Shenhe=3]="Shenhe",t[t.Tiyan=4]="Tiyan",t[t.PrePub=5]="PrePub",t[t.Miya=6]="Miya",t}({}));t("URLConfig",function(){function t(){this.account_localhost_url="http://127.0.0.1:39001",this.cdn_localhost_url="http://127.0.0.1",this.account_office_url="http://192.168.0.4:39001",this.cdn_office_url="http://192.168.0.4",this.account_cntest_url="http://account.cntest.tianlutec.cn:39001",this.cdn_cntest_url="https://cn-test-1318605970.cos.ap-beijing.myqcloud.com",this.account_cntiyan_url="http://account.cntiyan.tianlutec.cn:39002",this.cdn_cntiyan_url="https://cn-tiyan-1318605970.cos.ap-nanjing.myqcloud.com",this.account_cn_shenhe_url="https://account.cnaudit.tianlutec.cn:39003",this.cdn_cn_shenhe_url="https://cn-audit-1318605970.cos.ap-beijing.myqcloud.com",this.account_cn_prepub_url="https://account.cnprepub.tianlutec.cn:39004",this.cdn_cn_prepub_url="https://cn-audit-1318605970.cos.ap-beijing.myqcloud.com",this.account_cnpub_url="https://account.cnpub.tianlutec.cn:9998",this.cdn_cnpub_url="http://cdn.cnpub.tianlutec.cn",this.account_gtest_url="http://account.gtest.tianlutec.com:39001",this.cdn_gtest_url="https://global-test-1318605970.cos.ap-hongkong.myqcloud.com",this.account_gtiyan_url="http://account.gtiyan.tianlutec.com:39002",this.cdn_gtiyan_url="https://global-test-1318605970.cos.ap-hongkong.myqcloud.com",this.account_global_shenhe_url="https://account.gaudit.tianlutec.com:39003",this.cdn_global_shenhe_url="https://global-audit-1318605970.cos.ap-hongkong.myqcloud.com",this.account_global_prepub_url="https://account.gprepub.tianlutec.com:39004",this.cdn_global_prepub_url="https://global-audit-1318605970.cos.ap-hongkong.myqcloud.com",this.account_gpub_url="https://account.gpub.tianlutec.com:9998",this.cdn_gpub_url="http://cdn.gpub.tianlutec.com",this.account_cnmiya_url="https://account.miya.tianlutec.cn:9998",this.cdn_cnmiya_url="https://cdn.miya.tianlutec.cn",this.account_cnmiya_shenhe_url="https://account.miyash.tianlutec.cn:39004",this.account_global_telegram_url="https://account.miya.tianlutec.cn:9998",this.user_agreement_cn_url="http://cdn.cnpub.tianlutec.cn/UserAgreement.html",this.private_policy_cn_url="http://cdn.cnpub.tianlutec.cn/privacy_cn.html",this.user_agreement_global_url="http://cdn.gpub.tianlutec.com/UserAgreement.html",this.private_policy_global_url="http://cdn.gpub.tianlutec.com/PrivacyPolicy.html",this.notice_localhost_Url="http://192.168.0.4:80/notice.html",this.notice_cnpub_Url="http://192.168.0.4:80/notice.html"}var c=t.prototype;return c.GetUserAgreement=function(t){return t==n.Global&&this.user_agreement_global_url,this.user_agreement_cn_url},c.GetPrivatePolicy=function(t){return t==n.Global&&this.private_policy_global_url,this.private_policy_cn_url},c.GetAccountServerURL=function(t,c){if(c==u.Miya&&t==n.CN)return this.account_cnmiya_url;if(c==u.Publish)return t==n.Global?this.account_gpub_url:t==n.CN?this.account_cnpub_url:"";if(c==u.Shenhe)return t==n.CN?this.account_cn_shenhe_url:this.account_global_shenhe_url;if(c==u.Test){if(t==n.CN)return this.account_cntest_url;if(t==n.Global)return this.account_gtest_url;if(t==n.Office)return this.account_office_url;if(t==n.LocalHost)return this.account_localhost_url}if(c==u.Tiyan){if(t==n.CN)return this.account_cntiyan_url;if(t==n.Global)return this.account_gtiyan_url}if(c==u.PrePub){if(t==n.CN)return this.account_cn_prepub_url;if(t==n.Global)return this.account_global_prepub_url}return""},c.GetCdnUrl=function(t,c){if(c==u.Miya&&t==n.CN)return this.cdn_cnmiya_url;if(c==u.Publish)return t==n.Global?this.cdn_gpub_url:t==n.CN?this.cdn_cnpub_url:"urlerror";if(c==u.Shenhe)return t==n.CN?this.cdn_cn_shenhe_url:this.cdn_global_shenhe_url;if(c==u.Test){if(t==n.CN)return this.cdn_cntest_url;if(t==n.Global)return this.cdn_gtest_url;if(t==n.Office)return this.cdn_office_url;if(t==n.LocalHost)return this.cdn_localhost_url}if(c==u.Tiyan){if(t==n.CN)return this.cdn_cntiyan_url;if(t==n.Global)return this.cdn_gtiyan_url}if(c==u.PrePub){if(t==n.CN)return this.cdn_cn_prepub_url;if(t==n.Global)return this.cdn_global_prepub_url}return"urlerror"},c.GetNoticeURL=function(t){return t==u.Test?this.notice_localhost_Url:this.notice_cnpub_Url},t}());c._RF.pop()}}}));

System.register("chunks:///_virtual/UserCenterUICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClassConfig.ts","./LanLabel.ts","./UIControler.ts","./G.ts","./UITools.ts","./Facade.ts","./LoginDefine.ts","./SdkHelper.ts"],(function(n){var e,t,i,o,s,l,a,r,c,u,f,d,h,C;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,i=n.find,o=n.v3,s=n.tween,l=n.UIOpacity},function(n){a=n.ClassConfig},function(n){r=n.LanLabel},function(n){c=n.UIControler},function(n){u=n.default},function(n){f=n.UITools},function(n){d=n.default},function(n){h=n.LoginType},function(n){C=n.SdkHelper}],execute:function(){t._RF.push({},"b7335gbuSpPFLMnR/Syp7+7","UserCenterUICtrl",void 0);var g=n("UserCenterUICtrl",function(n){function t(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))||this).uiCenterWin=void 0,e.uiBindWin=void 0,e}e(t,n);var a=t.prototype;return a._onLoad=function(){this.initUI(),this.regClickHandlers()},a._onEnable=function(){this.setUIInfoShow(),this.updateLanShow(),this.OpenTweenPlayer()},a._onDisable=function(){},a._onStart=function(){},a._onUpdate=function(n){},a.updateLanShow=function(){for(var n=this.node.getComponentsInChildren(r),e=0;e<n.length;e++)n[e].language()},a.initUI=function(){this.uiCenterWin=i("view",this.node),this.uiBindWin=i("view/mid/bind",this.node)},a.regClickHandlers=function(){var n=this;this.RegClickHanlder("Google",(function(e,t,i,o){n.bindGoogle()})),this.RegClickHanlder("close",(function(e,t,i,o){n.closeWin()}))},a.setUIInfoShow=function(){f.SetLabelText(this.uiBindWin.getChildByPath("google/bindStateText"),u.GetLanStr(10174))},a.bindGoogle=function(){var n=h[u.gameCfg.specLoginType];C.CallSdkNative("TLSdk","Login",n)},a.closeWin=function(){d.GetModule("Login").isSaveUserInfo=0,this.CloseTweenPlayer()},a.OpenTweenPlayer=function(){this.scaleTween(this.uiCenterWin,.3,o(.8,.8,.8),o(1,1,1),"backOut"),this.opacityTween(this.uiCenterWin,.3,150,255)},a.CloseTweenPlayer=function(){this.scaleTween(this.uiCenterWin,.3,o(1,1,1),o(.8,.8,.8),"backIn"),this.opacityTween(this.uiCenterWin,.3,255,150),this.scheduleOnce((function(){d.CloseUI("UserCenter")}),.3)},a.scaleTween=function(n,e,t,i,o,l,a){void 0===l&&(l=!0);var r=s(n).set({scale:t,active:!0}).to(e,{scale:i},{easing:o}).call((function(){return null==a?void 0:a()}));return l?r.start():r},a.opacityTween=function(n,e,t,i,o,a){void 0===o&&(o=!0),void 0===a&&(a=null);var r=n.getComponent(l);null==r&&(r=n.addComponent(l));var c=s(r).set({opacity:t,enabled:!0}).to(e,{opacity:i},{easing:"sineInOut"}).call((function(){return null==a?void 0:a()}));return o?c.start():c},t}(c));a.addClass("UserCenterViewCtrl",g),t._RF.pop()}}}));

System.register("chunks:///_virtual/Utf8Util.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"cb7bd/I1chIKIE9NJmBn2Am","Utf8Util",void 0);t("Utf8Utils",function(){function t(){}return t.parse=function(t){return null},t.stringify=function(t){return""},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Vec3Util.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts"],(function(n){var e,r,t,u,a;return{setters:[function(n){e=n.createClass},function(n){r=n.cclegacy,t=n.Vec3,u=n.Mat4},function(n){a=n.MathUtil}],execute:function(){r._RF.push({},"ea2a8BaCt1H/qzootah+nS8","Vec3Util",void 0);n("Vec3Util",function(){function n(){}return n.progress=function(n,e,r){var u=new t;return u.x=a.progress(n.x,e.x,r),u.y=a.progress(n.y,e.y,r),u.z=a.progress(n.z,e.z,r),u},n.add=function(n,e){var r=new t;return t.add(r,n,e),r},n.sub=function(n,e){var r=new t;return t.subtract(r,n,e),r},n.mul=function(n,e){var r=new t;return t.multiplyScalar(r,n,e),r},n.div=function(n,e){var r=new t;return r.x=n.x/e,r.y=n.y/e,r.z=n.z/e,r},n.equals=function(n,e){return n.x==e.x&&n.y==e.y&&n.z==e.z},n.magnitude=function(n){return n.length()},n.normalize=function(n){return new t(n.x,n.y,n.z).normalize()},n.direction=function(n,e){var r=new t;return t.subtract(r,e,n),r.normalize()},n.distance=function(n,e){return t.distance(n,e)},n.lerp=function(n,e,r){return this.bezierOne(r,n,e)},n.slerp=function(n,e,r){if(r<=0)return n;if(r>=1)return e;var u=this.rotateTo(n,e,t.angle(n,e)/Math.PI*180*r),a=e.length()*r+n.length()*(1-r);return u.normalize().multiplyScalar(a)},n.rotateTo=function(n,e,r){if(0==t.angle(n,e))return e;var a=new t;t.cross(a,n,e),a.normalize();var l=r*Math.PI/180,i=new u;return i.rotate(l,a),new t(n.x*i.m00+n.y*i.m04+n.z*i.m08,n.x*i.m01+n.y*i.m05+n.z*i.m09,n.x*i.m02+n.y*i.m06+n.z*i.m10)},n.bezierOne=function(n,e,r){n>1?n=1:n<0&&(n=0);var t=e.clone(),u=r.clone();return t.multiplyScalar(1-n).add(u.multiplyScalar(n))},n.bezierTwo=function(n,e,r,u){n>1?n=1:n<0&&(n=0);var a=1-n,l=n*n,i=e.clone(),o=new t,c=r.clone(),y=u.clone();return o.add(i.multiplyScalar(a*a)),o.add(c.multiplyScalar(2*a*n)),o.add(y.multiplyScalar(l)),o},n.bezierThree=function(n,e,r,t,u){n>1?n=1:n<0&&(n=0);var a=1-n,l=a*a,i=l*a,o=n*n,c=o*n,y=e.clone(),f=e.clone(),s=r.clone(),d=t.clone(),m=u.clone();return f.add(y.multiplyScalar(i)),f.add(s.multiplyScalar(3*l*n)),f.add(d.multiplyScalar(3*a*o)),f.add(m.multiplyScalar(c)),f},n.dot=function(n,e){var r=n,t=e;return r.x*t.x+r.y*t.y+r.z*t.z},n.cross=function(n,e){var r=new t(1,0,0),u=new t(0,1,0),a=new t(0,0,1),l=new t(n.x,n.y,n.z),i=new t(e.x,e.y,e.z),o=r.multiplyScalar(l.y*i.z-i.y*l.z),c=u.multiplyScalar(i.x*l.z-l.x*i.z),y=a.multiplyScalar(l.x*i.y-i.x*l.y);return o.add(c).add(y)},n.angle=function(n,e){var r=this.dot(n.clone().normalize(),e.clone().normalize());return Math.acos(r)/Math.PI*180*Math.sign(r)},n.dirAngle=function(e,r){var t=n.cross(e,r);return n.angle(e,r)*Math.sign(n.dot(t.normalize(),n.cross(r.normalize(),e.normalize())))},e(n,null,[{key:"x",get:function(){return new t(1,0,0)}},{key:"y",get:function(){return new t(0,1,0)}},{key:"z",get:function(){return new t(0,0,1)}},{key:"left",get:function(){return new t(-1,0,0)}},{key:"right",get:function(){return new t(1,0,0)}},{key:"up",get:function(){return new t(0,1,0)}},{key:"down",get:function(){return new t(0,-1,0)}},{key:"forward",get:function(){return new t(0,0,1)}},{key:"back",get:function(){return new t(0,0,-1)}},{key:"one",get:function(){return new t(1,1,1)}},{key:"zero",get:function(){return new t(0,0,0)}}]),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/VerticalDistributionComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,a,c,u,s,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Enum,u=t.Widget,s=t.UITransform,l=t.Layout,p=t.Component}],execute:function(){var E,h,g,d,f,C,m,b;r._RF.push({},"173f2DqfsVEZIAVK9GlvMzT","VerticalDistributionComponent",void 0);var N=a.ccclass,_=a.property,y=a.executeInEditMode,A=function(t){return t[t.FLEX_START=0]="FLEX_START",t[t.FLEX_END=1]="FLEX_END",t[t.CENTER=2]="CENTER",t[t.SPACE_BETWEEN=3]="SPACE_BETWEEN",t[t.SPACE_AROUND=4]="SPACE_AROUND",t[t.SPACE_EVENLY=5]="SPACE_EVENLY",t}(A||{});t("VerticalDistributionComponent",(E=N("VerticalDistributionComponent"),h=y(!0),g=_({type:c(A)}),E(d=h((C=e((f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"mode",C,o(e)),i(e,"spacing",m,o(e)),i(e,"maxSpacing",b,o(e)),e}n(e,t);var r=e.prototype;return r.onEnable=function(){this.updateLayout()},r.start=function(){var t;null==(t=this.node.getComponent(u))||t.updateAlignment(),this.updateLayout()},r.updateLayout=function(){var t=this,e=this.node.children;if(0!==e.length){var n=this.getNodeHeight(this.node);this.updateChildLayout();var i=0;e.forEach((function(e){i+=t.getNodeHeight(e)}));var o=(e.length-1)*this.spacing,r=n-i-o,a=0;switch(this.mode){case A.FLEX_START:a=n/2;break;case A.FLEX_END:a=-n/2+i+o;break;case A.CENTER:a=i/2+o/2;break;case A.SPACE_BETWEEN:a=n/2,this.spacing=r/(e.length-1);break;case A.SPACE_AROUND:a=n/2-r/(2*e.length),this.spacing=r/e.length;break;case A.SPACE_EVENLY:a=n/2-r/(e.length+1),this.spacing=r/(e.length+1)}var c=a,u=Math.min(this.spacing,this.maxSpacing);e.forEach((function(e){e.setPosition(0,c-t.getNodeHeight(e)/2,0),c-=t.getNodeHeight(e)+u}))}},r.getNodeHeight=function(t){return t.getComponent(s).height},r.updateChildLayout=function(){var t=this.getComponentsInChildren(l);t&&t.forEach((function(t){return t.updateLayout()}))},e}(p)).prototype,"mode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.FLEX_START}}),m=e(f.prototype,"spacing",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),b=e(f.prototype,"maxSpacing",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),d=f))||d)||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.UITransform,c=t.Component}],execute:function(){var i;n._RF.push({},"351bfPWfnNORbCJTTScOFh/","VirtualItem",void 0);var u=o.ccclass,s=o.disallowMultiple;t("default",u(i=s(i=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).dataIdx=0,e.args=null,e.others=[],e}e(n,t);var o=n.prototype;return o.onRefresh=function(t){},o.onRefreshOthers=function(){},o.onReset=function(){},o.getRealSize=function(){return this.node.getComponent(r).contentSize},n}(c))||i)||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VirtualItem.ts","./Tool.ts","./VirtualList.ts"],(function(t){var i,e,n,o,s,h,r,a,d,g,p,f,l,_,c,u,x,m,v,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,r=t.Enum,a=t.UITransform,d=t.Node,g=t.UIOpacity,p=t.instantiate,f=t.error,l=t.rect,_=t.v2,c=t.Component,u=t.v3},function(t){x=t.default},function(t){m=t.default},function(t){v=t.MainTemplateType,y=t.OtherTemplateType}],execute:function(){var w,T,I,M,E,O,z,A,S,C,R,b,N,D,L,V,H,P,F,X,G,Y;s._RF.push({},"aa794Q6kVVDh5lYeW8Awaf1","VirtualLayout",void 0);var B=h.ccclass,Z=h.property,U=h.disallowMultiple,k=function(t){return t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.GRID=2]="GRID",t}(k||{}),j=function(t){return t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t}(j||{}),Q=function(t){return t[t.TOP_TO_BOTTOM=0]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=1]="BOTTOM_TO_TOP",t}(Q||{}),W=function(t){return t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",t}(W||{});t("default",(w=Z({type:r(k)}),T=Z({type:r(j),visible:function(){return this.type===k.GRID}}),I=Z({visible:function(){return this.type===k.HORIZONTAL||this.type===k.GRID}}),M=Z({visible:function(){return this.type===k.HORIZONTAL||this.type===k.GRID}}),E=Z({visible:function(){return this.type===k.VERTICAL||this.type===k.GRID}}),O=Z({visible:function(){return this.type===k.VERTICAL||this.type===k.GRID}}),z=Z({visible:function(){return this.type===k.HORIZONTAL||this.type===k.GRID}}),A=Z({visible:function(){return this.type===k.VERTICAL||this.type===k.GRID}}),S=Z({type:r(Q),visible:function(){return this.type===k.VERTICAL||this.type===k.GRID}}),C=Z({type:r(W),visible:function(){return this.type===k.HORIZONTAL||this.type===k.GRID}}),B(R=U((N=i((b=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),h=0;h<e;h++)s[h]=arguments[h];return i=t.call.apply(t,[this].concat(s))||this,n(i,"type",N,o(i)),n(i,"startAxis",D,o(i)),n(i,"left",L,o(i)),n(i,"right",V,o(i)),n(i,"top",H,o(i)),n(i,"bottom",P,o(i)),n(i,"spacingX",F,o(i)),n(i,"spacingY",X,o(i)),n(i,"verticalDirection",G,o(i)),n(i,"horizontalDirection",Y,o(i)),i._list=null,i._view=null,i._viewEdge=null,i._fixedSize=null,i._sizeDirty=!1,i._viewDirty=!1,i._posDirty=!1,i._items=[],i._itemPool=[],i._otherItemsArr=[],i._otherItemPoolArr=[],i}e(i,t);var s=i.prototype;return s.onInit=function(t){var i=this;this._list=t,this._view=this.node.parent,this._viewEdge=this.getNodeEdgeRect(this._view),this._otherItemsArr=[],this._otherItemPoolArr=[],this._list.others.forEach((function(t){i._otherItemsArr.push([]),i._otherItemPoolArr.push([])})),null===this._fixedSize&&(this.addItemNode(!1),this._fixedSize=this._itemPool[0].getComponent(a).contentSize),d.EventType.TRANSFORM_CHANGED,this.node.on(d.EventType.TRANSFORM_CHANGED,this.onPositionChanged,this),this._view.on(d.EventType.SIZE_CHANGED,this.onViewSizeChanged,this)},s.onDestroy=function(){var t;this.node.on(d.EventType.TRANSFORM_CHANGED,this.onPositionChanged,this),null==(t=this._view)||t.off(d.EventType.SIZE_CHANGED,this.onViewSizeChanged,this)},s.forceUpdate=function(){this.updatePos(),this.updateSize(),this.updateView()},s.lateUpdate=function(){this.forceUpdate()},s.updatePos=function(){var t=this;this._posDirty&&(this._posDirty=!1,this._list.others.forEach((function(i){i.content.position=t.node.position})))},s.updateSize=function(){this._sizeDirty&&(this._sizeDirty=!1,this._list.isFixedSize?this.updateSizeFixed():this.updateSizeUnfixed())},s.updateSizeFixed=function(){if(this.type===k.VERTICAL){if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).height=0);this.node.getComponent(a).height=this.top+this.bottom+(this._list.argsArr.length-1)*this.spacingY+this._fixedSize.height*this._list.argsArr.length}else if(this.type===k.HORIZONTAL){if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).width=0);this.node.getComponent(a).width=this.left+this.right+(this._list.argsArr.length-1)*this.spacingX+this._fixedSize.width*this._list.argsArr.length}else if(this.startAxis===j.HORIZONTAL){if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).height=0);var t=Math.floor((this.node.getComponent(a).width-this.left-this.right+this.spacingX)/(this._fixedSize.width+this.spacingX));t=Math.max(t,1);var i=Math.ceil(this._list.argsArr.length/t);this.node.getComponent(a).height=this.top+this.bottom+(i-1)*this.spacingY+this._fixedSize.height*i}else{if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).width=0);var e=Math.floor((this.node.getComponent(a).height-this.top-this.bottom+this.spacingY)/(this._fixedSize.height+this.spacingY));e=Math.max(e,1);var n=Math.ceil(this._list.argsArr.length/e);this.node.getComponent(a).width=this.left+this.right+(n-1)*this.spacingX+this._fixedSize.width*n}},s.updateSizeUnfixed=function(){var t=0;if(this.type===k.VERTICAL){if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).height=0);t=this.top+this.bottom+(this._list.argsArr.length-1)*this.spacingY;for(var i=0;i<this._list.argsArr.length;i++){t+=this.calcItemSizeUnfixed(i).height}this.node.getComponent(a).height=t}else if(this.type===k.HORIZONTAL){if(this._list.argsArr.length<=0)return void(this.node.getComponent(a).width=0);t=this.left+this.right+(this._list.argsArr.length-1)*this.spacingX;for(var e=0;e<this._list.argsArr.length;e++){t+=this.calcItemSizeUnfixed(e).width}this.node.getComponent(a).width=t}},s.updateView=function(){!this._viewDirty||this._list.argsArr.length<=0||(this._viewDirty=!1,this._list.isFixedSize?this.updateViewFixed():this.updateViewUnfixed())},s.updateViewFixed=function(){var t,i,e,n,o=this,s=this.checkViewItem(),h=s.inView,r=s.outView,d=this.getNodeEdgeRect(this.node);if(this.type===k.VERTICAL)for(var g=function(t){if(o.verticalDirection===Q.TOP_TO_BOTTOM){if(e=d.yMax-(o.top+t*o.spacingY+o._fixedSize.height*t),n=e-o._fixedSize.height,e+o.node.position.y<o._viewEdge.yMin)return 0;if(n+o.node.position.y>o._viewEdge.yMax)return 1}else{if(n=d.yMin+o.bottom+t*o.spacingY+o._fixedSize.height*t,e=n+o._fixedSize.height,n+o.node.position.y>o._viewEdge.yMax)return 0;if(e+o.node.position.y<o._viewEdge.yMin)return 1}if(-1!==h.findIndex((function(i){return o._items[i].getComponent(x).dataIdx===t})))return 1;var i=0===r.length?o.addItemNode():r.shift(),s=o._items[i];o.setItem(u(0,n+s.getComponent(a).anchorY*s.getComponent(a).height),t,i)},p=0;p<this._list.argsArr.length&&0!==g(p);p++);else if(this.type===k.HORIZONTAL)for(var f=function(e){if(o.horizontalDirection===W.RIGHT_TO_LEFT){if(t=d.xMax-(o.right+e*o.spacingX+o._fixedSize.width*e),i=t-o._fixedSize.width,t+o.node.position.x<o._viewEdge.xMin)return 0;if(i+o.node.position.x>o._viewEdge.xMax)return 1}else{if(i=d.xMin+o.left+e*o.spacingX+o._fixedSize.width*e,t=i+o._fixedSize.width,i+o.node.position.x>o._viewEdge.xMax)return o.node.position.y,0;if(t+o.node.position.x<o._viewEdge.xMin)return 1}if(-1!==h.findIndex((function(t){return o._items[t].getComponent(x).dataIdx===e})))return 1;var n=0===r.length?o.addItemNode():r.shift(),s=o._items[n];o.setItem(u(i+s.getComponent(a).anchorX*s.getComponent(a).width,0),e,n)},l=0;l<this._list.argsArr.length&&0!==f(l);l++);else for(var _=function(s){var g=0,p=0;if(o.startAxis===j.HORIZONTAL){var f=Math.floor((o.node.getComponent(a).width-o.left-o.right+o.spacingX)/(o._fixedSize.width+o.spacingX));if(f=Math.max(f,1),g=Math.floor(s/f),p=s%f,o.verticalDirection===Q.TOP_TO_BOTTOM){if(e=d.yMax-(o.top+g*o.spacingY+o._fixedSize.height*g),n=e-o._fixedSize.height,e+o.node.position.y<o._viewEdge.yMin)return 0;if(n+o.node.position.y>o._viewEdge.yMax)return 1}else{if(n=d.yMin+o.bottom+g*o.spacingY+o._fixedSize.height*g,e=n+o._fixedSize.height,n+o.node.position.y>o._viewEdge.yMax)return 0;if(e+o.node.position.y<o._viewEdge.yMin)return 1}if(o.horizontalDirection===W.RIGHT_TO_LEFT?(t=d.xMax-(o.right+p*o.spacingX+o._fixedSize.width*p),i=t-o._fixedSize.width):(i=d.xMin+o.left+p*o.spacingX+o._fixedSize.width*p,t=i+o._fixedSize.width),t+o.node.position.x<o._viewEdge.xMin||i+o.node.position.x>o._viewEdge.xMax)return 1}else{var l=Math.floor((o.node.getComponent(a).height-o.top-o.bottom+o.spacingY)/(o._fixedSize.height+o.spacingY));if(l=Math.max(l,1),g=s%l,p=Math.floor(s/l),o.horizontalDirection===W.RIGHT_TO_LEFT){if(t=d.xMax-(o.right+p*o.spacingX+o._fixedSize.width*p),i=t-o._fixedSize.width,t+o.node.position.x<o._viewEdge.xMin)return 0;if(i+o.node.position.x>o._viewEdge.xMax)return 1}else{if(i=d.xMin+o.left+p*o.spacingX+o._fixedSize.width*p,t=i+o._fixedSize.width,i+o.node.position.x>o._viewEdge.xMax)return 0;if(t+o.node.position.x<o._viewEdge.xMin)return 1}if(o.verticalDirection===Q.TOP_TO_BOTTOM?(e=d.yMax-(o.top+g*o.spacingY+o._fixedSize.height*g),n=e-o._fixedSize.height):(n=d.yMin+o.bottom+g*o.spacingY+o._fixedSize.height*g,e=n+o._fixedSize.height),e+o.node.position.y<o._viewEdge.yMin||n+o.node.position.y>o._viewEdge.yMax)return 1}if(-1!==h.findIndex((function(t){return o._items[t].getComponent(x).dataIdx===s})))return 1;var _=0===r.length?o.addItemNode():r.shift(),c=o._items[_];o.setItem(u(i+c.getComponent(a).anchorX*c.getComponent(a).width,n+c.getComponent(a).anchorY*c.getComponent(a).height),s,_)},c=0;c<this._list.argsArr.length&&0!==_(c);c++);for(var m=r.length-1;m>=0;m--)this.putActivatedItemByIndex(r[m])},s.updateViewUnfixed=function(){var t,i,e,n,o=this,s=this.checkViewItem(),h=s.inView,r=s.outView,d=this.getNodeEdgeRect(this.node);if(this.type===k.VERTICAL)for(var g=0,p=function(t){var i=o.calcItemSizeUnfixed(t);if(g+=i.height,o.verticalDirection===Q.TOP_TO_BOTTOM){if(e=d.yMax-(o.top+t*o.spacingY+(g-i.height)),n=e-i.height,e+o.node.position.y<o._viewEdge.yMin)return 0;if(n+o.node.position.y>o._viewEdge.yMax)return 1}else{if(n=d.yMin+o.bottom+t*o.spacingY+(g-i.height),e=n+i.height,n+o.node.position.y>o._viewEdge.yMax)return 0;if(e+o.node.position.y<o._viewEdge.yMin)return 1}if(-1!==h.findIndex((function(i){return o._items[i].getComponent(x).dataIdx===t})))return 1;var s=0===r.length?o.addItemNode():r.shift(),p=o._items[s];p.getComponent(a).setContentSize(i),o.setItem(u(0,n+p.getComponent(a).anchorY*i.height),t,s)},f=0;f<this._list.argsArr.length&&0!==p(f);f++);else if(this.type===k.HORIZONTAL)for(var l=0,_=function(e){var n=o.calcItemSizeUnfixed(e);if(l+=n.width,o.horizontalDirection===W.RIGHT_TO_LEFT){if(t=d.xMax-(o.right+e*o.spacingX+(l-n.width)),i=t-n.width,t+o.node.position.x<o._viewEdge.xMin)return 0;if(i+o.node.position.x>o._viewEdge.xMax)return 1}else{if(i=d.xMin+o.left+e*o.spacingX+(l-n.width),t=i+n.width,i+o.node.position.x>o._viewEdge.xMax)return 0;if(t+o.node.position.x<o._viewEdge.xMin)return 1}if(-1!==h.findIndex((function(t){return o._items[t].getComponent(x).dataIdx===e})))return 1;var s=0===r.length?o.addItemNode():r.shift(),g=o._items[s];g.getComponent(a).setContentSize(n),o.setItem(u(i+g.getComponent(a).anchorX*n.width,0),e,s)},c=0;c<this._list.argsArr.length&&0!==_(c);c++);for(var m=r.length-1;m>=0;m--)this.putActivatedItemByIndex(r[m])},s.checkViewItem=function(){var t=[],i=[];if(this.type===k.VERTICAL)for(var e=0;e<this._items.length;e++){var n=this._items[e].getComponent(a).getBoundingBox();n.yMin+this.node.position.y<=this._viewEdge.yMax&&n.yMax+this.node.position.y>=this._viewEdge.yMin?t.push(e):i.push(e)}else if(this.type===k.HORIZONTAL)for(var o=0;o<this._items.length;o++){var s=this._items[o].getComponent(a).getBoundingBox();s.xMin+this.node.position.x<=this._viewEdge.xMax&&s.xMax+this.node.position.x>=this._viewEdge.xMin?t.push(o):i.push(o)}else for(var h=0;h<this._items.length;h++){var r=this._items[h].getComponent(a).getBoundingBox();r.xMin+this.node.position.x<=this._viewEdge.xMax&&r.xMax+this.node.position.x>=this._viewEdge.xMin&&r.yMin+this.node.position.y<=this._viewEdge.yMax&&r.yMax+this.node.position.y>=this._viewEdge.yMin?t.push(h):i.push(h)}return{inView:t,outView:i}},s.setItem=function(t,i,e){var n=this._items[e];n.position=t;var o=n.getComponent(x);if(o.dataIdx=i,o.args=this._list.argsArr[i],o.onRefresh(o.args),this._list.others.length>0){var s=[];this._otherItemsArr.forEach((function(i){i[e].position=t,s.push(i[e])})),o.others=s,o.onRefreshOthers.apply(o,o.others)}},s.addItemNode=function(t){var i=this;void 0===t&&(t=!0);var e=null;if(this._itemPool.length>0)(e=this._itemPool.pop()).getComponent(g).opacity=255,this._items.push(e),this._otherItemPoolArr.forEach((function(t,e){var n=t.pop();n.getComponent(g).opacity=255,i._otherItemsArr[e].push(n)}));else{var n=this._list.main.templateType===v.PREFAB?this._list.main.templatePrefab:this._list.main.templateNode;(e=p(n)).getComponent(x)||e.addComponent(x),this.node.addChild(e),t?(e.getComponent(g).opacity=255,this._items.push(e)):this.putItemNode(e);var o=e.children.slice(0);this._list.others.forEach((function(e,n){var s=null;switch(e.templateType){case y.NODE:s=p(e.templateNode);break;case y.PREFAB:s=p(e.templatePrefab);break;case y.MAIN_ITEM_CHILD:if(!m.inRange(0,o.length-1,e.templateChild))return void f("[VirtualLayout.addItemNode] error e.templateChild: "+e.templateChild);(s=o[e.templateChild]).removeFromParent();break;default:return void f("[VirtualLayout.addItemNode] error e.templateType: "+e.templateType)}e.content.addChild(s),t?(s.getComponent(g).opacity=255,i._otherItemsArr[n].push(s)):i.putItemNode(s,!0,n)}))}return this._items.length-1},s.putItemNode=function(t,i,e){(void 0===i&&(i=!1),void 0===e&&(e=0),t.getComponent(g).opacity=0,t.setPosition(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),i)?this._otherItemPoolArr[e].push(t):(t.getComponent(x).onReset(),this._itemPool.push(t))},s.putActivatedItemByIndex=function(t){var i=this;this.putItemNode(this._items[t]),this._otherItemsArr.forEach((function(e,n){i.putItemNode(e[t],!0,n)})),this._items.splice(t,1),this._otherItemsArr.forEach((function(i){i.splice(t,1)}))},s.convertToParentPos=function(t,i){return t.add(i.position)},s.convertToChildPos=function(t,i){return t.subtract(i.position)},s.getNodeEdgeRect=function(t){return l(-t.getComponent(a).width*t.getComponent(a).anchorX,-t.getComponent(a).height*t.getComponent(a).anchorY,t.getComponent(a).width,t.getComponent(a).height)},s.calcItemSizeUnfixed=function(t){return this._list.calcItemSize?this._list.calcItemSize(this._list.argsArr[t]):this._fixedSize},s.onPositionChanged=function(){this._list.scrollView._outOfBoundaryAmountDirty=!0,this._viewDirty=!0,this._posDirty=!0},s.onViewSizeChanged=function(){this._viewEdge=this.getNodeEdgeRect(this._view)},s.getScrollOffset=function(t,i,e){return t=Math.min(t,this._list.argsArr.length-1),this._list.isFixedSize?this.getScrollOffsetFixed(t,i,e):this.getScrollOffsetUnfixed(t,i,e)},s.getScrollOffsetFixed=function(t,i,e){var n,o,s=this.getNodeEdgeRect(this.node);if(this.type===k.VERTICAL){this.verticalDirection===Q.TOP_TO_BOTTOM?o=s.yMax-(this.top+t*this.spacingY+this._fixedSize.height*t)-this._fixedSize.height:(o=s.yMin+this.bottom+t*this.spacingY+this._fixedSize.height*t)+this._fixedSize.height;var h=this._viewEdge.xMin-(s.xMin+this.node.position.x),r=s.yMax-(this._fixedSize.height*i.y+o)-(1-e.y)*this._viewEdge.height;return _(h,r)}if(this.type===k.HORIZONTAL){this.horizontalDirection===W.RIGHT_TO_LEFT?n=s.xMax-(this.right+t*this.spacingX+this._fixedSize.width*t)-this._fixedSize.width:(n=s.xMin+this.left+t*this.spacingX+this._fixedSize.width*t)+this._fixedSize.width;var d=this._fixedSize.width*i.x+n-s.xMin-e.x*this._viewEdge.width,g=s.yMax-(this._viewEdge.yMax-this.node.position.y);return _(d,g)}var p=0,f=0;if(this.startAxis===j.HORIZONTAL){var l=Math.floor((this.node.getComponent(a).width-this.left-this.right+this.spacingX)/(this._fixedSize.width+this.spacingX));l=Math.max(l,1),p=Math.floor(t/l),f=t%l}else{var c=Math.floor((this.node.getComponent(a).height-this.top-this.bottom+this.spacingY)/(this._fixedSize.height+this.spacingY));p=t%(c=Math.max(c,1)),f=Math.floor(t/c)}this.verticalDirection===Q.TOP_TO_BOTTOM?o=s.yMax-(this.top+p*this.spacingY+this._fixedSize.height*p)-this._fixedSize.height:(o=s.yMin+this.bottom+p*this.spacingY+this._fixedSize.height*p,this._fixedSize.height),this.horizontalDirection===W.RIGHT_TO_LEFT?n=s.xMax-(this.right+f*this.spacingX+this._fixedSize.width*f)-this._fixedSize.width:(n=s.xMin+this.left+f*this.spacingX+this._fixedSize.width*f,this._fixedSize.width);var u=this._fixedSize.width*i.x+n-s.xMin-e.x*this._viewEdge.width,x=s.yMax-(this._fixedSize.height*i.y+o)-(1-e.y)*this._viewEdge.height;return _(u,x)},s.getScrollOffsetUnfixed=function(t,i,e){var n,o,s=this.getNodeEdgeRect(this.node),h=this.calcItemSizeUnfixed(t);if(this.type===k.VERTICAL){for(var r=0,a=0;a<t;a++){r+=this.calcItemSizeUnfixed(a).height}this.verticalDirection===Q.TOP_TO_BOTTOM?o=s.yMax-(this.top+t*this.spacingY+r)-h.height:(o=s.yMin+this.bottom+t*this.spacingY+r)+h.height;var d=this._viewEdge.xMin-(s.xMin+this.node.position.x),g=s.yMax-(h.height*i.y+o)-(1-e.y)*this._viewEdge.height;return _(d,g)}if(this.type===k.HORIZONTAL){for(var p=0,f=0;f<t;f++){p+=this.calcItemSizeUnfixed(f).width}this.horizontalDirection===W.RIGHT_TO_LEFT?n=s.xMax-(this.right+t*this.spacingX+p)-h.width:(n=s.xMin+this.left+t*this.spacingX+p)+h.width;var l=h.width*i.x+n-s.xMin-e.x*this._viewEdge.width,c=s.yMax-(this._viewEdge.yMax-this.node.position.y);return _(l,c)}return null},s.rearrange=function(t){var i=this;void 0===t&&(t=!0),this._sizeDirty=!0,this._viewDirty=!0,t&&(this._items.forEach((function(t,e){i.putItemNode(t),i._otherItemsArr.forEach((function(t,n){i.putItemNode(t[e],!0,n)}))})),this._items.length=0,this._otherItemsArr.forEach((function(t){t.length=0})))},s.refreshAllItems=function(){var t=this;this._items.forEach((function(i){var e=i.getComponent(x);e.onRefresh(e.args),t._list.others.length>0&&e.onRefreshOthers.apply(e,e.others)}))},i}(c)).prototype,"type",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.VERTICAL}}),D=i(b.prototype,"startAxis",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.HORIZONTAL}}),L=i(b.prototype,"left",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=i(b.prototype,"right",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=i(b.prototype,"top",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=i(b.prototype,"bottom",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=i(b.prototype,"spacingX",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=i(b.prototype,"spacingY",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=i(b.prototype,"verticalDirection",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.TOP_TO_BOTTOM}}),Y=i(b.prototype,"horizontalDirection",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.LEFT_TO_RIGHT}}),R=b))||R)||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tool.ts","./VirtualLayout.ts"],(function(t){var e,i,r,n,o,l,a,s,u,p,c,h,f,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,r=t.initializerDefineProperty,n=t.inheritsLoose,o=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,s=t.Node,u=t.Enum,p=t.Prefab,c=t.ScrollView,h=t.v2,f=t.Component},function(t){y=t.default},function(t){m=t.default}],execute:function(){var g,b,d,_,v,T,A,w,P,I,E,z,N,D,C,V,L,M,O,F,R,B,S,k,x,H,j,U,q,X,Y,G,J,K;l._RF.push({},"d72cfYF8AhOb4/0qk8PXSep","VirtualList",void 0);var Q=a.ccclass,W=a.property,Z=a.requireComponent,$=(a.executeInEditMode,a.disallowMultiple),tt=a.menu,et=t("MainTemplateType",function(t){return t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB",t}({})),it=t("OtherTemplateType",function(t){return t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB",t[t.MAIN_ITEM_CHILD=2]="MAIN_ITEM_CHILD",t}({})),rt=t("MainLayoutData",(g=Q("MainLayoutData"),b=W({type:s,visible:function(){return!1}}),d=W({type:u(et)}),_=W({type:u(et)}),v=W(p),T=W({type:p,visible:function(){return this.templateType===et.PREFAB}}),g((P=e((w=function(){function t(){r(this,"content",P,this),r(this,"_templateType",I,this),r(this,"_templatePrefab",E,this),this._templateNode=null,this.editorCall=null}return t.prototype.resetMainItemChild=function(t){var e;void 0===t&&(t=!1);var i={};this.templateType===et.NODE&&this.templateNode?this.templateNode.children.forEach((function(t,e){i[t.name]=e})):this.templateType===et.PREFAB&&this.templatePrefab&&this.templatePrefab.data.children.forEach((function(t,e){i[t.name]=e})),null==(e=this.editorCall)||e.call(this,i,t)},i(t,[{key:"templateType",get:function(){return this._templateType},set:function(t){this._templateType!==t&&(this._templateType=t,this.resetMainItemChild(!0))}},{key:"templatePrefab",get:function(){return this._templatePrefab},set:function(t){this._templatePrefab!==t&&(this._templatePrefab=t,this.resetMainItemChild(!0))}},{key:"templateNode",get:function(){return this._templateNode},set:function(t){this._templateNode!==t&&(this._templateNode=t,this.resetMainItemChild(!0))}}]),t}()).prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(w.prototype,"_templateType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.PREFAB}}),e(w.prototype,"templateType",[_],Object.getOwnPropertyDescriptor(w.prototype,"templateType"),w.prototype),E=e(w.prototype,"_templatePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(w.prototype,"templatePrefab",[T],Object.getOwnPropertyDescriptor(w.prototype,"templatePrefab"),w.prototype),A=w))||A)),nt=t("OtherLayoutData",(z=Q("OtherLayoutData"),N=W({type:s}),D=W({type:u(it)}),C=W({type:p,visible:function(){return this.templateType===it.PREFAB}}),V=W({type:s,visible:function(){return this.templateType===it.NODE}}),L=W({type:u({}),visible:function(){return this.templateType===it.MAIN_ITEM_CHILD}}),z((F=e((O=function(){r(this,"content",F,this),r(this,"templateType",R,this),r(this,"templatePrefab",B,this),r(this,"templateNode",S,this),r(this,"templateChild",k,this)}).prototype,"content",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(O.prototype,"templateType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return it.PREFAB}}),B=e(O.prototype,"templatePrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(O.prototype,"templateNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(O.prototype,"templateChild",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),M=O))||M));t("default",(x=Z(c),H=tt("Framework/UI组件/VirtualList"),j=W({type:rt,tooltip:"列表主容器"}),U=W({type:nt,tooltip:"列表副容器\n需要分层显示时使用，一般用于降低draw call"}),q=W({tooltip:"元素节点大小是否一致\n大小不一致时必须提供calcItemSize接口，且暂不支持grid排版"}),Q(X=$(X=x(X=H((G=e((Y=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,r(e,"main",G,o(e)),r(e,"others",J,o(e)),r(e,"isFixedSize",K,o(e)),e._scrollView=null,e._layout=null,e._argsArr=[],e._calcItemSize=null,e}n(e,t);var l=e.prototype;return l.onLoad=function(){this.layout&&this.layout.onInit(this)},l.scrollItemToView=function(t,e,i,r,n){void 0===e&&(e=h()),void 0===i&&(i=h()),void 0===r&&(r=0),void 0===n&&(n=!0),this.scrollView.scrollToOffset(this.layout.getScrollOffset(t,e,i),r,n)},l.scrollToTop=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0),this.scrollView.scrollToTop(t,e)},l.scrollToBottom=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0),this.scrollView.scrollToBottom(t,e)},l.scrollToLeft=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0),this.scrollView.scrollToLeft(t,e)},l.scrollToRight=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0),this.scrollView.scrollToRight(t,e)},l.setCalcItemSize=function(t){this._calcItemSize=t},l.forceUpdate=function(){this.layout.forceUpdate()},l.refreshAllItems=function(){this.layout.refreshAllItems()},l.reset=function(t,e){y.inRange(0,this._argsArr.length-1,t)&&(this._argsArr[t]=e,this.layout.rearrange())},l.push=function(t){var e=this._argsArr.push(t);return this.layout.rearrange(!1),e},l.pop=function(){var t=this._argsArr.pop();return this.layout.rearrange(),t},l.unshift=function(t){var e=this._argsArr.unshift(t);return this.layout.rearrange(),e},l.shift=function(){var t=this._argsArr.shift();return this.layout.rearrange(),t},l.splice=function(t,e){var i;if(void 0===e)i=this._argsArr.splice(t);else{for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var l;if(void 0===n||0===n.length)i=this._argsArr.splice(t,e);else i=(l=this._argsArr).splice.apply(l,[t,e].concat(n))}return this.layout.rearrange(),i},l.sort=function(t){var e=this._argsArr.sort(t);return this.layout.rearrange(),e},l.filter=function(t){return this._argsArr=this._argsArr.filter(t),this.layout.rearrange(),this._argsArr},i(e,[{key:"scrollView",get:function(){return this._scrollView||(this._scrollView=this.getComponent(c)),this._scrollView}},{key:"layout",get:function(){return this._layout||(this._layout=this.scrollView.content.getComponent(m)),this._layout}},{key:"argsArr",get:function(){return this._argsArr},set:function(t){this._argsArr=t,this.layout.rearrange()}},{key:"calcItemSize",get:function(){return this._calcItemSize}}]),e}(f)).prototype,"main",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new rt}}),J=e(Y.prototype,"others",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(Y.prototype,"isFixedSize",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=Y))||X)||X)||X)||X));l._RF.pop()}}}));

System.register("chunks:///_virtual/VortexTraverser.ts",["cc"],(function(r){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"56893pRz+tANIHQS3nj8P8g","VortexTraverser",void 0);r("VortexTraverser",function(){function r(r,e){this.n=r,this.m=e,this.n=r,this.m=e}var e=r.prototype;return e.traverseClockwise=function(){return this._traverseOuter(!0)},e.traverseCounterClockwise=function(){return this._traverseOuter(!1)},e.traverseFromCenterClockwise=function(){return this._traverseFromCenter(!0)},e.traverseFromCenterCounterClockwise=function(){return this._traverseFromCenter(!1)},e._traverseOuter=function(r){for(var e=[],t=0,s=this.n-1,o=0,n=this.m-1;t<=s&&o<=n;)r?this._traverseLayerClockwise(t,s,o,n,e):this._traverseLayerCounterClockwise(t,s,o,n,e),t++,s--,o++,n--;return e},e._traverseFromCenter=function(r){var e=[],t=Math.floor((this.n-1)/2),s=Math.floor((this.m-1)/2);e.push([t,s]);for(var o=1;;){var n=t-o,a=t+o,i=s-o,u=s+o;if(n<0||a>=this.n||i<0||u>=this.m)break;r?this._traverseLayerClockwiseFromCenter(n,a,i,u,e):this._traverseLayerCounterClockwiseFromCenter(n,a,i,u,e),o++}return e},e._traverseLayerClockwiseFromCenter=function(r,e,t,s,o){for(var n=t+1;n<=s;n++)o.push([r,n]);for(var a=r+1;a<=e;a++)o.push([a,s]);if(r<e)for(var i=s-1;i>=t;i--)o.push([e,i]);if(t<s)for(var u=e-1;u>=r;u--)o.push([u,t])},e._traverseLayerCounterClockwiseFromCenter=function(r,e,t,s,o){for(var n=r+1;n<=e;n++)o.push([n,t]);for(var a=t+1;a<=s;a++)o.push([e,a]);for(var i=e-1;i>=r;i--)o.push([i,s]);if(r<e)for(var u=s-1;u>=t;u--)o.push([r,u])},e._traverseLayerClockwise=function(r,e,t,s,o){for(var n=t;n<=s;n++)o.push([r,n]);for(var a=r+1;a<=e;a++)o.push([a,s]);if(r<e)for(var i=s-1;i>=t;i--)o.push([e,i]);if(t<s)for(var u=e-1;u>r;u--)o.push([u,t])},e._traverseLayerCounterClockwise=function(r,e,t,s,o){for(var n=r;n<=e;n++)o.push([n,t]);for(var a=t+1;a<=s;a++)o.push([e,a]);if(r<e)for(var i=e-1;i>=r;i--)o.push([i,s]);if(t<s)for(var u=s-1;u>t;u--)o.push([r,u])},r}());e._RF.pop()}}}));

System.register("chunks:///_virtual/WebSock.ts",["cc","./Logger.ts"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Logger}],execute:function(){e._RF.push({},"5036aWolqNOUqPAS7fPgrDH","WebSock",void 0);t("WebSock",function(){function t(){this._ws=null,this.onConnected=null,this.onClosed=null,this.onError=null,this.onMessage=null}var e=t.prototype;return e.connect=function(t){var e=this;if(this._ws&&this._ws.readyState===WebSocket.CONNECTING)return n.logNet("websocket connecting, dulicated ? wait for a moment..."),!1;this.close();var s=null;if(t.url)s=t.url;else{var o=t.ip,r=t.port;s=t.protocol+"://"+o+":"+r}return this._ws=new WebSocket(s),this._ws.binaryType=t.binaryType?t.binaryType:"arraybuffer",this._ws.onmessage=function(t){(0,e.onMessage)(t.data)},this._ws.onopen=this.onConnected,this._ws.onerror=this.onError,this._ws.onclose=this.onClosed,!0},e.send=function(t){return this._ws&&this._ws.readyState==WebSocket.OPEN?(this._ws.send(t),1):-1},e.close=function(t,e){var n;null==(n=this._ws)||n.close(t,e),this._ws=null},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/WebViewJsBridge.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"e2b3cCJB+dOPpPUCwS6BNKd","WebViewJsBridge",void 0),e("WebViewJsBridge",function(){function e(){this.callbacks=void 0,this.callbacks=new Map}e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance};var n=e.prototype;return n.dispatchEventToWebView=function(e,n){var t;return null!=(t=window)&&null!=(t=t.location)&&t.href?(window.location.href=encodeURI("tianlutec://cmd="+e+"&value="+encodeURIComponent(n)),!0):(console.log("dispatchEventToWebView fail"),!1)},n.addWebViewEventListener=function(e,n){this.callbacks.set(e,n),console.log("Callback registered for key: "+e)},n.invokeWebViewEvent=function(e,n){var t=this.callbacks.get(e);t?(console.log("Invoking callback for key: "+e),t(n)):console.warn("No callback registered for key: "+e)},n.dispatchWebViewEventListener=function(e){this.callbacks.has(e)?(this.callbacks.delete(e),console.log("Callback unregistered for key: "+e)):console.warn("No callback registered for key: "+e)},e}()).instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/WindmillIterator.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var e;i._RF.push({},"9dd6dNIVKRDd7++Mb7EE1fj","WindmillIterator",void 0),e=Symbol.iterator;t("WindmillIterator",function(){function t(t){this.size=void 0,this.center=void 0,this.currentIteration=void 0,this.iterations=void 0,this.isValidSize=void 0,this.isValidSize=t%2!=0,this.isValidSize||console.error("Size must be an odd number."),this.size=t,this.center=Math.floor(t/2),this.currentIteration=0,this.iterations=this.generateIterations()}var i=t.prototype;return i.generateIterations=function(){if(!this.isValidSize)return[];for(var t=Math.floor(this.size/2),i=[],e=t-1;e>=0;e--)i.push(e);i.push(0);for(var r=0;r>=-(t-1);r--)i.push(r);return console.log(i),i},i.generatePath=function(t,i,e,r){var n=[];if(!this.isValidSize)return n;if(r>0)for(var s=0;s<=r;s++){var a=t+e.row*s,o=i+e.col*s;a>=0&&a<this.size&&o>=0&&o<this.size&&n.push({row:a,col:o})}else if(r<0)for(var h=0;h<=-r;h++){var u=t+e.row*-h,l=i+e.col*-h;u>=0&&u<this.size&&l>=0&&l<this.size&&n.push({row:u,col:l})}else t>=0&&t<this.size&&i>=0&&i<this.size&&n.push({row:t,col:i});return n},i.generateDiagonalPath=function(){if(!this.isValidSize)return[];for(var t=[],i=0;i<this.size;i++)t.push.apply(t,this.generatePath(i,i,{row:0,col:1},this.iterations[i]));return t},i.generateVerticalPath=function(){if(!this.isValidSize)return[];for(var t=[],i=0;i<this.size;i++)t.push.apply(t,this.generatePath(i,this.center,{row:0,col:1},this.iterations[i]));return t},i.generateAntiDiagonalPath=function(){if(!this.isValidSize)return[];for(var t=[],i=0;i<this.size;i++)t.push.apply(t,this.generatePath(i,this.size-1-i,{row:1,col:0},this.iterations[i]));return t},i.generateHorizontalPath=function(){if(!this.isValidSize)return[];for(var t=[],i=0;i<this.size;i++)t.push.apply(t,this.generatePath(this.center,i,{row:-1,col:0},this.iterations[i]));return t},i.next=function(){var t=this;if(!this.isValidSize)return{value:[],done:!0};if(this.currentIteration>=4)return{done:!0};var i=[function(){return t.generateDiagonalPath()},function(){return t.generateVerticalPath()},function(){return t.generateAntiDiagonalPath()},function(){return t.generateHorizontalPath()}][this.currentIteration]();return this.currentIteration++,{value:i,done:!1}},i.setSize=function(t){this.isValidSize=t%2!=0,this.isValidSize||console.error("Size must be an odd number."),this.size=t,this.center=Math.floor(t/2),this.currentIteration=0,this.iterations=this.generateIterations()},i.runWindmill=function(t){this.setSize(t);var i=[];if(!this.isValidSize)return console.error("Cannot run windmill: size is invalid."),i;for(var e=0;e<4;e++){var r=this.next(),n=r.value;if(r.done)break;i.push(n)}return i},i[e]=function(){return this},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/WWNode.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"01b65JJFeNA6ob21dRhc+QE","WWNode",void 0);t("WWNode",(function(t,i){this.w=void 0,this.index=void 0,this.Pos=-1,this.auxIndex=-1,this.auxPos=-1,this.w=t,this.index=i}));i._RF.pop()}}}));

System.register("chunks:///_virtual/WXManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./G.ts","./Facade.ts","./RandomName.ts","./StringUtil.ts","./MiniGameManager.ts"],(function(e){var o,n,t,i,a,s,r,c,l,d,u,f;return{setters:[function(e){o=e.asyncToGenerator,n=e.regeneratorRuntime,t=e.createClass},function(e){i=e.cclegacy,a=e.sys,s=e.resources,r=e.Asset},function(e){c=e.default},function(e){l=e.default},function(e){d=e.default},function(e){u=e.StringUtil},function(e){f=e.MiniGameManager}],execute:function(){var h;i._RF.push({},"a4d09/p7HhPX7fsjH8g4RNI","WXManager",void 0);var g=e("WXManager",function(){function e(){this.app_id="wxbb998efcd7b0dfb2",this.ad_banner_id="adunit-64d55f82495fec1d",this.ad_inter_id="adunit-3e889a9a21c90ec2",this.ad_video_id="adunit-fc615ecff3915673",this.tmplIds="or1RYt-jlwln9KzG1S09Zc75Nq3y9Va2eR4tJNowv7A",this.ad_banner=null,this.ad_video=null,this.gameName="右脑挑战",this.videoBack=void 0,this.errorBack=void 0}var i=e.prototype;return i.loadAllAd=function(){a.platform==a.Platform.WECHAT_GAME&&(this.initVideoAd(),this.addShareMenu())},i.initVideoAd=function(){var e=this;this.ad_video=wx.createRewardedVideoAd({adUnitId:this.ad_video_id}),this.ad_video.load().then((function(){console.log("视频广告加载完成!")})).catch((function(e){console.log("视频加载失败:"+e.errMsg)})),this.ad_video.onError((function(o){e.errorVideo(),console.log("视频出错:"+o)})),this.ad_video.onClose((function(o){o&&o.isEnded||void 0===o?(console.log("正常播放结束，可以下发游戏奖励"),e.finishVideo()):(e.errorVideo(!0),console.log("播放中途退出，不下发游戏奖励"))}))},i.initBanner=function(){var e=wx.createBannerAd({adUnitId:this.ad_banner_id,style:{left:0,top:0,width:720}});e.onResize((function(o){var n=wx.getSystemInfoSync(),t=n.screenWidth/2,i=n.screenHeight;e.style.left=t-e.style.realWidth/2+.1,e.style.top=i-e.style.realHeight+.1,e.style.width=.8*n.screenWidth,console.log("bannerAd加载成功")})),e.onError((function(e){console.log(e)})),this.ad_banner=e},i.showBanner=function(){a.platform==a.Platform.WECHAT_GAME&&(this.ad_banner||this.initBanner(),this.ad_banner.show())},i.hideBanner=function(){a.platform==a.Platform.WECHAT_GAME&&this.ad_banner&&this.ad_banner.hide()},i.showIntersAd=function(){if(a.platform==a.Platform.WECHAT_GAME){wx.createInterstitialAd({adUnitId:this.ad_inter_id}).show().catch((function(e){console.error(e)})),console.log("showIntersAd")}},i.showVideoAd=function(e,o){var n=this;a.platform==a.Platform.WECHAT_GAME&&(this.videoBack=null,this.errorBack=null,e&&(this.videoBack=e),o&&(this.errorBack=o),this.ad_video||this.initVideoAd(),this.ad_video.show().then((function(){console.log("广告显示成功")})).catch((function(e){n.errorVideo(),console.log("广告组件出现问题",e),n.ad_video.load().then((function(){console.log("手动加载成功"),n.ad_video.show()}))})))},i.finishVideo=function(){this.videoBack&&this.videoBack(),this.videoBack=null,this.errorBack=null},i.errorVideo=function(e){void 0===e&&(e=!1),this.errorBack&&this.errorBack(e),this.videoBack=null,this.errorBack=null},i.shareFriends=function(e,o){void 0===o&&(o="share"),a.platform==a.Platform.WECHAT_GAME&&(e=e||"你能认识几个字~~",s.load(o,r,(function(o,n){wx.shareAppMessage({title:e,imageUrl:n.nativeUrl,imageUrlId:"",success:function(e){console.log("分享成功:",e)},fail:function(e){wx.showToast({title:"分享失败",icon:"none",duration:1500})}})})))},i.addShareMenu=function(e,o){var n=this;void 0===o&&(o="share"),a.platform==a.Platform.WECHAT_GAME&&(wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),s.load(o,r,(function(e,o){wx.onShareAppMessage((function(){return{title:n.gameName,imageUrl:o.nativeUrl}}))})))},i.toMoreGame=function(){a.platform==a.Platform.WECHAT_GAME&&wx.navigateToMiniProgram({appId:"wxda02fde13d108205",path:"page/index/index?id=123",extraData:{foo:"bar"},envVersion:"develop",success:function(e){}})},i.addTable=function(){},i.isAddTable=function(){},i.Login=function(){if(a.platform==a.Platform.WECHAT_GAME){var e=this;wx.login({success:function(o){console.log("登录成功",o.code),o.code?e.GetUserInfo(o.code):(console.log("登录失败！code为空"+o.errMsg),e.setGuestAccount())},fail:function(o){console.log("登录失败！",o.errMsg),e.setGuestAccount()}})}},i.setGuestAccount=function(){console.log("使用游客账户");var e="";if(e=f.getStorage("_tianlu_dveid_",!1),console.log("设备id:",e),e){c.leader.roleData.userid=e;var o=c.leader.GetRoleDataStorage();if(o)return c.leader.roleData=o,void(1==c.leader.roleData.isFirstOpen&&(c.leader.roleData.isFirstOpen=!1,l.OpenUI("SelectUI")));var n=d.getRandomName();c.leader.Setup(e,"avatars/ui_tx_tupian_tx21",n)}else{e=u.uuid();var t=d.getRandomName();f.setStorage("_tianlu_dveid_",!1),c.leader.Setup(e,"avatars/ui_tx_tupian_tx21",t)}},i.GetUserInfo=function(e){var o=this;wx.getUserProfile({desc:"用于完善排行榜资料",success:function(n){console.log("getUserInfo 调用成功",n.userInfo),o.sendCodeToBackend(e,n.userInfo.avatarUrl,n.userInfo.nickName)},fail:function(e){console.log("授权失败",e.errMsg),o.setGuestAccount()}})},i.sendCodeToBackend=function(e,o,n){c.server.GetUserOpenid(e,(function(e){console.log("getopenid:",e);var t=JSON.parse(e.data);c.leader.Setup(t.openid,o,n)}))},i.setClipboard=function(e){wx.setClipboardData({data:e,success:function(e){console.log("setClipboardData调用成功")},fail:function(e){console.log("setClipboardData调用失败")}})},i.vibrateLong=function(){wx.vibrateLong({success:function(e){console.log(e)},fail:function(e){console.log("vibrateLong调用失败")}})},i.vibrateShort=function(){wx.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort调用失败")}})},i.messageSubscription=function(){wx.requestSubscribeSystemMessage({msgTypeList:["SYS_MSG_TYPE_INTERACTIVE","SYS_MSG_TYPE_RANK"],success:function(e){console.log(e)},fail:function(e){console.log(e)},complete:function(e){console.log(e)}})},i.downLoadFile=function(e){wx.downloadFile({url:c.gameCfg.cdnUrl+"/wechat_minigame/HelloAline/remote",success:function(e){return o(n().mark((function o(){return n().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:console.log("状态码:"+e.statusCode),e.statusCode;case 2:case"end":return o.stop()}}),o)})))()},fail:function(e){console.log("downloadFile调用失败")}}).onProgressUpdate((function(o){console.log("进度:"+o.progress),e&&e(o.progress)}))},t(e,null,[{key:"_ins",get:function(){return this._instance}}]),e}());h=g,g._instance=new h,i._RF.pop()}}}));

System.register("chunks:///_virtual/ZJManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tips.ts","./G.ts","./Facade.ts","./StringUtil.ts","./MiniGameManager.ts"],(function(e){var o,t,n,i,a,s,r,c,l,d;return{setters:[function(e){o=e.asyncToGenerator,t=e.regeneratorRuntime,n=e.createClass},function(e){i=e.cclegacy,a=e.sys},function(e){s=e.Tips},function(e){r=e.default},function(e){c=e.default},function(e){l=e.StringUtil},function(e){d=e.MiniGameManager}],execute:function(){var u;i._RF.push({},"3683d9iACJNi7PKDGl0KASY","ZJManager",void 0);var f=e("ZJManager",function(){function e(){this.app_id="tt2c6e5ad3b3598ab902",this.ad_inter_id="2mrqugugp7e9f29c36",this.ad_video_id="3676takvhnr91pk795",this.ad_banner_id="5qmmte1agjm5fjd50r",this.tmplIds=["MSG1903451137157386947371541924111"],this.recorder=null,this.videoPath=null,this.videoTimer=null,this.ad_banner=null,this.ad_video=null,this.videoBack=void 0,this.errorBack=void 0}var i=e.prototype;return i.loadAllAd=function(){a.platform==a.Platform.BYTEDANCE_MINI_GAME&&(tt.init({appid:this.app_id,debug:!0,auto_show:!0}),this.initVideoAd())},i.initVideoAd=function(){this.ad_video=tt.createRewardedVideoAd({adUnitId:this.ad_video_id}),this.ad_video.onLoad((function(){console.log("视频广告加载完成!")})),this.ad_video.load()},i.initBanner=function(){var e=tt.getSystemInfoSync(),o={left:e.screenWidth,top:e.screenHeight,width:e.screenWidth};this.ad_banner=tt.createBannerAd({adUnitId:this.ad_banner_id,adIntervals:20,style:o})},i.showBanner=function(){var e=this;a.platform==a.Platform.BYTEDANCE_MINI_GAME&&(this.ad_banner||this.initBanner(),this.ad_banner.show&&this.ad_banner.show(),this.ad_banner.onLoad((function(){e.ad_banner.show().then((function(){console.log("广告显示成功")})).catch((function(o){console.log("广告组件出现问题",o),e.ad_banner=null}))})))},i.hideBanner=function(){a.platform==a.Platform.BYTEDANCE_MINI_GAME&&this.ad_banner&&this.ad_banner.hide()},i.showIntersAd=function(){if(a.platform==a.Platform.BYTEDANCE_MINI_GAME){var e=tt.createInterstitialAd({adUnitId:this.ad_inter_id});e.load().then((function(){e.show().then((function(){console.log("插屏广告展示成功")}))})).catch((function(e){console.log(e)})),console.log("showIntersAd")}},i.showVideoAd=function(e,o){var t=this;a.platform==a.Platform.BYTEDANCE_MINI_GAME&&(this.videoBack=null,this.errorBack=null,e&&(this.videoBack=e),o&&(this.errorBack=o),this.ad_video||this.initVideoAd(),this.ad_video.show().then((function(){console.log("广告显示成功")})).catch((function(e){t.errorVideo(),console.log("广告组件出现问题",e),t.ad_video.load().then((function(){console.log("手动加载成功"),t.ad_video.show()}))})),this.ad_video.onClose((function(e){e.isEnded?(console.log("获取奖励"),t.finishVideo()):(console.log("没有观看完毕--"),t.errorVideo(!0)),e.count})))},i.finishVideo=function(){this.videoBack&&this.videoBack(),this.videoBack=null,this.errorBack=null},i.errorVideo=function(e){void 0===e&&(e=!1),this.errorBack&&this.errorBack(e),this.videoBack=null,this.errorBack=null},i.createVideoScreen=function(){if(a.platform==a.Platform.BYTEDANCE_MINI_GAME){null!==this.videoTimer&&(clearTimeout(this.videoTimer),this.videoTimer=null);var e=this;this.recorder=tt.getGameRecorderManager(),this.recorder.onStart((function(e){console.log("开始录屏:",e)})),this.recorder.onError((function(e){console.log("录屏错误:",e)})),this.recorder.start({duration:30}),this.videoTimer=setTimeout((function(){e.stopVideoScreen()}),3e4)}},i.stopVideoScreen=function(){if(a.platform==a.Platform.BYTEDANCE_MINI_GAME){null!==this.videoTimer&&(clearTimeout(this.videoTimer),this.videoTimer=null);var e=this;console.log(this.recorder),this.recorder&&this.recorder.stop&&(this.recorder.onStop((function(o){console.log("停止录屏:",o.videoPath),e.videoPath=o.videoPath})),this.recorder.stop())}},i.shareScreenVideo=function(e,o){if(a.platform==a.Platform.BYTEDANCE_MINI_GAME){e=e||["汉字迷津"],o=o||"你能认识几个字~~";tt.shareAppMessage({channel:"video",title:o,imageUrl:"",query:"",extra:{videoPath:this.videoPath,videoTopics:e},success:function(){console.log("分享视频成功")},fail:function(e){console.log("分享视频失败"+e)}}),console.log("shareScreenVideo")}},i.addMoreGame=function(){},i.hideMoreGame=function(){a.platform==a.Platform.BYTEDANCE_MINI_GAME&&tt.hideGridGamePanel()},i.addTable=function(){a.platform==a.Platform.BYTEDANCE_MINI_GAME&&tt.addShortcut({success:function(e){console.log("添加桌面成功！"+e)},fail:function(e){console.log("添加桌面失败！"+e),s.instance.ShowTips(10147)}})},i.isAddTable=function(){a.platform==a.Platform.BYTEDANCE_MINI_GAME&&tt.checkShortcut({success:function(e){console.log(e.status),e.status.exist&&console.log("已经添加桌面了")},fail:function(e){}})},i.onShow=function(){console.log("启动监听"),tt.onShow((function(e){console.log("启动参数：",e.query),console.log("来源信息：",e.refererInfo),console.log("场景值：",e.scene),console.log("启动场景字段：",e.launch_from,", ",e.location)}))},i.checkScence=function(e,o){tt.checkScene({scene:"sidebar",success:e,fail:o})},i.openSidebar=function(){tt.navigateToScene({scene:"sidebar",fail:console.log,success:console.log})},i.login=function(){if(a.platform==a.Platform.BYTEDANCE_MINI_GAME){var e=this;tt.login({force:!1,success:function(o){o.code?e.getUserInfo(o.code):(console.log("登录失败！code为空"+o.errMsg),e.setGuestAccount())},fail:function(o){console.log("登录失败",o.errMsg),e.setGuestAccount()}})}},i.getUserInfo=function(e){var o=this;tt.getUserInfo({withCredentials:!0,success:function(t){console.log("getUserInfo 调用成功",t.userInfo),o.sendCodeToBackend(e,t.userInfo.avatarUrl,t.userInfo.nickName)},fail:function(e){console.log("getUserInfo 调用失败",e.errMsg),o.setGuestAccount()}})},i.setGuestAccount=function(){var e="";if(e=d.getStorage("_tianlu_dveid_",!1),console.log("设备id:",e),e){r.leader.roleData.userid=e;var o=r.leader.GetRoleDataStorage();if(o)return r.leader.roleData=o,void(1==r.leader.roleData.isFirstOpen&&(r.leader.roleData.isFirstOpen=!1,c.OpenUI("SelectUI")));r.leader.Setup(e,"avatars/ui_tx_tupian_tx21","Donnie")}else{e=l.uuid();d.setStorage("_tianlu_dveid_",e,!1),r.leader.Setup(e,"avatars/ui_tx_tupian_tx21","Donnie")}},i.sendCodeToBackend=function(e,o,t){r.server.GetUserOpenid(e,(function(e){console.log("getopenid:",e);var n=JSON.parse(e.data);r.leader.Setup(n.openid,o,t)}))},i.messageSubscription=function(){tt.requestSubscribeMessage({tmplIds:this.tmplIds,complete:function(e){tt.showModal({title:"订阅完成",content:JSON.stringify(e)})}})},i.setClipboard=function(e){tt.setClipboardData({data:e,success:function(e){console.log("setClipboardData调用成功")},fail:function(e){console.log("setClipboardData调用失败")}})},i.vibrateLong=function(){tt.vibrateLong({success:function(e){console.log(e)},fail:function(e){console.log("vibrateLong调用失败")}})},i.vibrateShort=function(){tt.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort调用失败")}})},i.shareFriends=function(){tt.shareAppMessage({templateId:"",query:"",success:function(){console.log("分享成功")},fail:function(e){console.log("分享失败")}})},i.getRankFrend=function(){tt.getImRankData({relationType:"friend",dataType:0,rankType:"all",pageNum:1,pageSize:40,zoneId:"default",success:function(e){console.log("getImRankData success res: "+e)},fail:function(e){console.log("getImRankData fail res: "+e.errMsg)}})},i.setRankData=function(){tt.setImRankData({dataType:0,value:"999999",priority:0,extra:"extra",success:function(e){console.log("setImRankData success res: "+e)},fail:function(e){console.log("setImRankData fail res: "+e.errMsg)}})},i.downLoadFile=function(e){tt.downloadFile({url:r.gameCfg.cdnUrl+"/bytedance_minigame/HelloAline/remote",success:function(e){return o(t().mark((function o(){return t().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:console.log("状态码:"+e.statusCode),e.statusCode;case 2:case"end":return o.stop()}}),o)})))()},fail:function(e){console.log("downloadFile调用失败")}}).onProgressUpdate((function(o){console.log("进度:"+o.progress),e&&e(o.progress)}))},n(e,null,[{key:"_ins",get:function(){return this._instance}}]),e}());u=f,f._instance=new u,i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});